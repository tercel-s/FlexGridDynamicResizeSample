(self.webpackChunkflex_grid_dynamic_resize_sample=self.webpackChunkflex_grid_dynamic_resize_sample||[]).push([[179],{255:Io=>{function Fr(cn){return Promise.resolve().then(()=>{var rr=new Error("Cannot find module '"+cn+"'");throw rr.code="MODULE_NOT_FOUND",rr})}Fr.keys=()=>[],Fr.resolve=Fr,Fr.id=255,Io.exports=Fr},15:()=>{var Io;!function(Fr){window.wijmo||(window.wijmo=Fr);var cn={Globalize:{name:"ja",displayName:"Japanese",numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:0,symbol:"\xa5",pattern:["-$n","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],daysAbbr:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],monthsAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],am:["\u5348\u524d","\u5348\u524d"],pm:["\u5348\u5f8c","\u5348\u5f8c"],eras:[{name:"\u4ee4\u548c",symbol:"R",start:new Date(2019,4,1)},{name:"\u5e73\u6210",symbol:"H",start:new Date(1989,0,8)},{name:"\u662d\u548c",symbol:"S",start:new Date(1926,11,25)},{name:"\u5927\u6b63",symbol:"T",start:new Date(1912,6,30)},{name:"\u660e\u6cbb",symbol:"M",start:new Date(1868,8,8)}],patterns:{d:"yyyy/MM/dd",D:'yyyy"\u5e74"M"\u6708"d"\u65e5"',f:'yyyy"\u5e74"M"\u6708"d"\u65e5" H:mm',F:'yyyy"\u5e74"M"\u6708"d"\u65e5" H:mm:ss',t:"H:mm",T:"H:mm:ss",m:'M"\u6708"d"\u65e5"',M:'M"\u6708"d"\u65e5"',y:'yyyy"\u5e74"M"\u6708"',Y:'yyyy"\u5e74"M"\u6708"',g:"yyyy/MM/dd H:mm",G:"yyyy/MM/dd H:mm:ss",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss'},fiscalYearOffsets:[3,0]}},Licensing:{cls:"\u9589\u3058\u308b",ctc:'\u5f0a\u793e\u307e\u3067\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044: <a href="mailto:sales@grapecity.com">sales@grapecity.com</a>.',dmn:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bWijmo\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u73fe\u5728\u306e\u30c9\u30e1\u30a4\u30f3\u3067\u7121\u52b9\u3067\u3059\u3002\u3053\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f<b>{licDomain}</b>\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u3066\u3044\u307e\u3059\u3002\u73fe\u5728\u306e\u30c9\u30e1\u30a4\u30f3\u306f <b>{domain}</b>\u3067\u3059\u3002",evl:"Wijmo \u30c8\u30e9\u30a4\u30a2\u30eb\u7248({version})",exp:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bWijmo\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u6709\u52b9\u671f\u9650\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f\u3002\u6709\u52b9\u671f\u9650\u65e5\u306f<b>{expDate:d}</b>\u3067\u3059\u3002",hdr:"Wijmo\u30e9\u30a4\u30bb\u30f3\u30b9",lic:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bWijmo\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u7121\u52b9\u3067\u3059\u3002",mss:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bWijmo\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002",prd:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bWijmo\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f<b>{control}</b>\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3067\u7121\u52b9\u3067\u3059\u3002",ver:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u4f7f\u7528\u3057\u3066\u3044\u308bWijmo\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u3054\u5229\u7528\u4e2d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u7121\u52b9\u3067\u3059\u3002\u3053\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f<b>{licVer}</b>\u3067\u3059\u304c\u3001\u3054\u5229\u7528\u4e2d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f<b>{version}</b>\u3067\u3059\u3002"},Calendar:{ariaLabels:{calendar:"\u30ab\u30ec\u30f3\u30c0\u30fc",monthView:"\u6708\u30d3\u30e5\u30fc",yearView:"\u5e74\u30d3\u30e5\u30fc",prvMo:"\u5148\u6708",today:"\u4eca\u65e5",nxtMo:"\u6765\u6708",prvYr:"\u524d\u306e\u5e74",currMo:"\u73fe\u5728\u306e\u6708",nxtYr:"\u6765\u5e74"}},DropDown:{ariaLabels:{tgl:"\u30c8\u30b0\u30eb \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3"}},FlexGrid:{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} \u9805\u76ee)",ariaLabels:{toggleDropDown:"\u30c8\u30b0\u30eb \u30c9\u30ed\u30c3\u30d7\u30c0\u30a6\u30f3",toggleGroup:"\u30b0\u30eb\u30fc\u30d7\u3092\u5207\u308a\u66ff\u3048\u308b"}},FlexGridDetailProvider:{ariaLabels:{toggleDetail:"\u30c8\u30b0\u30eb\u884c\u8a73\u7d30"}},FlexGridFilter:{ariaLabels:{edit:"\u5217\u306e\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u7de8\u96c6\u3057\u307e\u3059\u3002",dialog:"\u5217\u306e\u30d5\u30a3\u30eb\u30bf\u30fc \u30a8\u30c7\u30a3\u30bf\u30fc",asc:"\u6607\u9806\u306e\u4e26\u3079\u66ff\u3048\u5217",dsc:"\u964d\u9806\u306e\u4e26\u3079\u66ff\u3048\u5217",search:"\u691c\u7d22\u9805\u76ee\u4e00\u89a7",op1:"\u6700\u521d\u306e\u6761\u4ef6\u6f14\u7b97\u5b50",val1:"\u6700\u521d\u306e\u6761\u4ef6\u306e\u5024",and:"\u4e21\u65b9\u306e\u6761\u4ef6\u304c\u5fc5\u8981",or:"\u3044\u305a\u308c\u304b\u306e\u6761\u4ef6\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002",op2:"2 \u756a\u76ee\u306e\u6761\u4ef6\u6f14\u7b97\u5b50",val2:"2 \u756a\u76ee\u306e\u6761\u4ef6\u5024"},ascending:"\u2191 \u6607\u9806",descending:"\u2193 \u964d\u9806",apply:"\u9069\u7528",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",clear:"\u30af\u30ea\u30a2",conditions:"\u6761\u4ef6\u30d5\u30a3\u30eb\u30bf",values:"\u5024\u30d5\u30a3\u30eb\u30bf",search:"\u691c\u7d22",selectAll:"\u3059\u3079\u3066\u9078\u629e",null:"(\u306a\u3057)",header:"\u62bd\u51fa\u6761\u4ef6\u306e\u6307\u5b9a",and:"AND",or:"OR",stringOperators:[{name:"(\u8a2d\u5b9a\u3057\u306a\u3044)",op:null},{name:"\u6307\u5b9a\u306e\u5024\u306b\u7b49\u3057\u3044",op:0},{name:"\u6307\u5b9a\u306e\u5024\u306b\u7b49\u3057\u304f\u306a\u3044",op:1},{name:"\u6307\u5b9a\u306e\u5024\u3067\u59cb\u307e\u308b",op:6},{name:"\u6307\u5b9a\u306e\u5024\u3067\u7d42\u308f\u308b",op:7},{name:"\u6307\u5b9a\u306e\u5024\u3092\u542b\u3080",op:8},{name:"\u6307\u5b9a\u306e\u5024\u3092\u542b\u307e\u306a\u3044",op:9}],numberOperators:[{name:"(\u8a2d\u5b9a\u3057\u306a\u3044)",op:null},{name:"\u6307\u5b9a\u306e\u5024\u306b\u7b49\u3057\u3044",op:0},{name:"\u6307\u5b9a\u306e\u5024\u306b\u7b49\u3057\u304f\u306a\u3044",op:1},{name:"\u6307\u5b9a\u306e\u5024\u3088\u308a\u5927\u304d\u3044",op:2},{name:"\u6307\u5b9a\u306e\u5024\u4ee5\u4e0a",op:3},{name:"\u6307\u5b9a\u306e\u5024\u3088\u308a\u5c0f\u3055\u3044",op:4},{name:"\u6307\u5b9a\u306e\u5024\u4ee5\u4e0b",op:5}],dateOperators:[{name:"(\u8a2d\u5b9a\u3057\u306a\u3044)",op:null},{name:"\u6307\u5b9a\u306e\u5024\u306b\u7b49\u3057\u3044",op:0},{name:"\u6307\u5b9a\u306e\u5024\u3088\u308a\u524d",op:4},{name:"\u6307\u5b9a\u306e\u5024\u3088\u308a\u5f8c",op:2}],booleanOperators:[{name:"(\u8a2d\u5b9a\u3057\u306a\u3044)",op:null},{name:"\u6307\u5b9a\u306e\u5024\u306b\u7b49\u3057\u3044",op:0},{name:"\u6307\u5b9a\u306e\u5024\u306b\u7b49\u3057\u304f\u306a\u3044",op:1}]},GroupPanel:{dragDrop:"\u3053\u3053\u306b\u5217\u3092\u30c9\u30e9\u30c3\u30b0&\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u3001\u30b0\u30eb\u30fc\u30d7\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"},InputDateTime:{ariaLabels:{tglDate:"\u30c8\u30b0\u30eb \u30ab\u30ec\u30f3\u30c0\u30fc",tglTime:"\u5207\u308a\u66ff\u3048\u306e\u6642\u9593\u306e\u30ea\u30b9\u30c8"}},InputNumber:{ariaLabels:{incVal:"\u5024\u3092\u5897\u52a0\u3055\u305b\u308b",decVal:"\u6e1b\u5c11\u5024"}},MultiSelect:{itemsSelected:"{count:n0} \u500b\u306e\u9805\u76ee\u3092\u9078\u629e\u4e2d"},MultiSelectListBox:{filterPlaceholder:"\u30d5\u30a3\u30eb\u30bf\u30fc",selectAll:"\u3059\u3079\u3066\u9078\u629e"},olap:{PivotFieldEditor:{dialogHeader:"\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8a2d\u5b9a:",header:"\u30d8\u30c3\u30c0\u30fc:",summary:"\u96c6\u8a08\u65b9\u6cd5:",showAs:"\u8a08\u7b97\u306e\u7a2e\u985e:",weighBy:"\u57fa\u6e96\u30d5\u30a3\u30fc\u30eb\u30c9:",sort:"\u4e26\u3079\u66ff\u3048:",filter:"\u30d5\u30a3\u30eb\u30bf\u30fc:",format:"\u8868\u793a\u5f62\u5f0f:",sample:"\u30b5\u30f3\u30d7\u30eb:",edit:"\u7de8\u96c6\u2026",clear:"\u30af\u30ea\u30a2",ok:"OK",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",none:"(\u306a\u3057)",sorts:{asc:"\u6607\u9806",desc:"\u964d\u9806"},aggs:{sum:"\u5408\u8a08",cnt:"\u500b\u6570",avg:"\u5e73\u5747",max:"\u6700\u5927\u5024",min:"\u6700\u5c0f\u5024",rng:"\u7bc4\u56f2",std:"\u6a19\u672c\u6a19\u6e96\u504f\u5dee",var:"\u6a19\u672c\u5206\u6563",stdp:"\u6a19\u6e96\u504f\u5dee",varp:"\u5206\u6563",first:"\u7b2c 1",last:"\u6700\u5f8c"},calcs:{noCalc:"\u8a08\u7b97\u306a\u3057",dRow:"\u524d\u306e\u884c\u3068\u306e\u5dee\u5206",dRowPct:"\u524d\u306e\u884c\u3068\u306e\u5dee\u5206\u306e\u6bd4\u7387",dCol:"\u524d\u306e\u5217\u3068\u306e\u5dee\u5206",dColPct:"\u524d\u306e\u5217\u3068\u306e\u5dee\u5206\u306e\u6bd4\u7387",dPctGrand:"\u7dcf\u5408\u8a08\u306e %",dPctRow:"\u884c\u306e\u5408\u8a08\u306e %",dPrevRow:"\u524d\u306e\u884c\u3068\u306e\u6bd4\u7387",dPctCol:"\u5217\u306e\u5408\u8a08\u306e %",dPrevCol:"\u524d\u306e\u5217\u3068\u306e\u6bd4\u7387",dRunTot:"\u5b9f\u884c\u4e2d\u306e\u5408\u8a08",dRunTotPct:"\u7a4d\u7b97\u5408\u8a08\u306e %"},formats:{n0:"\u6574\u6570 (n0)",n2:"\u5c0f\u6570 (n2)",c:"\u901a\u8ca8 (c)",p0:"\u30d1\u30fc\u30bb\u30f3\u30c6\u30fc\u30b8 (p0)",p2:"\u30d1\u30fc\u30bb\u30f3\u30c6\u30fc\u30b8 (p2)",n2c:"\u5343 (n2,)",n2cc:"100\u4e07 (n2,,)",n2ccc:"10\u5104 (n2,,,)",d:"\u65e5\u4ed8 (d)",MMMMddyyyy:"\u6708 \u65e5 \u5e74 (MMMM dd, yyyy)",dMyy:"\u65e5 \u6708 \u5e74 (d/M/yy)",ddMyy:"\u65e5 \u6708 \u5e74 (dd/M/yy)",dMyyyy:"\u65e5 \u6708 \u5e74 (dd/M/yyyy)",MMMyyyy:"\u6708 \u5e74 (MMM yyyy)",MMMMyyyy:"\u6708 \u5e74 (MMMM yyyy)",yyyy:"\u5e74 (yyyy)",yyyyQq:'\u5e74 \u56db\u534a\u671f (yyyy "Q"q)',FYEEEEQU:'\u4f1a\u8a08\u5e74\u5ea6 \u56db\u534a\u671f ("FY"EEEE "Q"U)'}},PivotEngine:{grandTotal:"\u7dcf\u8a08",subTotal:"\u96c6\u8a08"},PivotPanel:{fields:"\u30ec\u30dd\u30fc\u30c8\u306b\u8ffd\u52a0\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e:",drag:"\u6b21\u306e\u30dc\u30c3\u30af\u30b9\u9593\u3067\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u30c9\u30e9\u30c3\u30b0:",filters:"\u30d5\u30a3\u30eb\u30bf\u30fc",cols:"\u5217",rows:"\u884c",vals:"\u5024",defer:"\u30ec\u30a4\u30a2\u30a6\u30c8\u306e\u66f4\u65b0\u3092\u4fdd\u7559",update:"\u66f4\u65b0"},_ListContextMenu:{up:"\u4e0a\u3078\u79fb\u52d5",down:"\u4e0b\u3078\u79fb\u52d5",first:"\u5148\u982d\u3078\u79fb\u52d5",last:"\u672b\u5c3e\u3078\u79fb\u52d5",filter:"\u30ec\u30dd\u30fc\u30c8\u30d5\u30a3\u30eb\u30bf\u30fc\u306b\u79fb\u52d5",rows:"\u884c\u30e9\u30d9\u30eb\u306b\u79fb\u52d5",cols:"\u5217\u30e9\u30d9\u30eb\u306b\u79fb\u52d5",vals:"\u5024\u306b\u79fb\u52d5",remove:"\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u524a\u9664",edit:"\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u8a2d\u5b9a\u2026",detail:"\u8a73\u7d30\u306e\u8868\u793a\u2026"},PivotChart:{by:":",and:"/"},DetailDialog:{header:"\u8a73\u7d30\u30d3\u30e5\u30fc:",ok:"OK",items:"{cnt:n0} \u9805\u76ee",item:"{cnt} \u9805\u76ee",row:"\u884c",col:"\u5217"},Slicer:{multiSelect:"\u8907\u6570\u9078\u629e",clearFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u30af\u30ea\u30a2\u3057\u307e\u3059\u3002"}},Viewer:{cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",ok:"OK",bottom:"\u4e0b:",top:"\u4e0a:",right:"\u53f3:",left:"\u5de6:",margins:"\u4f59\u767d (\u30a4\u30f3\u30c1)",orientation:"\u5411\u304d:",paperKind:"\u7528\u7d19\u306e\u7a2e\u985e:",pageSetup:"\u30da\u30fc\u30b8\u8a2d\u5b9a",landscape:"\u6a2a",portrait:"\u7e26",pageNumber:"\u30da\u30fc\u30b8\u756a\u53f7",zoomFactor:"\u30ba\u30fc\u30e0\u8981\u7d20",paginated:"\u5370\u5237\u30ec\u30a4\u30a2\u30a6\u30c8",print:"\u5370\u5237",search:"\u691c\u7d22",matchCase:"\u5927\u6587\u5b57\u3068\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3059\u308b",wholeWord:"\u5358\u8a9e\u5358\u4f4d\u3067\u63a2\u3059",searchResults:"\u691c\u7d22\u7d50\u679c",previousPage:"\u524d\u306e\u30da\u30fc\u30b8",nextPage:"\u6b21\u306e\u30da\u30fc\u30b8",firstPage:"\u6700\u521d\u306e\u30da\u30fc\u30b8",lastPage:"\u6700\u5f8c\u306e\u30da\u30fc\u30b8",backwardHistory:"\u524d\u3078",forwardHistory:"\u9032\u3080",pageCount:"\u30da\u30fc\u30b8\u6570",selectTool:"\u30c4\u30fc\u30eb\u3092\u9078\u629e\u3057\u307e\u3059\u3002",moveTool:"\u79fb\u52d5\u30c4\u30fc\u30eb",continuousMode:"\u9023\u7d9a\u30da\u30fc\u30b8\u8868\u793a",singleMode:"1 \u3064\u306e\u30da\u30fc\u30b8 \u30d3\u30e5\u30fc",wholePage:"\u30da\u30fc\u30b8\u5168\u4f53",pageWidth:"\u30da\u30fc\u30b8\u5e45\u306b\u5408\u308f\u305b\u308b",zoomOut:"\u7e2e\u5c0f",zoomIn:"\u62e1\u5927",rubberbandTool:"\u9078\u629e\u306b\u3088\u308b\u30ba\u30fc\u30e0",magnifierTool:"\u62e1\u5927\u93e1",rotatePage:"\u30da\u30fc\u30b8\u3092\u56de\u8ee2",rotateDocument:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u56de\u8ee2",exports:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",fullScreen:"\u5168\u753b\u9762\u8868\u793a",exitFullScreen:"\u5168\u753b\u9762\u8868\u793a\u306e\u7d42\u4e86",hamburgerMenu:"\u30c4\u30fc\u30eb",showSearchBar:"\u691c\u7d22\u30d0\u30fc\u3092\u8868\u793a\u3059\u308b",viewMenu:"\u30ec\u30a4\u30a2\u30a6\u30c8 \u30aa\u30d7\u30b7\u30e7\u30f3",searchOptions:"\u691c\u7d22\u30aa\u30d7\u30b7\u30e7\u30f3",matchCaseMenuItem:"\u5927\u6587\u5b57\u3068\u5c0f\u6587\u5b57\u3092\u533a\u5225\u3059\u308b",wholeWordMenuItem:"\u4e00\u81f4\u3059\u308b\u5358\u8a9e",thumbnails:"\u30da\u30fc\u30b8\u306e\u30b5\u30e0\u30cd\u30a4\u30eb",outlines:"\u898b\u51fa\u3057\u30de\u30c3\u30d7",loading:"\u8aad\u307f\u8fbc\u3093\u3067\u3044\u307e\u3059\u2026",pdfExportName:"Adobe PDF",docxExportName:"Open XML \u30ef\u30fc\u30c9",xlsxExportName:"\u30aa\u30fc\u30d7\u30f3 XML Excel",docExportName:"Microsoft Word",xlsExportName:"Microsoft Excel",mhtmlExportName:"Web \u30a2\u30fc\u30ab\u30a4\u30d6 (MHTML)",htmlExportName:"HTML \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",rtfExportName:"Rtf \u5f62\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",metafileExportName:"\u5727\u7e2e\u3055\u308c\u305f\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb",csvExportName:"CSV",tiffExportName:"Tiff \u30a4\u30e1\u30fc\u30b8",bmpExportName:"BMP \u753b\u50cf",emfExportName:"\u62e1\u5f35\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb",gifExportName:"GIF \u753b\u50cf",jpgExportName:"JPEG \u753b\u50cf",jpegExportName:"JPEG \u753b\u50cf",pngExportName:"Png \u5f62\u5f0f\u306e\u753b\u50cf",abstractMethodException:"\u3053\u308c\u306f\u3001\u62bd\u8c61\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u305d\u308c\u3092\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002",cannotRenderPageNoViewPage:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u30bd\u30fc\u30b9\u306a\u3057\u30da\u30fc\u30b8\u3001\u30d3\u30e5\u30fc \u30da\u30fc\u30b8\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u307e\u305b\u3093\u3002",cannotRenderPageNoDoc:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u30bd\u30fc\u30b9\u306a\u3057\u30da\u30fc\u30b8\u3001\u30d3\u30e5\u30fc \u30da\u30fc\u30b8\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3067\u304d\u307e\u305b\u3093\u3002",exportFormat:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5f62\u5f0f:",exportOptionTitle:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8 \u30aa\u30d7\u30b7\u30e7\u30f3",documentRestrictionsGroup:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u5236\u9650",passwordSecurityGroup:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3",outputRangeGroup:"\u51fa\u529b\u7bc4\u56f2",documentInfoGroup:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u60c5\u5831",generalGroup:"\u6982\u8981",docInfoTitle:"\u8868\u984c",docInfoAuthor:"\u4f5c\u6210\u8005",docInfoManager:"\u7ba1\u7406\u8005",docInfoOperator:"\u6f14\u7b97\u5b50",docInfoCompany:"\u4f1a\u793e",docInfoSubject:"\u4ef6\u540d",docInfoComment:"\u5099\u8003",docInfoCreator:"\u4f5c\u6210\u8005",docInfoProducer:"\u30d7\u30ed\u30c7\u30e5\u30fc\u30b5\u30fc",docInfoCreationTime:"\u4f5c\u6210\u6642\u523b",docInfoRevisionTime:"\u30ea\u30d3\u30b8\u30e7\u30f3\u306e\u6642\u9593",docInfoKeywords:"\u30ad\u30fc\u30ef\u30fc\u30c9",embedFonts:"TrueType \u30d5\u30a9\u30f3\u30c8\u3092\u57cb\u3081\u8fbc\u3080",pdfACompatible:"PDF/A \u4e92\u63db\u6027\u306e\u3042\u308b (\u30ec\u30d9\u30eb 2 b)",useCompression:"\u5727\u7e2e\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002",useOutlines:"\u30a2\u30a6\u30c8\u30e9\u30a4\u30f3\u3092\u751f\u6210\u3057\u307e\u3059\u3002",allowCopyContent:"\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u30b3\u30d4\u30fc\u307e\u305f\u306f\u62bd\u51fa\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002",allowEditAnnotations:"\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u7de8\u96c6\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002",allowEditContent:"\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u7de8\u96c6\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002",allowPrint:"\u5370\u5237\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002",ownerPassword:"\u6a29\u9650 (\u6240\u6709\u8005) \u306e\u30d1\u30b9\u30ef\u30fc\u30c9:",userPassword:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u958b\u304f (\u30e6\u30fc\u30b6\u30fc) \u30d1\u30b9\u30ef\u30fc\u30c9:",encryptionType:"\u6697\u53f7\u5316\u306e\u30ec\u30d9\u30eb:",paged:"\u30da\u30fc\u30b8",showNavigator:"\u30ca\u30d3\u30b2\u30fc\u30bf\u306e\u8868\u793a",navigatorPosition:"\u30ca\u30d3\u30b2\u30fc\u30bf\u306e\u4f4d\u7f6e",singleFile:"1 \u3064\u306e\u30d5\u30a1\u30a4\u30eb",tolerance:"\u8a31\u5bb9\u7bc4\u56f2 (\u30dd\u30a4\u30f3\u30c8) \u306e\u30c6\u30ad\u30b9\u30c8\u306e\u5883\u754c\u3092\u691c\u51fa\u3059\u308b\u3068\u304d:",pictureLayer:"\u5225\u3005 \u306e\u753b\u50cf\u3092\u4f7f\u7528\u3057\u3066\u5c64",metafileType:"\u30e1\u30bf\u30d5\u30a1\u30a4\u30eb\u306e\u7a2e\u985e:",monochrome:"\u30e2\u30ce\u30af\u30ed",resolution:"\u89e3\u50cf\u5ea6:",outputRange:"\u30da\u30fc\u30b8\u7bc4\u56f2:",outputRangeInverted:"\u53cd\u8ee2",showZoomBar:"\u30ba\u30fc\u30e0\u30d0\u30fc",searchPrev:"\u524d\u3092\u691c\u7d22",searchNext:"\u6b21\u3092\u691c\u7d22",checkMark:"\u2713",exportOk:"\u30a8\u30af\u30b9\u30dd\u30fc\u30c8.",cannotSearch:"\u691c\u7d22\u3059\u308b\u306b\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30bd\u30fc\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002",parameters:"\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc",requiringParameters:"\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",nullParameterError:"\u5024\u3092 null \u306b\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002",invalidParameterError:"\u5165\u529b\u304c\u7121\u52b9\u3067\u3059\u3002",parameterNoneItemsSelected:"(\u4e0b\u7dda\u306a\u3057)",parameterAllItemsSelected:"(\u3059\u3079\u3066)",parameterSelectAllItemText:"(\u3059\u3079\u3066\u306e\u9078\u629e)",selectParameterValue:"(\u5024\u3092\u9078\u629e)",apply:"\u9069\u7528",errorOccured:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002"},FlexSheet:{insertRow:"\u884c\u633f\u5165",deleteRow:"\u884c\u524a\u9664",insertCol:"\u5217\u306e\u633f\u5165",deleteCol:"\u5217\u306e\u524a\u9664",convertTable:"\u8868\u306e\u5909\u63db",copyCells:"\u30bb\u30eb\u306e\u30b3\u30d4\u30fc",fillSeries:"\u9023\u7d9a\u30c7\u30fc\u30bf",fillFormat:"\u66f8\u5f0f\u306e\u307f\u30b3\u30d4\u30fc (\u30d5\u30a3\u30eb)",fillWithoutFormat:"\u66f8\u5f0f\u306a\u3057\u30b3\u30d4\u30fc (\u30d5\u30a3\u30eb)",insertSheet:"\u633f\u5165",deleteSheet:"\u524a\u9664",renameSheet:"\u540d\u524d\u306e\u5909\u66f4"},FlexChartAnalytics:{BreakEven:{profitArea:"\u5229\u76ca",lossArea:"\u640d\u5931",safetyMargin:"\u5b89\u5168\u30de\u30fc\u30b8\u30f3",salesRevenue:"\u58f2\u4e0a\u9ad8",totalCost:"\u7dcf\u8cbb\u7528",fixedCost:"\u56fa\u5b9a\u8cbb",variableCost:"\u5909\u52d5\u8cbb",marginalProfit:"\u9650\u754c\u5229\u76ca",breakEven:"\u640d\u76ca\u5206\u5c90\u70b9"}}},rr=window.wijmo._updateCulture;rr?rr(cn):window.wijmo.culture=cn}(Io||(Io={}))},879:(Io,Fr,cn)=>{"use strict";var rr={};cn.r(rr),cn.d(rr,{Aggregate:()=>Et,ArrayBase:()=>wu,Binding:()=>mn,CancelEventArgs:()=>ft,Clipboard:()=>Fy,CollectionView:()=>Ji,CollectionViewGroup:()=>Mr,Color:()=>ii,Control:()=>R,ControlBase:()=>AT,DataType:()=>We,DateTime:()=>K,Event:()=>x,EventArgs:()=>Qo,Globalize:()=>Ce,GroupDescription:()=>Ey,Key:()=>E,NotifyCollectionChangedAction:()=>Ft,NotifyCollectionChangedEventArgs:()=>Ki,ObservableArray:()=>Qi,PageChangingEventArgs:()=>wT,Point:()=>ti,PopupPosition:()=>Zi,PrintDocument:()=>f8,PropertyChangedEventArgs:()=>XW,PropertyGroupDescription:()=>Dy,Rect:()=>ni,RequestErrorEventArgs:()=>e8,Size:()=>Yi,SortDescription:()=>bo,SortNulls:()=>xr,Tooltip:()=>af,TooltipEventArgs:()=>OT,_ClickRepeater:()=>Bs,_Map:()=>TT,_MaskElement:()=>bu,_MaskProvider:()=>Ml,_addCultureInfo:()=>Eo,_deprecated:()=>Zh,_focusSrv:()=>Cy,_getActiveElement:()=>ST,_getCalculatedArray:()=>vT,_getModule:()=>rf,_getTargetObject:()=>bT,_registerModule:()=>xl,_startDrag:()=>_T,_updateCulture:()=>c8,_updateWme:()=>kT,addClass:()=>ze,animate:()=>Iy,asArray:()=>Sn,asBoolean:()=>M,asCollectionView:()=>yu,asDate:()=>Si,asEnum:()=>Xe,asFunction:()=>Mt,asInt:()=>Ct,asNumber:()=>N,asString:()=>k,asType:()=>ot,assert:()=>J,changeType:()=>js,clamp:()=>qe,closest:()=>te,closestClass:()=>di,contains:()=>oe,controlBaseClass:()=>Oy,copy:()=>wo,createElement:()=>Je,culture:()=>ve,disableAutoComplete:()=>tf,enable:()=>xn,escapeHtml:()=>Dr,escapeRegExp:()=>vu,evalTemplate:()=>DT,format:()=>Sl,getActiveElement:()=>Oe,getAggregate:()=>of,getElement:()=>Co,getElementRect:()=>nf,getEventOptions:()=>Qh,getType:()=>Vs,getTypes:()=>CT,getUniqueId:()=>xy,getVersion:()=>Sy,glbz:()=>ET,hasClass:()=>st,hasItems:()=>Yt,hidePopup:()=>Tr,httpRequest:()=>Ay,isArray:()=>Kt,isBoolean:()=>_n,isDate:()=>yt,isEdge:()=>$W,isEmpty:()=>r8,isFirefox:()=>Ls,isFunction:()=>Pe,isIE:()=>ht,isIE10:()=>fT,isIE9:()=>vo,isInt:()=>Jh,isMobile:()=>cT,isNullOrWhiteSpace:()=>i8,isNumber:()=>Be,isObject:()=>On,isPrimitive:()=>_u,isSafari:()=>wl,isString:()=>le,isUndefined:()=>Jo,isiOS:()=>uT,mouseToPage:()=>Dl,moveFocus:()=>Zo,removeChild:()=>Tt,removeClass:()=>ei,saveFile:()=>s8,setAriaLabel:()=>at,setAttribute:()=>F,setChecked:()=>Hs,setCss:()=>G,setLicenseKey:()=>n8,setSelectionRange:()=>xe,setText:()=>Ut,showPopup:()=>xi,supportsFocusOptions:()=>mT,toFixed:()=>My,toHeaderCase:()=>Xh,toPlainText:()=>Sr,toggleClass:()=>ge,tryCast:()=>Di});var Cp={};cn.r(Cp),cn.d(Cp,{AutoComplete:()=>QT,Calendar:()=>KT,ClickAction:()=>Xo,CollectionViewNavigator:()=>U8,ColorPicker:()=>WT,ComboBox:()=>Do,DateSelectionMode:()=>hi,DropDown:()=>Us,FormatItemEventArgs:()=>Hy,InputColor:()=>W8,InputDate:()=>lf,InputDateRange:()=>$8,InputDateTime:()=>YT,InputMask:()=>z8,InputNumber:()=>$T,InputTime:()=>cf,ListBox:()=>zs,Menu:()=>K8,MultiAutoComplete:()=>Y8,MultiSelect:()=>q8,MultiSelectListBox:()=>qT,Popup:()=>G8,PopupBoundsChangingEventArgs:()=>By,PopupTrigger:()=>Jt,ShowMonthPicker:()=>Al});var zu={};cn.r(zu),cn.d(zu,{AllowDragging:()=>Xr,AllowMerging:()=>Pl,AllowPinning:()=>Xi,AllowResizing:()=>Rr,AllowSorting:()=>So,AutoSizeMode:()=>xo,CellEditEndingEventArgs:()=>uf,CellFactory:()=>St,CellRange:()=>$,CellRangeEventArgs:()=>et,CellType:()=>Y,ClipStringOptions:()=>Zr,Column:()=>on,ColumnCollection:()=>hf,ColumnGroup:()=>Gs,ColumnGroupCollection:()=>$s,DataMap:()=>Cu,DataMapEditor:()=>fi,FlexGrid:()=>Ti,FormatItemEventArgs:()=>ZT,GridPanel:()=>pi,GroupRow:()=>Dt,HeadersVisibility:()=>sn,HitTestInfo:()=>Du,KeyAction:()=>es,MergeManager:()=>Gy,Row:()=>Ar,RowCol:()=>df,RowColCollection:()=>zy,RowColFlags:()=>be,RowCollection:()=>Eu,SelMove:()=>Jr,SelectedState:()=>Rl,SelectionMode:()=>Ke,_AddNewHandler:()=>tI,_ColumnGroupHandler:()=>eI,_CustomEditor:()=>sI,_EditHandler:()=>oI,_ImeHandler:()=>Uy,_KeyboardHandler:()=>aI,_MouseHandler:()=>cI,_NewRowTemplate:()=>Nt,_SelectionHandler:()=>XT,softInput:()=>ff});var Ep={};cn.r(Ep),cn.d(Ep,{DirectiveCellFactoryBase:()=>_A,GridCellTemplateType:()=>pt,softGridDetail:()=>If,softInput:()=>vv});var Dp={};function Kl(n){return"function"==typeof n}cn.r(Dp),cn.d(Dp,{ColumnFilter:()=>Sv,ColumnFilterEditor:()=>SA,ConditionFilter:()=>Ev,ConditionFilterEditor:()=>EA,FilterCondition:()=>kf,FilterType:()=>It,FlexGridFilter:()=>Of,Operator:()=>At,ValueFilter:()=>Dv,ValueFilterEditor:()=>DA});let Sp=!1;const or={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Sp&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Sp=n},get useDeprecatedSynchronousErrorHandling(){return Sp}};function sa(n){setTimeout(()=>{throw n},0)}const Uu={closed:!0,next(n){},error(n){if(or.useDeprecatedSynchronousErrorHandling)throw n;sa(n)},complete(){}},aa=Array.isArray||(n=>n&&"number"==typeof n.length);function xp(n){return null!==n&&"object"==typeof n}const Gu=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class ut{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof ut)e.remove(this);else if(null!==e)for(let s=0;s<e.length;++s)e[s].remove(this);if(Kl(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(s){t=s instanceof Gu?xb(s.errors):[s]}}if(aa(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(xp(l))try{l.unsubscribe()}catch(c){t=t||[],c instanceof Gu?t=t.concat(xb(c.errors)):t.push(c)}}}if(t)throw new Gu(t)}add(t){let e=t;if(!t)return ut.EMPTY;switch(typeof t){case"function":e=new ut(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof ut)){const o=e;e=new ut,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof ut){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function xb(n){return n.reduce((t,e)=>t.concat(e instanceof Gu?e.errors:e),[])}ut.EMPTY=((n=new ut).closed=!0,n);const $u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class lt extends ut{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Uu;break;case 1:if(!t){this.destination=Uu;break}if("object"==typeof t){t instanceof lt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Mb(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Mb(this,t,e,i)}}[$u](){return this}static create(t,e,i){const r=new lt(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Mb extends lt{constructor(t,e,i,r){super(),this._parentSubscriber=t;let o,s=this;Kl(e)?o=e:e&&(o=e.next,i=e.error,r=e.complete,e!==Uu&&(s=Object.create(e),Kl(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;or.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=or;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):sa(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;sa(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);or.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),or.useDeprecatedSynchronousErrorHandling)throw i;sa(i)}}__tryOrSetError(t,e,i){if(!or.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return or.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(sa(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Yl="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wu(n){return n}let Ne=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:o}=this,s=function(n,t,e){if(n){if(n instanceof lt)return n;if(n[$u])return n[$u]()}return n||t||e?new lt(n,t,e):new lt(Uu)}(e,i,r);if(s.add(o?o.call(s,this.source):this.source||or.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),or.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){or.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof lt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ib(i))((r,o)=>{let s;s=this.subscribe(a=>{try{e(a)}catch(l){o(l),s&&s.unsubscribe()}},o,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Yl](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?Wu:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=Ib(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Ib(n){if(n||(n=or.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const cs=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Ab extends ut{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Rb extends lt{constructor(t){super(t),this.destination=t}}let Ee=(()=>{class n extends Ne{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[$u](){return new Rb(this)}lift(e){const i=new Pb(this,this);return i.operator=e,i}next(e){if(this.closed)throw new cs;if(!this.isStopped){const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].next(e)}}error(e){if(this.closed)throw new cs;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new cs;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let o=0;o<i;o++)r[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new cs;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new cs;return this.hasError?(e.error(this.thrownError),ut.EMPTY):this.isStopped?(e.complete(),ut.EMPTY):(this.observers.push(e),new Ab(this,e))}asObservable(){const e=new Ne;return e.source=this,e}}return n.create=(t,e)=>new Pb(t,e),n})();class Pb extends Ee{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):ut.EMPTY}}function la(n){return n&&"function"==typeof n.schedule}function me(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new vP(n,t))}}class vP{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new bP(t,this.project,this.thisArg))}}class bP extends lt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Ob=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},qu="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",kb=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Fb(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Mp=n=>{if(n&&"function"==typeof n[Yl])return(n=>t=>{const e=n[Yl]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(kb(n))return Ob(n);if(Fb(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,sa),t))(n);if(n&&"function"==typeof n[qu])return(n=>t=>{const e=n[qu]();for(;;){let i;try{i=e.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${xp(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Tp(n,t){return new Ne(e=>{const i=new ut;let r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Ip(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Yl]}(n))return function(n,t){return new Ne(e=>{const i=new ut;return i.add(t.schedule(()=>{const r=n[Yl]();i.add(r.subscribe({next(o){i.add(t.schedule(()=>e.next(o)))},error(o){i.add(t.schedule(()=>e.error(o)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Fb(n))return function(n,t){return new Ne(e=>{const i=new ut;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(kb(n))return Tp(n,t);if(function(n){return n&&"function"==typeof n[qu]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ne(e=>{const i=new ut;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[qu](),i.add(t.schedule(function(){if(e.closed)return;let o,s;try{const a=r.next();o=a.value,s=a.done}catch(a){return void e.error(a)}s?e.complete():(e.next(o),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}function In(n,t){return t?Ip(n,t):n instanceof Ne?n:new Ne(Mp(n))}class Ql extends lt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Jl extends lt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Zl(n,t){if(t.closed)return;if(n instanceof Ne)return n.subscribe(t);let e;try{e=Mp(n)(t)}catch(i){t.error(i)}return e}function An(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(An((r,o)=>In(n(r,o)).pipe(me((s,a)=>t(r,s,o,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new AP(n,e)))}class AP{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new RP(t,this.project,this.concurrent))}}class RP extends Jl{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Ql(this),i=this.destination;i.add(e);const r=Zl(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Xl(n=Number.POSITIVE_INFINITY){return An(Wu,n)}function Ap(n,t){return t?Tp(n,t):new Ne(Ob(n))}function Nb(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return la(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Ne?n[0]:Xl(t)(Ap(n,e))}function Rp(){return function(t){return t.lift(new PP(t))}}class PP{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new OP(t,i),o=e.subscribe(r);return r.closed||(r.connection=i.connect()),o}}class OP extends lt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class Lb extends Ne{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new ut,t.add(this.source.subscribe(new FP(this.getSubject(),this))),t.closed&&(this._connection=null,t=ut.EMPTY)),t}refCount(){return Rp()(this)}}const kP=(()=>{const n=Lb.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class FP extends Rb{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function jP(){return new Ee}function Vb(){return n=>Rp()(function(n,t){return function(i){let r;r="function"==typeof n?n:function(){return n};const o=Object.create(i,kP);return o.source=i,o.subjectFactory=r,o}}(jP)(n))}function Ze(n){for(let t in n)if(n[t]===Ze)return t;throw Error("Could not find renamed property on target object.")}function Pp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Op(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const HP=Ze({__forward_ref__:Ze});function Le(n){return n.__forward_ref__=Le,n.toString=function(){return Me(this())},n}function X(n){return jb(n)?n():n}function jb(n){return"function"==typeof n&&n.hasOwnProperty(HP)&&n.__forward_ref__===Le}class us extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function Gn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}function Ku(n,t){const e=t?` in ${t}`:"";throw new us("201",`No provider for ${Gn(n)} found${e}`)}function _i(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Te(n){return{providers:n.providers||[],imports:n.imports||[]}}function no(n){return Hb(n,Yu)||Hb(n,zb)}function Hb(n,t){return n.hasOwnProperty(t)?n[t]:null}function Bb(n){return n&&(n.hasOwnProperty(Fp)||n.hasOwnProperty(qP))?n[Fp]:null}const Yu=Ze({\u0275prov:Ze}),Fp=Ze({\u0275inj:Ze}),zb=Ze({ngInjectableDef:Ze}),qP=Ze({ngInjectorDef:Ze});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let Np;function Ao(n){const t=Np;return Np=n,t}function Ub(n,t,e){const i=no(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ne.Optional?null:void 0!==t?t:void Ku(Me(n),"Injector")}function Ro(n){return{toString:n}.toString()}var Oi=(()=>((Oi=Oi||{})[Oi.OnPush=0]="OnPush",Oi[Oi.Default=1]="Default",Oi))(),Xt=(()=>((Xt=Xt||{})[Xt.Emulated=0]="Emulated",Xt[Xt.None=2]="None",Xt[Xt.ShadowDom=3]="ShadowDom",Xt))();const YP="undefined"!=typeof globalThis&&globalThis,QP="undefined"!=typeof window&&window,JP="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ZP="undefined"!=typeof global&&global,tt=YP||ZP||QP||JP,ca={},dt=[],Qu=Ze({\u0275cmp:Ze}),Lp=Ze({\u0275dir:Ze}),Vp=Ze({\u0275pipe:Ze}),Gb=Ze({\u0275mod:Ze}),XP=Ze({\u0275loc:Ze}),io=Ze({\u0275fac:Ze}),ec=Ze({__NG_ELEMENT_ID__:Ze});let eO=0;function nt(n){return Ro(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Oi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||dt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Xt.Emulated,id:"c",styles:n.styles||dt,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=eO++,i.inputs=Kb(n.inputs,e),i.outputs=Kb(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map($b):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Wb):null,i})}function $b(n){return $n(n)||function(n){return n[Lp]||null}(n)}function Wb(n){return function(n){return n[Vp]||null}(n)}const qb={};function ke(n){return Ro(()=>{const t={type:n.type,bootstrap:n.bootstrap||dt,declarations:n.declarations||dt,imports:n.imports||dt,exports:n.exports||dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(qb[n.id]=n.type),t})}function Kb(n,t){if(null==n)return ca;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const U=nt;function oi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function $n(n){return n[Qu]||null}function ki(n,t){const e=n[Gb]||null;if(!e&&!0===t)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return e}function Nr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ar(n){return Array.isArray(n)&&!0===n[1]}function Bp(n){return 0!=(8&n.flags)}function ed(n){return 2==(2&n.flags)}function td(n){return 1==(1&n.flags)}function lr(n){return null!==n.template}function aO(n){return 0!=(512&n[2])}function gs(n,t){return n.hasOwnProperty(io)?n[io]:null}class Qb{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Jb(n){return n.type.prototype.ngOnChanges&&(n.setInput=dO),uO}function uO(){const n=Xb(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===ca)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function dO(n,t,e,i){const r=Xb(n)||function(n,t){return n[Zb]=t}(n,{previous:ca,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new Qb(l&&l.currentValue,t,s===ca),n[i]=t}const Zb="__ngSimpleChanges__";function Xb(n){return n[Zb]||null}let Gp;function jt(n){return!!n.listen}const nw={createRenderer:(n,t)=>void 0!==Gp?Gp:"undefined"!=typeof document?document:void 0};function en(n){for(;Array.isArray(n);)n=n[0];return n}function Li(n,t){return en(t[n.index])}function Wp(n,t){return n.data[t]}function vi(n,t){const e=t[n];return Nr(e)?e:e[0]}function iw(n){return 4==(4&n[2])}function qp(n){return 128==(128&n[2])}function Oo(n,t){return null==t?null:n[t]}function rw(n){n[18]=0}function Kp(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const ue={lFrame:hw(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ow(){return ue.bindingsEnabled}function A(){return ue.lFrame.lView}function $e(){return ue.lFrame.tView}function Yp(n){return ue.lFrame.contextLView=n,n[8]}function un(){let n=sw();for(;null!==n&&64===n.type;)n=n.parent;return n}function sw(){return ue.lFrame.currentTNode}function Lr(n,t){const e=ue.lFrame;e.currentTNode=n,e.isParent=t}function Qp(){return ue.lFrame.isParent}function Jp(){ue.lFrame.isParent=!1}function id(){return ue.isInCheckNoChangesMode}function rd(n){ue.isInCheckNoChangesMode=n}function ga(){return ue.lFrame.bindingIndex++}function xO(n,t){const e=ue.lFrame;e.bindingIndex=e.bindingRootIndex=n,Zp(t)}function Zp(n){ue.lFrame.currentDirectiveIndex=n}function Xp(n){const t=ue.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function cw(){return ue.lFrame.currentQueryIndex}function eg(n){ue.lFrame.currentQueryIndex=n}function TO(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function uw(n,t,e){if(e&ne.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&ne.Host||(r=TO(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ue.lFrame=dw();return i.currentTNode=t,i.lView=n,!0}function od(n){const t=dw(),e=n[1];ue.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function dw(){const n=ue.lFrame,t=null===n?null:n.child;return null===t?hw(n):t}function hw(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function fw(){const n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pw=fw;function sd(){const n=fw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qn(){return ue.lFrame.selectedIndex}function ko(n){ue.lFrame.selectedIndex=n}function Ht(){const n=ue.lFrame;return Wp(n.tView,n.selectedIndex)}function ad(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function ld(n,t,e){gw(n,t,3,e)}function cd(n,t,e,i){(3&n[2])===e&&gw(n,t,e,i)}function tg(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function gw(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(LO(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function LO(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class oc{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function ud(n,t,e){const i=jt(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];ig(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function mw(n){return 3===n||4===n||6===n}function ig(n){return 64===n.charCodeAt(0)}function dd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||_w(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function _w(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function yw(n){return-1!==n}function ma(n){return 32767&n}function _a(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let rg=!0;function hd(n){const t=rg;return rg=n,t}let UO=0;function ac(n,t){const e=sg(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,og(i.data,n),og(t,null),og(i.blueprint,null));const r=fd(n,t),o=n.injectorIndex;if(yw(r)){const s=ma(r),a=_a(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function og(n,t){n.push(0,0,0,0,0,0,0,0,t)}function sg(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function fd(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function pd(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ec)&&(i=e[ec]),null==i&&(i=e[ec]=UO++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function ww(n,t,e){if(e&ne.Optional)return n;Ku(t,"NodeInjector")}function Cw(n,t,e,i){if(e&ne.Optional&&void 0===i&&(i=null),0==(e&(ne.Self|ne.Host))){const r=n[9],o=Ao(void 0);try{return r?r.get(t,i,e&ne.Optional):Ub(t,i,e&ne.Optional)}finally{Ao(o)}}return ww(i,t,e)}function Ew(n,t,e,i=ne.Default,r){if(null!==n){const o=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ec)?n[ec]:void 0;return"number"==typeof t?t>=0?255&t:WO:t}(e);if("function"==typeof o){if(!uw(t,n,i))return i&ne.Host?ww(r,e,i):Cw(t,e,i,r);try{const s=o(i);if(null!=s||i&ne.Optional)return s;Ku(e)}finally{pw()}}else if("number"==typeof o){let s=null,a=sg(n,t),l=-1,c=i&ne.Host?t[16][6]:null;for((-1===a||i&ne.SkipSelf)&&(l=-1===a?fd(n,t):t[a+8],-1!==l&&xw(i,!1)?(s=t[1],a=ma(l),t=_a(l,t)):a=-1);-1!==a;){const u=t[1];if(Sw(o,a,u.data)){const d=qO(a,t,e,s,i,c);if(d!==Dw)return d}l=t[a+8],-1!==l&&xw(i,t[1].data[a+8]===c)&&Sw(o,a,t)?(s=u,a=ma(l),t=_a(l,t)):a=-1}}}return Cw(t,e,i,r)}const Dw={};function WO(){return new ya(un(),A())}function qO(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=gd(a,s,e,null==i?ed(a)&&rg:i!=s&&0!=(3&a.type),r&ne.Host&&o===a);return null!==u?lc(t,s,u,a):Dw}function gd(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=s[l];if(f&&lr(f)&&f.type===e)return l}return null}function lc(n,t,e,i){let r=n[e];const o=t.data;if(function(n){return n instanceof oc}(r)){const s=r;s.resolving&&function(n,t){throw new us("200",`Circular dependency in DI detected for ${n}`)}(Gn(o[e]));const a=hd(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ao(s.injectImpl):null;uw(n,i,ne.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Jb(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Ao(l),hd(a),s.resolving=!1,pw()}}return r}function Sw(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function xw(n,t){return!(n&ne.Self||n&ne.Host&&t)}class ya{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ew(this._tNode,this._lView,t,void 0,e)}}function Ln(n){return Ro(()=>{const t=n.prototype.constructor,e=t[io]||ag(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[io]||ag(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ag(n){return jb(n)?()=>{const t=ag(X(n));return t&&t()}:gs(n)}function ms(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(mw(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(un(),n)}const ba="__parameters__";function _s(n,t,e){return Ro(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(ba)?l[ba]:Object.defineProperty(l,ba,{value:[]})[ba];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const JO=new q("AnalyzeForEntryComponents"),md=Function;function Vi(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Vi(i,t)):t!==n&&t.push(i)}return t}function jr(n,t){n.forEach(e=>Array.isArray(e)?jr(e,t):t(e))}function yd(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ys(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function No(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function bi(n,t,e){let i=Ca(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function cg(n,t){const e=Ca(n,t);if(e>=0)return n[1|e]}function Ca(n,t){return function(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const hc={},dg="__NG_DI_FLAG__",Ea="ngTempTokenPath",ak=/\n/gm,hg="__source",fg=Ze({provide:String,useValue:Ze});let fc;function Da(n){const t=fc;return fc=n,t}function ck(n,t=ne.Default){if(void 0===fc)throw new Error("inject() must be called from an injection context");return null===fc?Ub(n,void 0,t):fc.get(n,t&ne.Optional?null:void 0,t)}function C(n,t=ne.Default){return(Np||ck)(X(n),t)}const pg=C;function vs(n){const t=[];for(let e=0;e<n.length;e++){const i=X(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,o=ne.Default;for(let s=0;s<i.length;s++){const a=i[s],l=uk(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(C(r,o))}else t.push(C(i))}return t}function pc(n,t){return n[dg]=t,n.prototype[dg]=t,n}function uk(n){return n[dg]}function Pw(n,t,e,i){const r=n[Ea];throw t[hg]&&r.unshift(t[hg]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Me(t);if(Array.isArray(t))r=t.map(Me).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(ak,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Ea]=null,n}const mt=pc(_s("Inject",n=>({token:n})),-1),Rt=pc(_s("Optional"),8),ai=pc(_s("SkipSelf"),4);let Cd;function xa(n){var t;return(null===(t=function(){if(void 0===Cd&&(Cd=null,tt.trustedTypes))try{Cd=tt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Cd}())||void 0===t?void 0:t.createHTML(n))||n}class bs{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wk extends bs{getTypeName(){return"HTML"}}class Ck extends bs{getTypeName(){return"Style"}}class Ek extends bs{getTypeName(){return"Script"}}class Dk extends bs{getTypeName(){return"URL"}}class Sk extends bs{getTypeName(){return"ResourceURL"}}function wi(n){return n instanceof bs?n.changingThisBreaksApplicationSecurity:n}function Hr(n,t){const e=Hw(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Hw(n){return n instanceof bs&&n.getTypeName()||null}class Rk{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xa(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Pk{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xa(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=xa(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const kk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mc(n){return(n=String(n)).match(kk)||n.match(Fk)?n:"unsafe:"+n}function zw(n){return(n=String(n)).split(",").map(t=>mc(t.trim())).join(", ")}function Br(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function _c(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Uw=Br("area,br,col,hr,img,wbr"),Gw=Br("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$w=Br("rp,rt"),yg=_c(Uw,_c(Gw,Br("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_c($w,Br("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_c($w,Gw)),vg=Br("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bg=Br("srcset"),Ww=_c(vg,bg,Br("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Br("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Nk=Br("script,style,template");class Lk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!yg.hasOwnProperty(e))return this.sanitizedSomething=!0,!Nk.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Ww.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;vg[a]&&(l=mc(l)),bg[a]&&(l=zw(l)),this.buf.push(" ",s,'="',qw(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();yg.hasOwnProperty(e)&&!Uw.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qw(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Vk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jk=/([^\#-~ |!])/g;function qw(n){return n.replace(/&/g,"&amp;").replace(Vk,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(jk,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dd;function Kw(n,t){let e=null;try{Dd=Dd||function(n){const t=new Pk(n);return function(){try{return!!(new window.DOMParser).parseFromString(xa(""),"text/html")}catch(n){return!1}}()?new Rk(t):t}(n);let i=t?String(t):"";e=Dd.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Dd.getInertBodyElement(i)}while(i!==o);return xa((new Lk).sanitizeChildren(wg(e)||e))}finally{if(e){const i=wg(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function wg(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ye=(()=>((Ye=Ye||{})[Ye.NONE=0]="NONE",Ye[Ye.HTML=1]="HTML",Ye[Ye.STYLE=2]="STYLE",Ye[Ye.SCRIPT=3]="SCRIPT",Ye[Ye.URL=4]="URL",Ye[Ye.RESOURCE_URL=5]="RESOURCE_URL",Ye))();const Jw="__ngContext__";function Vn(n,t){n[Jw]=t}function Dg(n){const t=function(n){return n[Jw]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Sd(n){return n.ngOriginalError}function iF(n,...t){n.error(...t)}class cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),r=function(n){return n&&n.ngErrorLogger||iF}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Sd(t)):null}_findOriginalError(t){let e=t&&Sd(t);for(;e&&Sd(e);)e=Sd(e);return e||null}}const sC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(tt))();function zr(n){return n instanceof Function?n():n}var Ci=(()=>((Ci=Ci||{})[Ci.Important=1]="Important",Ci[Ci.DashCase=2]="DashCase",Ci))();function Mg(n,t){return undefined(n,t)}function bc(n){const t=n[3];return ar(t)?t[3]:t}function Tg(n){return dC(n[13])}function Ig(n){return dC(n[4])}function dC(n){for(;null!==n&&!ar(n);)n=n[4];return n}function Ta(n,t,e,i,r){if(null!=i){let o,s=!1;ar(i)?o=i:Nr(i)&&(s=!0,i=i[0]);const a=en(i);0===n&&null!==e?null==r?_C(t,e,a):ws(t,e,a,r||null,!0):1===n&&null!==e?ws(t,e,a,r||null,!0):2===n?function(n,t,e){const i=Md(n,t);i&&function(n,t,e,i){jt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function(n,t,e,i,r){const o=e[7];o!==en(e)&&Ta(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];wc(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function Rg(n,t,e){return jt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function fC(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Kp(r,-1)),e.splice(i,1)}function Pg(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&fC(r,i),t>0&&(n[e-1][4]=i[4]);const o=ys(n,10+t);!function(n,t){wc(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function pC(n,t){if(!(256&t[2])){const e=t[11];jt(e)&&e.destroyNode&&wc(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Og(n[1],n);for(;t;){let e=null;if(Nr(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Nr(t)&&Og(t[1],t),t=t[3];null===t&&(t=n),Nr(t)&&Og(t[1],t),e=t&&t[4]}t=e}}(t)}}function Og(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof oc)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):en(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&jt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&ar(t[3])){e!==t[3]&&fC(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function gC(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Xt.None||r===Xt.Emulated)return null}return Li(i,e)}(n,t.parent,e)}function ws(n,t,e,i,r){jt(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function _C(n,t,e){jt(n)?n.appendChild(t,e):t.appendChild(e)}function yC(n,t,e,i,r){null!==i?ws(n,t,e,i,r):_C(n,t,e)}function Md(n,t){return jt(n)?n.parentNode(t):t.parentNode}function vC(n,t,e){return wC(n,t,e)}let wC=function(n,t,e){return 40&n.type?Li(n,e):null};function Td(n,t,e,i){const r=gC(n,i,t),o=t[11],a=vC(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)yC(o,r,e[l],a,!1);else yC(o,r,e,a,!1)}function Id(n,t){if(null!==t){const e=t.type;if(3&e)return Li(t,n);if(4&e)return Fg(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Id(n,i);{const r=n[t.index];return ar(r)?Fg(-1,r):en(r)}}if(32&e)return Mg(t,n)()||en(n[t.index]);{const i=EC(n,t);return null!==i?Array.isArray(i)?i[0]:Id(bc(n[16]),i):Id(n,t.next)}}return null}function EC(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Fg(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Id(i,r)}return t[7]}function Ng(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Vn(en(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)Ng(n,t,e.child,i,r,o,!1),Ta(t,n,r,a,o);else if(32&l){const c=Mg(e,i);let u;for(;u=c();)Ta(t,n,r,u,o);Ta(t,n,r,a,o)}else 16&l?SC(n,t,i,e,r,o):Ta(t,n,r,a,o);e=s?e.projectionNext:e.next}}function wc(n,t,e,i,r,o){Ng(e,i,n.firstChild,t,r,o,!1)}function SC(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ta(t,n,r,l[c],o);else Ng(n,t,l,s[3],r,o,!0)}function xC(n,t,e){jt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Lg(n,t,e){jt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function MC(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const TC="ng-template";function IF(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==MC(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function IC(n){return 4===n.type&&n.value!==TC}function AF(n,t,e){return t===(4!==n.type||e?n.value:TC)}function RF(n,t,e){let i=4;const r=n.attrs||[],o=function(n){for(let t=0;t<n.length;t++)if(mw(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!AF(n,l,e)||""===l&&1===t.length){if(ur(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!IF(n.attrs,c,e)){if(ur(i))return!1;s=!0}continue}const d=PF(8&i?"class":l,r,IC(n),e);if(-1===d){if(ur(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==MC(f,c,0)||2&i&&c!==h){if(ur(i))return!1;s=!0}}}}else{if(!s&&!ur(i)&&!ur(l))return!1;if(s&&ur(l))continue;s=!1,i=l|1&i}}return ur(i)||s}function ur(n){return 0==(1&n)}function PF(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function AC(n,t,e=!1){for(let i=0;i<t.length;i++)if(RF(n,t[i],e))return!0;return!1}function NF(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function RC(n,t){return n?":not("+t.trim()+")":t}function LF(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ur(s)&&(t+=RC(o,r),r=""),i=s,o=o||!ur(i);e++}return""!==r&&(t+=RC(o,r)),t}const he={};function bn(n){PC($e(),A(),qn()+n,id())}function PC(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&ld(t,o,e)}else{const o=n.preOrderHooks;null!==o&&cd(t,o,0,e)}ko(e)}function Ad(n,t){return n<<17|t<<2}function dr(n){return n>>17&32767}function Vg(n){return 2|n}function oo(n){return(131068&n)>>2}function jg(n,t){return-131069&n|t<<2}function Hg(n){return 1|n}function zC(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];eg(r),s.contentQueries(2,t[o],o)}}}function Cc(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,rw(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function Ia(n,t,e,i,r){let o=n.data[t];if(null===o)o=function(n,t,e,i,r){const o=sw(),s=Qp(),l=n.data[t]=function(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),ue.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function(){const n=ue.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Lr(o,!0),o}function Aa(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ec(n,t,e){od(t);try{const i=n.viewQuery;null!==i&&nm(1,i,e);const r=n.template;null!==r&&UC(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&zC(n,t),n.staticViewQueries&&nm(2,n.viewQuery,e);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)mN(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,sd()}}function Ra(n,t,e,i){const r=t[2];if(256==(256&r))return;od(t);const o=id();try{rw(t),function(n){ue.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&UC(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&ld(t,c,null)}else{const c=n.preOrderHooks;null!==c&&cd(t,c,0,null),tg(t,0)}if(function(n){for(let t=Tg(n);null!==t;t=Ig(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&Kp(o,1),r[2]|=1024}}}(t),function(n){for(let t=Tg(n);null!==t;t=Ig(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];qp(i)&&Ra(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&zC(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&ld(t,c)}else{const c=n.contentHooks;null!==c&&cd(t,c,1),tg(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)ko(~r);else{const o=r,s=e[++i],a=e[++i];xO(s,o),a(2,t[o])}}}finally{ko(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)gN(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&nm(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&ld(t,c)}else{const c=n.viewHooks;null!==c&&cd(t,c,2),tg(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Kp(t[3],-1))}finally{sd()}}function QF(n,t,e,i){const r=t[10],o=!id(),s=iw(t);try{o&&!s&&r.begin&&r.begin(),s&&Ec(n,t,i),Ra(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function UC(n,t,e,i,r){const o=qn(),s=2&i;try{ko(-1),s&&t.length>20&&PC(n,t,20,id()),e(i,r)}finally{ko(o)}}function Kg(n,t,e){!ow()||(function(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||ac(e,t),Vn(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=lr(l);c&&uN(t,e,l);const u=lc(t,n,a,e);Vn(u,t),null!==s&&dN(0,a-r,u,l,0,s),c&&(vi(e.index,t)[8]=u)}}(n,t,e,Li(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=ue.lFrame.currentDirectiveIndex;try{ko(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];Zp(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ZC(c,u)}}finally{ko(-1),Zp(a)}}(n,t,e))}function Yg(n,t,e=Li){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function $C(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Od(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Od(n,t,e,i,r,o,s,a,l,c){const u=20+i,d=u+r,h=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:he);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function KC(n,t,e,i){const r=o0(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&s0(n).push(i,r.length-1))}function YC(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function Ei(n,t,e,i,r,o,s,a){const l=Li(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(c0(n,e,u,i,r),ed(t)&&function(n,t){const e=vi(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,jt(o)?o.setProperty(l,i,r):ig(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Qg(n,t,e,i){let r=!1;if(ow()){const o=function(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];AC(e,s.selectors,!1)&&(r||(r=[]),pd(ac(e,t),n,s.type),lr(s)?(XC(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,e0(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Aa(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=dd(e.mergedAttrs,d.hostAttrs),t0(n,e,t,c,d),cN(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===o||IC(t)?null:hN(d,o);s.push(h),a=YC(d,c,a),l=YC(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new us("301",`Export of name '${t[r+1]}' not found!`);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=dd(e.mergedAttrs,e.attrs),r}function JC(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function ZC(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function XC(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function cN(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;lr(t)&&(e[""]=n)}}function e0(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function t0(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=gs(r.type)),s=new oc(o,lr(r),null);n.blueprint[i]=s,e[i]=s,JC(n,t,0,i,Aa(n,e,r.hostVars,he),r)}function uN(n,t,e){const i=Li(t,n),r=$C(e),o=n[10],s=kd(n,Cc(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function Ur(n,t,e,i,r,o){const s=Li(n,t);!function(n,t,e,i,r,o,s){if(null==o)jt(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?_e(o):s(o,i||"",r);jt(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function dN(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function hN(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function n0(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function gN(n,t){const e=vi(t,n);if(qp(e)){const i=e[1];80&e[2]?Ra(i,e,i.template,e[8]):e[5]>0&&Zg(e)}}function Zg(n){for(let i=Tg(n);null!==i;i=Ig(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];Ra(s,o,s.template,o[8])}else o[5]>0&&Zg(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=vi(e[i],n);qp(r)&&r[5]>0&&Zg(r)}}function mN(n,t){const e=vi(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Ec(i,e,e[8])}function kd(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Xg(n){for(;n;){n[2]|=64;const t=bc(n);if(aO(n)&&!t)return n;n=t}return null}function tm(n,t,e){const i=t[10];i.begin&&i.begin();try{Ra(n,t,n.template,e)}catch(r){throw l0(t,r),r}finally{i.end&&i.end()}}function r0(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Dg(e),r=i[1];QF(r,i,r.template,e)}}(n[8])}function nm(n,t,e){eg(0),t(n,e)}const wN=(()=>Promise.resolve(null))();function o0(n){return n[7]||(n[7]=[])}function s0(n){return n.cleanup||(n.cleanup=[])}function a0(n,t,e){return(null===n||lr(n))&&(e=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function l0(n,t){const e=n[9],i=e?e.get(cr,null):null;i&&i.handleError(t)}function c0(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Fd(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Op(r,a):2==o&&(i=Op(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Pa=new q("INJECTOR",-1);class u0{get(t,e=hc){if(e===hc){const i=new Error(`NullInjectorError: No provider for ${Me(t)}!`);throw i.name="NullInjectorError",i}return e}}const Dc=new q("Set Injector scope."),Sc={},DN={};let im;function d0(){return void 0===im&&(im=new u0),im}function h0(n,t=null,e=null,i){return new xN(n,e,t||d0(),i)}class xN{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&jr(e,a=>this.processProvider(a,t,e)),jr([t],a=>this.processInjectorType(a,[],o)),this.records.set(Pa,Oa(void 0,this));const s=this.records.get(Dc);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:Me(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=hc,i=ne.Default){this.assertNotDestroyed();const r=Da(this),o=Ao(void 0);try{if(!(i&ne.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof q}(t)&&no(t);a=l&&this.injectableDefInScope(l)?Oa(rm(t),Sc):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ne.Self?d0():this.parent).get(t,e=i&ne.Optional&&e===hc?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Ea]=s[Ea]||[]).unshift(Me(t)),r)throw s;return Pw(s,t,"R3InjectorError",this.source)}throw s}finally{Ao(o),Da(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Me(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=X(t)))return!1;let r=Bb(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Bb(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{jr(r.imports,d=>{this.processInjectorType(d,e,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];jr(f,p=>this.processProvider(p,h,f||dt))}}this.injectorDefTypes.add(s);const l=gs(s)||(()=>new s);this.records.set(s,Oa(l,Sc));const c=r.providers;if(null!=c&&!a){const u=t;jr(c,d=>this.processProvider(d,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=ka(t=X(t))?t:X(t&&t.provide);const o=function(n,t,e){return p0(n)?Oa(void 0,n.useValue):Oa(f0(n),Sc)}(t);if(ka(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Oa(void 0,Sc,!0),s.factory=()=>vs(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===Sc&&(e.value=DN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=X(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function rm(n){const t=no(n),e=null!==t?t.factory:gs(n);if(null!==e)return e;if(n instanceof q)throw new Error(`Token ${Me(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=No(t,"?");throw new Error(`Can't resolve all parameters for ${Me(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[Yu]||n[zb]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function f0(n,t,e){let i;if(ka(n)){const r=X(n);return gs(r)||rm(r)}if(p0(n))i=()=>X(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...vs(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>C(X(n.useExisting));else{const r=X(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return gs(r)||rm(r);i=()=>new r(...vs(n.deps))}return i}function Oa(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function p0(n){return null!==n&&"object"==typeof n&&fg in n}function ka(n){return"function"==typeof n}const g0=function(n,t,e){return function(n,t=null,e=null,i){const r=h0(n,t,e,i);return r._resolveInjectorDefTypes(),r}({name:e},t,n,e)};class fe{static create(t,e){return Array.isArray(t)?g0(t,e,""):g0(t.providers,t.parent,t.name||"")}}function qN(n,t){ad(Dg(n)[1],un())}function we(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(lr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=um(n.inputs),s.declaredInputs=um(n.declaredInputs),s.outputs=um(n.outputs);const a=r.hostBindings;a&&JN(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&YN(n,l),c&&QN(n,c),Pp(n.inputs,r.inputs),Pp(n.declaredInputs,r.declaredInputs),Pp(n.outputs,r.outputs),lr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===we&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=dd(r.hostAttrs,e=dd(e,r.hostAttrs))}}(i)}function um(n){return n===ca?{}:n===dt?[]:n}function YN(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function QN(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function JN(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}fe.THROW_IF_NOT_FOUND=hc,fe.NULL=new u0,fe.\u0275prov=z({token:fe,providedIn:"any",factory:()=>C(Pa)}),fe.__NG_ELEMENT_ID__=-1;let Nd=null;function Fa(){if(!Nd){const n=tt.Symbol;if(n&&n.iterator)Nd=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Nd=i)}}}return Nd}class fr{constructor(t){this.wrapped=t}static wrap(t){return new fr(t)}static unwrap(t){return fr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof fr}}function Mc(n){return!!dm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fa()in n)}function dm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function jn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Wt(n,t,e,i){const r=A();return jn(r,ga(),t)&&($e(),Ur(Ht(),r,n,t,e,i)),Wt}function jo(n,t,e,i,r,o,s,a){const l=A(),c=$e(),u=n+20,d=c.firstCreatePass?function(n,t,e,i,r,o,s,a,l){const c=t.consts,u=Ia(t,n,4,s||null,Oo(c,a));Qg(t,e,u,Oo(c,l)),ad(t,u);const d=u.tViews=Od(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Lr(d,!1);const h=l[11].createComment("");Td(c,l,h,d),Vn(h,l),kd(l,l[u]=n0(h,l,h,d)),td(d)&&Kg(c,l,d),null!=s&&Yg(l,d,a)}function b(n,t=ne.Default){const e=A();return null===e?C(n,t):Ew(un(),e,X(n),t)}function Bt(n,t,e){const i=A();return jn(i,ga(),t)&&Ei($e(),Ht(),i,n,t,i[11],e,!1),Bt}function mm(n,t,e,i,r){const s=r?"class":"style";c0(n,e,t.inputs[s],s,i)}function Ve(n,t,e,i){const r=A(),o=$e(),s=20+n,a=r[11],l=r[s]=Rg(a,t,ue.lFrame.currentNamespace),c=o.firstCreatePass?function(n,t,e,i,r,o,s){const a=t.consts,c=Ia(t,n,2,r,Oo(a,o));return Qg(t,e,c,Oo(a,s)),null!==c.attrs&&Fd(c,c.attrs,!1),null!==c.mergedAttrs&&Fd(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];Lr(c,!0);const u=c.mergedAttrs;null!==u&&ud(a,l,u);const d=c.classes;null!==d&&Lg(a,l,d);const h=c.styles;null!==h&&xC(a,l,h),64!=(64&c.flags)&&Td(o,r,l,c),0===ue.lFrame.elementDepthCount&&Vn(l,r),ue.lFrame.elementDepthCount++,td(c)&&(Kg(o,r,c),function(n,t,e){if(Bp(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}(o,c,r)),null!==i&&Yg(r,c)}function je(){let n=un();Qp()?Jp():(n=n.parent,Lr(n,!1));const t=n;ue.lFrame.elementDepthCount--;const e=$e();e.firstCreatePass&&(ad(e,n),Bp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&mm(e,t,A(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&mm(e,t,A(),t.stylesWithoutHost,!1)}function wn(n,t,e,i){Ve(n,t,e,i),je()}function _m(){return A()}function Ic(n){return!!n&&"function"==typeof n.then}function nE(n){return!!n&&"function"==typeof n.subscribe}const jd=nE;function tn(n,t,e,i){const r=A(),o=$e(),s=un();return iE(o,r,r[11],s,n,t,!!e,i),tn}function ym(n,t){const e=un(),i=A(),r=$e();return iE(r,i,a0(Xp(r.data),e,i),e,n,t,!1),ym}function iE(n,t,e,i,r,o,s,a){const l=td(i),u=n.firstCreatePass&&s0(n),d=t[8],h=o0(t);let f=!0;if(3&i.type||a){const m=Li(i,t),y=a?a(m):m,_=h.length,v=a?w=>a(en(w[i.index])):i.index;if(jt(e)){let w=null;if(!a&&l&&(w=function(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,f=!1;else{o=vm(i,t,d,o,!1);const D=e.listen(y,r,o);h.push(o,D),u&&u.push(r,v,_,_+1)}}else o=vm(i,t,d,o,!0),y.addEventListener(r,o,s),h.push(o),u&&u.push(r,v,_,s)}else o=vm(i,t,d,o,!1);const p=i.outputs;let g;if(f&&null!==p&&(g=p[r])){const m=g.length;if(m)for(let y=0;y<m;y+=2){const T=t[g[y]][g[y+1]].subscribe(o),S=h.length;h.push(o,T),u&&u.push(r,i.index,S,-(S+1))}}}function rE(n,t,e,i){try{return!1!==e(i)}catch(r){return l0(n,r),!1}}function vm(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?vi(n.index,t):t;0==(32&t[2])&&Xg(a);let l=rE(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=rE(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Ho(n=1){return function(n){return(ue.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,ue.lFrame.contextLView))[8]}(n)}function PL(n,t){let e=null;const i=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?AC(n,o,!0):NF(i,o))return r}else e=r}return e}function Pt(n){const t=A()[16][6];if(!t.projection){const i=t.projection=No(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?PL(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Qe(n,t=0,e){const i=A(),r=$e(),o=Ia(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),Jp(),64!=(64&o.flags)&&function(n,t,e){SC(t[11],0,t,e,gC(n,e,t),vC(e.parent||t[6],e,t))}(r,i,o)}function pE(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?dr(o):oo(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];FL(n[a],t)&&(l=!0,n[a+1]=i?Hg(u):Vg(u)),a=i?dr(u):oo(u)}l&&(n[e+1]=i?Vg(o):Hg(o))}function FL(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ca(n,t)>=0}function qa(n,t,e){return pr(n,t,e,!1),qa}function wt(n,t){return pr(n,t,null,!0),wt}function pr(n,t,e,i){const r=A(),o=$e(),s=function(n){const t=ue.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);o.firstUpdatePass&&function(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[qn()],s=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function(n,t,e,i){const r=Xp(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Ac(e=wm(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=wm(r,n,t,e,i),null===o){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==oo(i))return n[dr(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=wm(null,n,t,l[1],i),l=Ac(l,t.attrs,i),function(n,t,e,i){n[dr(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Ac(i,n[o].hostAttrs,e);return Ac(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=dr(s),l=oo(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||Ca(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const h=dr(n[a+1]);n[i+1]=Ad(h,a),0!==h&&(n[h+1]=jg(n[h+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Ad(a,0),0!==a&&(n[a+1]=jg(n[a+1],i)),a=i;else n[i+1]=Ad(l,0),0===a?a=i:n[l+1]=jg(n[l+1],i),l=i;c&&(n[i+1]=Vg(n[i+1])),pE(n,u,i,!0),pE(n,u,i,!1),function(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Ca(o,t)>=0&&(e[i+1]=Hg(e[i+1]))}(t,u,n,i,o),s=Ad(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==he&&jn(r,s,t)&&function(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];Hd(function(n){return 1==(1&n)}(c)?SE(l,t,e,r,oo(c),s):void 0)||(Hd(o)||function(n){return 2==(2&n)}(c)&&(o=SE(l,null,e,r,a,s)),function(n,t,e,i,r){const o=jt(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:Ci.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=Ci.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,function(n,t){return en(t[n])}(qn(),e),r,o))}(o,o.data[qn()],r,r[11],n,r[s+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Me(wi(n)))),n}(t,e),i,s)}function wm(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Ac(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Ac(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bi(n,s,!!e||t[++o]))}return void 0===n?null:n}function SE(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===he&&(h=d?dt:void 0);let f=d?cg(h,i):u===i?h:void 0;if(c&&!Hd(f)&&(f=cg(l,i)),Hd(f)&&(a=f,s))return a;const p=n[r+1];r=s?dr(p):oo(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=cg(l,i))}return a}function Hd(n){return void 0!==n}function Ka(n,t=""){const e=A(),i=$e(),r=n+20,o=i.firstCreatePass?Ia(i,r,1,t,null):i.data[r],s=e[r]=function(n,t){return jt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Td(i,e,s,o),Lr(o,!1)}function Cm(n,t,e){const i=A();if(jn(i,ga(),t)){const o=$e(),s=Ht();Ei(o,s,i,n,t,a0(Xp(o.data),s,i),e,!0)}return Cm}const Es=void 0;var mV=["en",[["a","p"],["AM","PM"],Es],[["AM","PM"],Es,Es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Es,"{1} 'at' {0}",Es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Ya={};function WE(n){return n in Ya||(Ya[n]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[n]),Ya[n]}var H=(()=>((H=H||{})[H.LocaleId=0]="LocaleId",H[H.DayPeriodsFormat=1]="DayPeriodsFormat",H[H.DayPeriodsStandalone=2]="DayPeriodsStandalone",H[H.DaysFormat=3]="DaysFormat",H[H.DaysStandalone=4]="DaysStandalone",H[H.MonthsFormat=5]="MonthsFormat",H[H.MonthsStandalone=6]="MonthsStandalone",H[H.Eras=7]="Eras",H[H.FirstDayOfWeek=8]="FirstDayOfWeek",H[H.WeekendRange=9]="WeekendRange",H[H.DateFormat=10]="DateFormat",H[H.TimeFormat=11]="TimeFormat",H[H.DateTimeFormat=12]="DateTimeFormat",H[H.NumberSymbols=13]="NumberSymbols",H[H.NumberFormats=14]="NumberFormats",H[H.CurrencyCode=15]="CurrencyCode",H[H.CurrencySymbol=16]="CurrencySymbol",H[H.CurrencyName=17]="CurrencyName",H[H.Currencies=18]="Currencies",H[H.Directionality=19]="Directionality",H[H.PluralCase=20]="PluralCase",H[H.ExtraData=21]="ExtraData",H))();const zd="en-US";let qE=zd;function Em(n){_i(n,"Expected localeId to be defined"),"string"==typeof n&&(qE=n.toLowerCase().replace(/_/g,"-"))}function xm(n,t,e,i,r){if(n=X(n),Array.isArray(n))for(let o=0;o<n.length;o++)xm(n[o],t,e,i,r);else{const o=$e(),s=A();let a=ka(n)?n:X(n.provide),l=f0(n);const c=un(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ka(n)||!n.multi){const f=new oc(l,r,b),p=Tm(a,t,r?u:u+h,d);-1===p?(pd(ac(c,s),o,a),Mm(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=Tm(a,t,u+h,d),p=Tm(a,t,u,u+h),g=f>=0&&e[f],m=p>=0&&e[p];if(r&&!m||!r&&!g){pd(ac(c,s),o,a);const y=function(n,t,e,i,r){const o=new oc(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,_D(o,r,i&&!e),o}(r?fj:hj,e.length,r,i,l);!r&&m&&(e[p].providerFactory=y),Mm(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(y),s.push(y)}else Mm(o,n,f>-1?f:p,_D(e[r?p:f],l,!r&&i));!r&&i&&m&&e[p].componentProviders++}}}function Mm(n,t,e,i){const r=ka(t);if(r||function(n){return!!n.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const a=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const l=a.indexOf(e);-1===l?a.push(e,[i,s]):a[l+1].push(i,s)}else a.push(e,s)}}}function _D(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Tm(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function hj(n,t,e,i){return Im(this.multi,[])}function fj(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=lc(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),Im(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Im(r,o);return o}function Im(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ie(n,t=[]){return e=>{e.providersResolver=(i,r)=>function(n,t,e){const i=$e();if(i.firstCreatePass){const r=lr(n);xm(e,i.data,i.blueprint,r,!0),xm(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class yD{}const bD="ngComponent";class mj{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return t[bD]=n,t}(t)}}class Bo{}function qd(...n){}function Ja(n,t){return new re(Li(n,t))}Bo.NULL=new mj;const vj=function(){return Ja(un(),A())};let re=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=vj,n})();function wD(n){return n instanceof re?n.nativeElement:n}class Ds{}let Rm=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const CD=new zo("12.2.5");class ED{constructor(){}supports(t){return Mc(t)}create(t){return new Sj(t)}}const Dj=(n,t)=>t;class Sj{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Dj}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<SD(i,r,o)?e:i,a=SD(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Mc(t))throw new Error(`Error trying to diff '${Me(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Fa()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new xj(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new DD),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xj{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mj{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class DD{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Mj,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SD(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class xD{constructor(){}supports(t){return t instanceof Map||dm(t)}create(){return new Tj}}class Tj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||dm(t)))throw new Error(`Error trying to diff '${Me(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Ij(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Ij{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MD(){return new Za([new ED])}let Za=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||MD()),deps:[[n,new ai,new Rt]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:MD}),n})();function TD(){return new Xa([new xD])}let Xa=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||TD()),deps:[[n,new ai,new Rt]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:TD}),n})();function Kd(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(en(o)),ar(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Kd(l[1],l,c,i)}const s=e.type;if(8&s)Kd(n,t,e.child,i);else if(32&s){const a=Mg(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=EC(t,e);if(Array.isArray(a))i.push(...a);else{const l=bc(t[16]);Kd(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Nc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Kd(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ar(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Pg(t,i),ys(e,i))}this._attachedToViewContainer=!1}pC(this._lView[1],this._lView)}onDestroy(t){KC(this._lView[1],this._lView,null,t)}markForCheck(){Xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){tm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){rd(!0);try{tm(n,t,e)}finally{rd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){wc(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Rj extends Nc{constructor(t){super(t),this._view=t}detectChanges(){r0(this._view)}checkNoChanges(){!function(n){rd(!0);try{r0(n)}finally{rd(!1)}}(this._view)}get context(){return null}}const Oj=function(n){return function(n,t,e){if(ed(n)&&!e){const i=vi(n.index,t);return new Nc(i,i)}return 47&n.type?new Nc(t[16],t):null}(un(),A(),16==(16&n))};let Cn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Oj,n})();const Nj=[new xD],Vj=new Za([new ED]),jj=new Xa(Nj),Bj=function(){return Yd(un(),A())};let Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Bj,n})();const zj=Bi,Uj=class extends zj{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Cc(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Ec(e,i,t),new Nc(i)}};function Yd(n,t){return 4&n.type?new Uj(t,n,Ja(n,t)):null}class qr{}class ID{}const Wj=function(){return PD(un(),A())};let li=(()=>{class n{}return n.__NG_ELEMENT_ID__=Wj,n})();const Kj=li,AD=class extends Kj{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new ya(this._hostTNode,this._hostLView)}get parentInjector(){const t=fd(this._hostTNode,this._hostLView);if(yw(t)){const e=_a(t,this._hostLView),i=ma(t);return new ya(e[1].data[i+8],e)}return new ya(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=RD(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=i||this.parentInjector;if(!o&&null==t.ngModule&&s){const l=s.get(qr,null);l&&(o=l)}const a=t.create(s,r,void 0,o);return this.insert(a.hostView,e),a}insert(t,e){const i=t._lView,r=i[1];if(function(n){return ar(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],h=new AD(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],yd(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=Fg(o,s),l=i[11],c=Md(l,s[7]);return null!==c&&function(n,t,e,i,r,o){i[0]=r,i[6]=t,wc(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),yd(Pm(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=RD(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Pg(this._lContainer,e);i&&(ys(Pm(this._lContainer),e),pC(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Pg(this._lContainer,e);return i&&null!=ys(Pm(this._lContainer),e)?new Nc(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function RD(n){return n[8]}function Pm(n){return n[8]||(n[8]=[])}function PD(n,t){let e;const i=t[n.index];if(ar(i))e=i;else{let r;if(8&n.type)r=en(i);else{const o=t[11];r=o.createComment("");const s=Li(n,t);ws(o,Md(o,s),r,function(n,t){return jt(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=n0(i,t,r,n),kd(t,e)}return new AD(e,n,t)}const il={};class ZD extends Bo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=$n(t);return new eS(e,this.ngModule)}}function XD(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const GH=new q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>sC});class eS extends yD{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(LF).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return XD(this.componentDef.inputs)}get outputs(){return XD(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function(n,t){return{get:(e,i,r)=>{const o=n.get(e,il,r);return o!==il||i===il?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(Ds,nw),a=o.get(Rm,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function(n,t,e){if(jt(n))return n.selectRootElement(t,e===Xt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Rg(s.createRenderer(null,this.componentDef),c,function(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,t){return{components:[],scheduler:n||sC,clean:wN,playerHandler:t||null,flags:0}}(),f=Od(0,null,null,1,0,null,null,null,null,null),p=Cc(null,f,h,d,null,null,s,l,a,o);let g,m;od(p);try{const y=function(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=Ia(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Fd(l,c,!0),null!==n&&(ud(r,n,c),null!==l.classes&&Lg(r,n,l.classes),null!==l.styles&&xC(r,n,l.styles)));const u=i.createRenderer(n,t),d=Cc(e,$C(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(pd(ac(l,e),s,t.type),XC(s,l),e0(l,e.length,1)),kd(e,d),e[20]=d}(u,this.componentDef,p,s,l);if(u)if(i)ud(l,u,["ng-version",CD.full]);else{const{attrs:_,classes:v}=function(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!ur(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);_&&ud(l,u,_),v&&v.length>0&&Lg(l,u,v.join(" "))}if(m=Wp(f,20),void 0!==e){const _=m.projection=[];for(let v=0;v<this.ngContentSelectors.length;v++){const w=e[v];_.push(null!=w?Array.from(w):null)}}g=function(n,t,e,i,r){const o=e[1],s=function(n,t,e){const i=un();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),t0(n,i,t,Aa(n,t,1,null),e));const r=lc(t,n,i.directiveStart,i);Vn(r,t);const o=Li(i,t);return o&&Vn(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=un();t.contentQueries(1,s,l.directiveStart)}const a=un();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ko(a.index),JC(e[1],a,0,a.directiveStart,a.directiveEnd,t),ZC(t,s)),s}(y,this.componentDef,p,h,[qN]),Ec(f,p,null)}finally{sd()}return new qH(this.componentType,g,Ja(m,p),p,m)}}class qH extends class{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new Rj(r),this.componentType=t}get injector(){return new ya(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const rl=new Map;class QH extends qr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ZD(this);const i=ki(t),r=function(n){return n[XP]||null}(t);r&&Em(r),this._bootstrapComponents=zr(i.bootstrap),this._r3Injector=h0(t,e,[{provide:qr,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver}],Me(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=fe.THROW_IF_NOT_FOUND,i=ne.Default){return t===fe||t===qr||t===Pa?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $m extends ID{constructor(t){super(),this.moduleType=t,null!==ki(t)&&function(n){const t=new Set;!function e(i){const r=ki(i,!0),o=r.id;null!==o&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Me(t)} vs ${Me(t.name)}`)}(o,rl.get(o),i),rl.set(o,i));const s=zr(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new QH(this.moduleType,t)}}function iS(n,t,e,i,r,o){const s=t+e;return jn(n,s,r)?function(n,t,e){return n[t]=e}(n,s+1,o?i.call(o,r):i(r)):function(n,t){const e=n[t];return e===he?void 0:e}(n,s+1)}function cS(n,t,e){const i=n+20,r=A(),o=function(n,t){return n[t]}(r,i);return function(n,t){fr.isWrapped(t)&&(t=fr.unwrap(t),n[ue.lFrame.bindingIndex]=he);return t}(r,function(n,t){return n[1].data[t].pure}(r,i)?iS(r,function(){const n=ue.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),t,o.transform,e,o):o.transform(e))}function Wm(n){return t=>{setTimeout(n,void 0,t)}}const rt=class extends Ee{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const d=t;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),c=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=Wm(l),a&&(a=Wm(a)),c&&(c=Wm(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof ut&&t.add(u),u}};function fB(){return this._results[Fa()]()}class Ms{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Fa(),i=Ms.prototype;i[e]||(i[e]=fB)}get changes(){return this._changes||(this._changes=new rt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Vi(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class qm{constructor(t){this.queryList=t,this.matches=null}clone(){return new qm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Km{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Km(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==pS(t,e).matches&&this.queries[e].setDirty()}}class uS{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Ym{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Ym(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qm{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Qm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,mB(e,o)),this.matchTNodeWithReadOption(t,e,gd(e,t,o,!1,!1))}else i===Bi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,gd(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===re||r===li||r===Bi&&4&e.type)this.addMatch(e.index,-2);else{const o=gd(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function mB(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function yB(n,t,e,i){return-1===e?function(n,t){return 11&n.type?Ja(n,t):4&n.type?Yd(n,t):null}(t,n):-2===e?function(n,t,e){return e===re?Ja(t,n):e===Bi?Yd(t,n):e===li?PD(t,n):void 0}(n,t,i):lc(n,n[1],e,t)}function dS(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:yB(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function Jm(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=dS(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Jm(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Jm(f[1],f,c,i)}}}}}return i}function fn(n){const t=A(),e=$e(),i=cw();eg(i+1);const r=pS(e,i);if(n.dirty&&iw(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Jm(e,t,i,[]):dS(e,t,r,i);n.reset(o,wD),n.notifyOnChanges()}return!0}return!1}function qc(n,t,e){const i=$e();i.firstCreatePass&&(fS(i,new uS(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),hS(i,A(),t)}function Qn(n,t,e,i){const r=$e();if(r.firstCreatePass){const o=un();fS(r,new uS(t,e,i),o.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}hS(r,A(),e)}function pn(){return function(n,t){return n[19].queries[t].queryList}(A(),cw())}function hS(n,t,e){const i=new Ms(4==(4&e));KC(n,t,i,i.destroy),null===t[19]&&(t[19]=new Km),t[19].queries.push(new qm(i))}function fS(n,t,e){null===n.queries&&(n.queries=new Ym),n.queries.track(new Qm(t,e))}function pS(n,t){return n.queries.getByIndex(t)}const Yc=new q("Application Initializer");let sl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=qd,this.reject=qd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Ic(o))e.push(o);else if(jd(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(C(Yc,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Qc=new q("AppId"),YB={provide:Qc,useFactory:function(){return`${i_()}${i_()}${i_()}`},deps:[]};function i_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PS=new q("Platform Initializer"),al=new q("Platform ID"),OS=new q("appBootstrapListener");let nh=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const uo=new q("LocaleId"),kS=new q("DefaultCurrencyCode");class JB{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const r_=function(n){return new $m(n)},ZB=r_,XB=function(n){return Promise.resolve(r_(n))},FS=function(n){const t=r_(n),i=zr(ki(n).declarations).reduce((r,o)=>{const s=$n(o);return s&&r.push(new eS(s)),r},[]);return new JB(t,i)},e2=FS,t2=function(n){return Promise.resolve(FS(n))};let Ts=(()=>{class n{constructor(){this.compileModuleSync=ZB,this.compileModuleAsync=XB,this.compileModuleAndAllComponentsSync=e2,this.compileModuleAndAllComponentsAsync=t2}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const o2=(()=>Promise.resolve(0))();function o_(n){"undefined"==typeof Zone?o2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ae{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=tt.requestAnimationFrame,t=tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,a_(n),n.isCheckStableRunning=!0,s_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),a_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return NS(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),LS(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return NS(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),LS(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,a_(n),s_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ae.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ae.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,a2,qd,qd);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const a2={};function s_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function a_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function NS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LS(n){n._nesting--,s_(n)}class u2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let l_=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),o_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())o_(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(C(ae))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),VS=(()=>{class n{constructor(){this._applications=new Map,c_.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return c_.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class d2{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let c_=new d2,jS=!0,HS=!1;function u_(){return HS=!0,jS}let yr;const BS=new q("AllowMultipleToken");class d_{constructor(t,e){this.name=t,this.token=e}}function zS(n,t,e=[]){const i=`Platform: ${t}`,r=new q(i);return(o=[])=>{let s=US();if(!s||s.injector.get(BS,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:Dc,useValue:"platform"});!function(n){if(yr&&!yr.destroyed&&!yr.injector.get(BS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yr=n.get(GS);const t=n.get(PS,null);t&&t.forEach(e=>e())}(fe.create({providers:a,name:i}))}return function(n){const t=US();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function US(){return yr&&!yr.destroyed?yr:null}let GS=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new u2:("zone.js"===n?void 0:n)||new ae({enableLongStackTrace:u_(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ae,useValue:a}];return a.run(()=>{const c=fe.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),d=u.injector.get(cr,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{h_(this._modules,u),h.unsubscribe()})}),function(n,t,e){try{const i=e();return Ic(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(sl);return h.runInitializers(),h.donePromise.then(()=>(Em(u.injector.get(uo,zd)||zd),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=$S({},i);return function(n,t,e){const i=new $m(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(ll);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Me(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(C(fe))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function $S(n,t){return Array.isArray(t)?t.reduce($S,n):Object.assign(Object.assign({},n),t)}let ll=(()=>{class n{constructor(e,i,r,o,s){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ne(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Ne(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),o_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=Nb(a,l.pipe(Vb()))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=e instanceof yD?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(qr),a=r.create(fe.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(l_,null),u=c&&a.injector.get(VS);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),h_(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;h_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(OS,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(C(ae),C(fe),C(cr),C(Bo),C(sl))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function h_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class rh{}class x2{}const M2={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let T2=(()=>{class n{constructor(e,i){this._compiler=e,this._config=i||M2}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[i,r]=e.split("#");return void 0===r&&(r="default"),cn(255)(i).then(o=>o[r]).then(o=>YS(o,i,r)).then(o=>this._compiler.compileModuleAsync(o))}loadFactory(e){let[i,r]=e.split("#"),o="NgFactory";return void 0===r&&(r="default",o=""),cn(255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(s=>s[r+o]).then(s=>YS(s,i,r))}}return n.\u0275fac=function(e){return new(e||n)(C(Ts),C(x2,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function YS(n,t,e){if(!n)throw new Error(`Cannot find '${e}' in '${t}'`);return n}const V2=zS(null,"core",[{provide:al,useValue:"unknown"},{provide:GS,deps:[fe]},{provide:VS,deps:[]},{provide:nh,deps:[]}]),U2=[{provide:ll,useClass:ll,deps:[ae,fe,cr,Bo,sl]},{provide:GH,deps:[ae],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:sl,useClass:sl,deps:[[new Rt,Yc]]},{provide:Ts,useClass:Ts,deps:[]},YB,{provide:Za,useFactory:function(){return Vj},deps:[]},{provide:Xa,useFactory:function(){return jj},deps:[]},{provide:uo,useFactory:function(n){return Em(n=n||"undefined"!=typeof $localize&&$localize.locale||zd),n},deps:[[new mt(uo),new Rt,new ai]]},{provide:kS,useValue:"USD"}];let $2=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(C(ll))},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({providers:U2}),n})(),ph=null;function Kr(){return ph}const ye=new q("DocumentToken");let Rs=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({factory:Gz,token:n,providedIn:"platform"}),n})();function Gz(){return C(vx)}const $z=new q("Location Initialized");let vx=(()=>{class n extends Rs{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kr().getBaseHref(this._doc)}onPopState(e){const i=Kr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Kr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){bx()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){bx()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(C(ye))},n.\u0275prov=z({factory:Wz,token:n,providedIn:"platform"}),n})();function bx(){return!!window.history.pushState}function Wz(){return new vx(C(ye))}function M_(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function wx(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function fo(n){return n&&"?"!==n[0]?"?"+n:n}let dl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({factory:qz,token:n,providedIn:"root"}),n})();function qz(n){const t=C(ye).location;return new Cx(C(Rs),t&&t.origin||"")}const T_=new q("appBaseHref");let Cx=(()=>{class n extends dl{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return M_(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+fo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+fo(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+fo(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(C(Rs),C(T_,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Kz=(()=>{class n extends dl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=M_(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+fo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+fo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(C(Rs),C(T_,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),gh=(()=>{class n{constructor(e,i){this._subject=new rt,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=wx(Ex(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+fo(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ex(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fo(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fo(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.\u0275fac=function(e){return new(e||n)(C(dl),C(Rs))},n.normalizeQueryParams=fo,n.joinWithSlash=M_,n.stripTrailingSlash=wx,n.\u0275prov=z({factory:Yz,token:n,providedIn:"root"}),n})();function Yz(){return new gh(C(dl),C(Rs))}function Ex(n){return n.replace(/\/index.html$/,"")}var nn=(()=>((nn=nn||{})[nn.Zero=0]="Zero",nn[nn.One=1]="One",nn[nn.Two=2]="Two",nn[nn.Few=3]="Few",nn[nn.Many=4]="Many",nn[nn.Other=5]="Other",nn))();const iU=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=WE(t);if(e)return e;const i=t.split("-")[0];if(e=WE(i),e)return e;if("en"===i)return mV;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[H.PluralCase]};class Sh{}let PU=(()=>{class n extends Sh{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(iU(i||this.locale)(e)){case nn.Zero:return"zero";case nn.One:return"one";case nn.Two:return"two";case nn.Few:return"few";case nn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(C(uo))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();let iu=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new VU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kx("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kx("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(li),b(Bi))},n.\u0275dir=U({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class VU{constructor(){this.$implicit=null,this.ngIf=null}}function kx(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Me(t)}'.`)}class GU{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class $U{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const WU=new $U,qU=new GU;let Nx=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Ic(e))return WU;if(nE(e))return qU;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Me(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(b(Cn,16))},n.\u0275pipe=oi({name:"async",type:n,pure:!1}),n})(),hl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({providers:[{provide:Sh,useClass:PU}]}),n})();const Vx="browser";let jx=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new fG(C(ye),window)}),n})();class fG{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Hx(this.window.history)||Hx(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Hx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class B_ extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){ph||(ph=n)}(new B_)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ru=ru||document.querySelector("base"),ru?ru.getAttribute("href"):null);return null==e?null:function(n){xh=xh||document.createElement("a"),xh.setAttribute("href",n);const t=xh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let xh,ru=null;const zx=new q("TRANSITION_ID"),vG=[{provide:Yc,useFactory:function(n,t,e){return()=>{e.get(sl).donePromise.then(()=>{const i=Kr(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[zx,ye,fe],multi:!0}];class z_{static init(){!function(n){c_=n}(new z_)}addToWindow(t){tt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),tt.getAllAngularRootElements=()=>t.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(i=>{const r=tt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?Kr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let bG=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const ou=new q("EventManagerPlugins");let Th=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(C(ou),C(ae))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class U_{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Kr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Gx=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),su=(()=>{class n extends Gx{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach($x),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($x))}}return n.\u0275fac=function(e){return new(e||n)(C(ye))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function $x(n){Kr().remove(n)}const G_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$_=/%COMP%/g;function Ih(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ih(n,r,e):(r=r.replace($_,n),e.push(r))}return e}function Kx(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ah=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new W_(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Xt.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new FG(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Xt.ShadowDom:return new NG(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ih(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(C(Th),C(su),C(Qc))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class W_{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(G_[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=G_[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=G_[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Ci.DashCase|Ci.Important)?t.style.setProperty(e,i,r&Ci.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ci.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Kx(i)):this.eventManager.addEventListener(t,e,Kx(i))}}class FG extends W_{constructor(t,e,i,r){super(t),this.component=i;const o=Ih(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace($_,n)}(r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace($_,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class NG extends W_{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ih(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let LG=(()=>{class n extends U_{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(C(ye))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Jx=["alt","control","meta","shift"],GG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$G={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let WG=(()=>{class n extends U_{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(Jx.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Zx.hasOwnProperty(t)&&(t=Zx[t]))}return GG[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Jx.forEach(o=>{o!=r&&$G[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(C(ye))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),fl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({factory:function(){return C(K_)},token:n,providedIn:"root"}),n})(),K_=(()=>{class n extends fl{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ye.NONE:return i;case Ye.HTML:return Hr(i,"HTML")?wi(i):Kw(this._doc,String(i)).toString();case Ye.STYLE:return Hr(i,"Style")?wi(i):i;case Ye.SCRIPT:if(Hr(i,"Script"))return wi(i);throw new Error("unsafe value used in a script context");case Ye.URL:return Hw(i),Hr(i,"URL")?wi(i):mc(String(i));case Ye.RESOURCE_URL:if(Hr(i,"ResourceURL"))return wi(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(n){return new wk(n)}(e)}bypassSecurityTrustStyle(e){return function(n){return new Ck(n)}(e)}bypassSecurityTrustScript(e){return function(n){return new Ek(n)}(e)}bypassSecurityTrustUrl(e){return function(n){return new Dk(n)}(e)}bypassSecurityTrustResourceUrl(e){return function(n){return new Sk(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(C(ye))},n.\u0275prov=z({factory:function(){return function(n){return new K_(n.get(ye))}(C(Pa))},token:n,providedIn:"root"}),n})();const e$=zS(V2,"browser",[{provide:al,useValue:Vx},{provide:PS,useValue:function(){B_.makeCurrent(),z_.init()},multi:!0},{provide:ye,useFactory:function(){return function(n){Gp=n}(document),document},deps:[]}]),t$=[[],{provide:Dc,useValue:"root"},{provide:cr,useFactory:function(){return new cr},deps:[]},{provide:ou,useClass:LG,multi:!0,deps:[ye,ae,al]},{provide:ou,useClass:WG,multi:!0,deps:[ye]},[],{provide:Ah,useClass:Ah,deps:[Th,su,Qc]},{provide:Ds,useExisting:Ah},{provide:Gx,useExisting:su},{provide:su,useClass:su,deps:[ye]},{provide:l_,useClass:l_,deps:[ae]},{provide:Th,useClass:Th,deps:[ou,ae]},{provide:class{},useClass:bG,deps:[]},[]];let Y_=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Qc,useValue:e.appId},{provide:zx,useExisting:Qc},vG]}}}return n.\u0275fac=function(e){return new(e||n)(C(n,12))},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({providers:t$,imports:[hl,$2]}),n})();function ee(...n){let t=n[n.length-1];return la(t)?(n.pop(),Tp(n,t)):Ap(n)}"undefined"!=typeof window&&window;class Wi extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new cs;return this._value}next(t){super.next(this._value=t)}}class eM extends lt{notifyNext(t,e,i,r,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class c$ extends lt{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function tM(n,t,e,i,r=new c$(n,e,i)){if(!r.closed)return t instanceof Ne?t.subscribe(r):Mp(t)(r)}const nM={};function J_(...n){let t,e;return la(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&aa(n[0])&&(n=n[0]),Ap(n,e).lift(new u$(t))}class u${constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new d$(t,this.resultSelector))}}class d$ extends eM{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(nM),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(tM(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,s=this.toRespond?r[i]===nM?--this.toRespond:this.toRespond:0;r[i]=e,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Rh=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Ph(...n){return Xl(1)(ee(...n))}const pl=new Ne(n=>n.complete());function Oh(n){return n?function(n){return new Ne(t=>n.schedule(()=>t.complete()))}(n):pl}function iM(n){return new Ne(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?In(e):Oh()).subscribe(t)})}function go(n,t){return"function"==typeof t?e=>e.pipe(go((i,r)=>In(n(i,r)).pipe(me((o,s)=>t(i,o,r,s))))):e=>e.lift(new p$(n))}class p${constructor(t){this.project=t}call(t,e){return e.subscribe(new g$(t,this.project))}}class g$ extends Jl{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Ql(this),r=this.destination;r.add(i),this.innerSubscription=Zl(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const rM=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function mo(n){return t=>0===n?Oh():t.lift(new m$(n))}class m${constructor(t){if(this.total=t,this.total<0)throw new rM}call(t,e){return e.subscribe(new _$(t,this.total))}}class _$ extends lt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Wo(...n){const t=n[n.length-1];return la(t)?(n.pop(),e=>Ph(n,e,t)):e=>Ph(n,e)}function oM(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new y$(n,t,e))}}class y${constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new v$(t,this.accumulator,this.seed,this.hasSeed))}}class v$ extends lt{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Xn(n,t){return function(i){return i.lift(new b$(n,t))}}class b${constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new w$(t,this.predicate,this.thisArg))}}class w$ extends lt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function qo(n){return function(e){const i=new C$(n),r=e.lift(i);return i.caught=r}}class C${constructor(t){this.selector=t}call(t,e){return e.subscribe(new E$(t,this.selector,this.caught))}}class E$ extends Jl{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new Ql(this);this.add(i);const r=Zl(e,i);r!==i&&this.add(r)}}}function Ps(n,t){return An(n,t,1)}function Z_(n){return function(e){return 0===n?Oh():e.lift(new D$(n))}}class D${constructor(t){if(this.total=t,this.total<0)throw new rM}call(t,e){return e.subscribe(new S$(t,this.total))}}class S$ extends lt{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let o=0;o<i;o++){const s=e++%i;t.next(r[s])}}t.complete()}}function sM(n=T$){return t=>t.lift(new x$(n))}class x${constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new M$(t,this.errorFactory))}}class M$ extends lt{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function T$(){return new Rh}function aM(n=null){return t=>t.lift(new I$(n))}class I${constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new A$(t,this.defaultValue))}}class A$ extends lt{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function gl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Xn((r,o)=>n(r,o,i)):Wu,mo(1),e?aM(t):sM(()=>new Rh))}function Ko(){}function Rn(n,t,e){return function(r){return r.lift(new P$(n,t,e))}}class P${constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new O$(t,this.nextOrObserver,this.error,this.complete))}}class O$ extends lt{constructor(t,e,i,r){super(t),this._tapNext=Ko,this._tapError=Ko,this._tapComplete=Ko,this._tapError=i||Ko,this._tapComplete=r||Ko,Kl(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ko,this._tapError=e.error||Ko,this._tapComplete=e.complete||Ko)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function lM(n){return t=>t.lift(new k$(n))}class k${constructor(t){this.callback=t}call(t,e){return e.subscribe(new F$(t,this.callback))}}class F$ extends lt{constructor(t,e){super(t),this.add(new ut(e))}}class _o{constructor(t,e){this.id=t,this.url=e}}class X_ extends _o{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class au extends _o{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cM extends _o{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class N$ extends _o{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class L$ extends _o{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V$ extends _o{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j$ extends _o{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class H$ extends _o{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B$ extends _o{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uM{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dM{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z${constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U${constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G${constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $${constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hM{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Re="primary";class W${constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ml(n){return new W$(n)}const fM="ngNavigationCancelingError";function ey(n){const t=Error("NavigationCancelingError: "+n);return t[fM]=!0,t}function K$(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Yr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!pM(n[r],t[r]))return!1;return!0}function pM(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function gM(n){return Array.prototype.concat.apply([],n)}function mM(n){return n.length>0?n[n.length-1]:null}function Pn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Qr(n){return jd(n)?n:Ic(n)?In(Promise.resolve(n)):ee(n)}const J$={exact:function vM(n,t,e){if(!ks(n.segments,t.segments)||!kh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!vM(n.children[i],t.children[i],e))return!1;return!0},subset:bM},_M={exact:function(n,t){return Yr(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pM(n[e],t[e]))},ignored:()=>!0};function yM(n,t,e){return J$[e.paths](n.root,t.root,e.matrixParams)&&_M[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bM(n,t,e){return wM(n,t,t.segments,e)}function wM(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ks(r,e)||t.hasChildren()||!kh(r,e,i))}if(n.segments.length===e.length){if(!ks(n.segments,e)||!kh(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bM(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ks(n.segments,r)&&kh(n.segments,r,i)&&n.children[Re])&&wM(n.children[Re],t,o,i)}}function kh(n,t,e){return t.every((i,r)=>_M[e](n[r].parameters,i.parameters))}class Os{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ml(this.queryParams)),this._queryParamMap}toString(){return n3.serialize(this)}}class He{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Pn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fh(this)}}class lu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ml(this.parameters)),this._parameterMap}toString(){return SM(this)}}function ks(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class ty{}class CM{parse(t){const e=new d3(t);return new Os(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${cu(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Nh(e)}=${Nh(r)}`).join("&"):`${Nh(e)}=${Nh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:""}`}}const n3=new CM;function Fh(n){return n.segments.map(t=>SM(t)).join("/")}function cu(n,t){if(!n.hasChildren())return Fh(n);if(t){const e=n.children[Re]?cu(n.children[Re],!1):"",i=[];return Pn(n.children,(r,o)=>{o!==Re&&i.push(`${o}:${cu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Pn(n.children,(i,r)=>{r===Re&&(e=e.concat(t(i,r)))}),Pn(n.children,(i,r)=>{r!==Re&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Re?[cu(n.children[Re],!1)]:[`${r}:${cu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Re]?`${Fh(n)}/${e[0]}`:`${Fh(n)}/(${e.join("//")})`}}function EM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nh(n){return EM(n).replace(/%3B/gi,";")}function ny(n){return EM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lh(n){return decodeURIComponent(n)}function DM(n){return Lh(n.replace(/\+/g,"%20"))}function SM(n){return`${ny(n.path)}${function(n){return Object.keys(n).map(t=>`;${ny(t)}=${ny(n[t])}`).join("")}(n.parameters)}`}const s3=/^[^\/()?;=#]+/;function Vh(n){const t=n.match(s3);return t?t[0]:""}const a3=/^[^=?&#]+/,c3=/^[^?&#]+/;class d3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Re]=new He(t,e)),i}parseSegment(){const t=Vh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new lu(Lh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Vh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Vh(this.remaining);r&&(i=r,this.capture(i))}t[Lh(e)]=Lh(i)}parseQueryParam(t){const e=function(n){const t=n.match(a3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function(n){const t=n.match(c3);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=DM(e),o=DM(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Vh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Re);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Re]:new He([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class xM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=iy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=iy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ry(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ry(t,this._root).map(e=>e.value)}}function iy(n,t){if(n===t.value)return t;for(const e of t.children){const i=iy(n,e);if(i)return i}return null}function ry(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ry(n,e);if(i.length)return i.unshift(t),i}return[]}class yo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function uu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class MM extends xM{constructor(t,e){super(t),this.snapshot=e,oy(this,t)}toString(){return this.snapshot.toString()}}function TM(n,t){const e=function(n,t){const s=new jh([],{},{},"",{},Re,t,null,n.root,-1,{});return new AM("",new yo(s,[]))}(n,t),i=new Wi([new lu("",{})]),r=new Wi({}),o=new Wi({}),s=new Wi({}),a=new Wi(""),l=new _l(i,r,s,a,o,Re,t,e.root);return l.snapshot=e.root,new MM(new yo(l,[]),e)}class _l{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(t=>ml(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(t=>ml(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IM(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class jh{constructor(t,e,i,r,o,s,a,l,c,u,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ml(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ml(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AM extends xM{constructor(t,e){super(e),this.url=t,oy(this,e)}toString(){return RM(this._root)}}function oy(n,t){t.value._routerState=n,t.children.forEach(e=>oy(n,e))}function RM(n){const t=n.children.length>0?` { ${n.children.map(RM).join(", ")} } `:"";return`${n.value}${t}`}function sy(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Yr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Yr(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Yr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Yr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ay(n,t){return Yr(n.params,t.params)&&function(n,t){return ks(n,t)&&n.every((e,i)=>Yr(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||ay(n.parent,t.parent))}function Hh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hh(n,i,r);return Hh(n,i)})}(n,t,e);return new yo(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return PM(t,s),s}}const i=function(n){return new _l(new Wi(n.url),new Wi(n.params),new Wi(n.queryParams),new Wi(n.fragment),new Wi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Hh(n,o));return new yo(i,r)}}function PM(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)PM(n.children[e],t.children[e])}function Bh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function du(n){return"object"==typeof n&&null!=n&&n.outlets}function ly(n,t,e,i,r){let o={};return i&&Pn(i,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new Os(e.root===n?t:OM(e.root,n,t),o,r)}function OM(n,t,e){const i={};return Pn(n.children,(r,o)=>{i[o]=r===t?e:OM(r,t,e)}),new He(n.segments,i)}class kM{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Bh(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(du);if(r&&r!==mM(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cy{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function FM(n,t,e){if(n||(n=new He([],{})),0===n.segments.length&&n.hasChildren())return zh(n,t,e);const i=function(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(du(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!LM(l,c,s))return o;i+=2}else{if(!LM(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new He(n.segments.slice(0,i.pathIndex),{});return o.children[Re]=new He(n.segments.slice(i.pathIndex),n.children),zh(o,0,r)}return i.match&&0===r.length?new He(n.segments,{}):i.match&&!n.hasChildren()?uy(n,t,e):i.match?zh(n,0,r):uy(n,t,e)}function zh(n,t,e){if(0===e.length)return new He(n.segments,{});{const i=function(n){return du(n[0])?n[0].outlets:{[Re]:n}}(e),r={};return Pn(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=FM(n.children[s],t,o))}),Pn(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new He(n.segments,r)}}function uy(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(du(o)){const l=E3(o.outlets);return new He(i,l)}if(0===r&&Bh(e[0])){i.push(new lu(n.segments[t].path,NM(e[0]))),r++;continue}const s=du(o)?o.outlets[Re]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Bh(a)?(i.push(new lu(s,NM(a))),r+=2):(i.push(new lu(s,{})),r++)}return new He(i,{})}function E3(n){const t={};return Pn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=uy(new He([],{}),0,e))}),t}function NM(n){const t={};return Pn(n,(e,i)=>t[i]=`${e}`),t}function LM(n,t,e){return n==e.path&&Yr(t,e.parameters)}class S3{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),sy(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=uu(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Pn(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=uu(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=uu(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new $$(o.value.snapshot))}),t.children.length&&this.forwardEvent(new U$(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(sy(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),VM(a.route)}else{const a=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}function VM(n){sy(n.value),n.children.forEach(VM)}class dy{constructor(t,e){this.routes=t,this.module=e}}function Yo(n){return"function"==typeof n}function Fs(n){return n instanceof Os}const hu=Symbol("INITIAL_VALUE");function fu(){return go(n=>J_(n.map(t=>t.pipe(mo(1),Wo(hu)))).pipe(oM((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==hu?r:(o===hu&&(i=!0),i||!1!==o&&s!==e.length-1&&!Fs(o)?r:o),t)},hu),Xn(t=>t!==hu),me(t=>Fs(t)?t:!0===t),mo(1)))}let jM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=nt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&wn(0,"router-outlet")},directives:function(){return[yy]},encapsulation:2}),n})();function HM(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];P3(i,O3(t,i))}}function P3(n,t){n.children&&HM(n.children,t)}function O3(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function hy(n){const t=n.children&&n.children.map(hy),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Re&&(e.component=jM),e}function qi(n){return n.outlet||Re}function BM(n,t){const e=n.filter(i=>qi(i)===t);return e.push(...n.filter(i=>qi(i)!==t)),e}const zM={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Uh(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},zM):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||K$)(e,n,t);if(!o)return Object.assign({},zM);const s={};Pn(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Gh(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>$h(n,t,i)&&qi(i)!==Re)}(n,e,i)){const s=new He(t,function(n,t,e,i){const r={};r[Re]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&qi(o)!==Re){const s=new He([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[qi(o)]=s}return r}(n,t,i,new He(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>$h(n,t,i))}(n,e,i)){const s=new He(n.segments,function(n,t,e,i,r,o){const s={};for(const a of i)if($h(n,e,a)&&!r[qi(a)]){const l=new He([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[qi(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new He(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function $h(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function UM(n,t,e,i){return!!(qi(n)===i||i!==Re&&$h(t,e,n))&&("**"===n.path||Uh(t,n,e).matched)}function GM(n,t,e){return 0===t.length&&!n.children[e]}class pu{constructor(t){this.segmentGroup=t||null}}class $M{constructor(t){this.urlTree=t}}function Wh(n){return new Ne(t=>t.error(new pu(n)))}function WM(n){return new Ne(t=>t.error(new $M(n)))}function V3(n){return new Ne(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class B3{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(qr)}apply(){const t=Gh(this.urlTree.root,[],[],this.config).segmentGroup,e=new He(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Re).pipe(me(o=>this.createUrlTree(fy(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qo(o=>{if(o instanceof $M)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof pu?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Re).pipe(me(r=>this.createUrlTree(fy(r),t.queryParams,t.fragment))).pipe(qo(r=>{throw r instanceof pu?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new He([],{[Re]:t}):t;return new Os(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(me(o=>new He([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return In(r).pipe(Ps(o=>{const s=i.children[o],a=BM(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(me(l=>({segment:l,outlet:o})))}),oM((o,s)=>(o[s.outlet]=s.segment,o),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Xn((r,o)=>n(r,o,i)):Wu,Z_(1),e?aM(t):sM(()=>new Rh))}())}expandSegment(t,e,i,r,o,s){return In(i).pipe(Ps(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(qo(c=>{if(c instanceof pu)return ee(null);throw c}))),gl(a=>!!a),qo((a,l)=>{if(a instanceof Rh||"EmptyError"===a.name){if(GM(e,r,o))return ee(new He([],{}));throw new pu(e)}throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return UM(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):Wh(e):Wh(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?WM(o):this.lineralizeSegments(i,o).pipe(An(s=>{const a=new He(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=Uh(e,r,o);if(!a)return Wh(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?WM(d):this.lineralizeSegments(r,d).pipe(An(h=>this.expandSegment(t,e,i,h.concat(o.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ee(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(me(h=>(i._loadedConfig=h,new He(r,{})))):ee(new He(r,{}));const{matched:s,consumedSegments:a,lastChild:l}=Uh(e,i,r);if(!s)return Wh(e);const c=r.slice(l);return this.getChildConfig(t,i,r).pipe(An(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=Gh(e,a,c,f),m=new He(p.segments,p.children);if(0===g.length&&m.hasChildren())return this.expandChildren(h,f,m).pipe(me(w=>new He(a,w)));if(0===f.length&&0===g.length)return ee(new He(a,{}));const y=qi(i)===o;return this.expandSegment(h,m,f,g,y?Re:o,!0).pipe(me(v=>new He(a.concat(v.segments),v.children)))}))}getChildConfig(t,e,i){return e.children?ee(new dy(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ee(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(An(r=>r?this.configLoader.load(t.injector,e).pipe(me(o=>(e._loadedConfig=o,o))):function(n){return new Ne(t=>t.error(ey(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):ee(new dy([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?ee(r.map(s=>{const a=t.get(s);let l;if(function(n){return n&&Yo(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Yo(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return Qr(l)})).pipe(fu(),Rn(s=>{if(!Fs(s))return;const a=ey(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),me(s=>!0===s)):ee(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ee(i);if(r.numberOfChildren>1||!r.children[Re])return V3(t.redirectTo);r=r.children[Re]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Os(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Pn(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Pn(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new He(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function fy(n){const t={};for(const i of Object.keys(n.children)){const o=fy(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(n){if(1===n.numberOfChildren&&n.children[Re]){const t=n.children[Re];return new He(n.segments.concat(t.segments),t.children)}return n}(new He(n.segments,t))}class qM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class qh{constructor(t,e){this.component=t,this.route=e}}function G3(n,t,e){const i=n._root;return gu(i,t?t._root:null,e,[i.value])}function Kh(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function gu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=uu(t);return n.children.forEach(s=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ks(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ks(n.url,t.url)||!Yr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ay(n,t)||!Yr(n.queryParams,t.queryParams);case"paramsChange":default:return!ay(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new qM(i)):(o.data=s.data,o._resolvedData=s._resolvedData),gu(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qh(a.outlet.component,s))}else s&&mu(t,a,r),r.canActivateChecks.push(new qM(i)),gu(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Pn(o,(s,a)=>mu(s,e.getContext(a),r)),r}function mu(n,t,e){const i=uu(n),r=n.value;Pn(i,(o,s)=>{mu(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new qh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class iW{}function KM(n){return new Ne(t=>t.error(n))}class oW{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=Gh(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Re);if(null===e)return null;const i=new jh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Re,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new yo(i,e),o=new AM(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=IM(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=BM(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=YM(i);return function(n){n.sort((t,e)=>t.value.outlet===Re?-1:e.value.outlet===Re?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return GM(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!UM(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const f=i.length>0?mM(i).parameters:{};o=new jh(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ZM(t),qi(t),t.component,t,QM(e),JM(e)+i.length,XM(t))}else{const f=Uh(e,t,i);if(!f.matched)return null;s=f.consumedSegments,a=i.slice(f.lastChild),o=new jh(s,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ZM(t),qi(t),t.component,t,QM(e),JM(e)+s.length,XM(t))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Gh(e,s,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new yo(o,f)]}if(0===l.length&&0===u.length)return[new yo(o,[])];const d=qi(t)===r,h=this.processSegment(l,c,u,d?Re:r);return null===h?null:[new yo(o,h)]}}function lW(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function YM(n){const t=[],e=new Set;for(const i of n){if(!lW(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=YM(i.children);t.push(new yo(i.value,r))}return t.filter(i=>!e.has(i))}function QM(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function JM(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function ZM(n){return n.data||{}}function XM(n){return n.resolve||{}}function py(n){return go(t=>{const e=n(t);return e?In(e).pipe(me(()=>t)):ee(t)})}class mW extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const gy=new q("ROUTES");class eT{constructor(t,e,i,r){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(me(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new dy(gM(s.injector.get(gy,void 0,ne.Self|ne.Optional)).map(hy),s)}),qo(o=>{throw e._loader$=void 0,o}));return e._loader$=new Lb(r,()=>new Ee).pipe(Rp()),e._loader$}loadModuleFactory(t){return"string"==typeof t?In(this.loader.load(t)):Qr(t()).pipe(An(e=>e instanceof ID?ee(e):In(this.compiler.compileModuleAsync(e))))}}class _W{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yl,this.attachRef=null}}class yl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _W,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class vW{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function bW(n){throw n}function wW(n,t,e){return t.parse("/")}function tT(n,t){return ee(null)}const CW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ui=(()=>{class n{constructor(e,i,r,o,s,a,l,c){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee,this.errorHandler=bW,this.malformedUriErrorHandler=wW,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tT,afterPreactivation:tT},this.urlHandlingStrategy=new vW,this.routeReuseStrategy=new mW,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(qr),this.console=s.get(nh);const h=s.get(ae);this.isNgZoneEnabled=h instanceof ae&&ae.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Os(new He([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new eT(a,l,f=>this.triggerEvent(new uM(f)),f=>this.triggerEvent(new dM(f))),this.routerState=TM(this.currentUrlTree,this.rootComponentType),this.transitions=new Wi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Xn(r=>0!==r.id),me(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),go(r=>{let o=!1,s=!1;return ee(r).pipe(Rn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),go(a=>{const l=!this.navigated||a.extractedUrl.toString()!==this.browserUrlTree.toString(),c=("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl);if(Yh(a.source)&&(this.browserUrlTree=a.rawUrl),c)return ee(a).pipe(go(u=>{const d=this.transitions.getValue();return i.next(new X_(u.id,this.serializeUrl(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions.getValue()?pl:Promise.resolve(u)}),function(n,t,e,i){return go(r=>function(n,t,e,i,r){return new B3(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(me(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Rn(u=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:u.urlAfterRedirects})}),function(n,t,e,i,r){return An(o=>function(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new oW(n,t,e,i,r,o).recognize();return null===s?KM(new iW):ee(s)}catch(s){return KM(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(me(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,u=>this.serializeUrl(u),this.paramsInheritanceStrategy,this.relativeLinkResolution),Rn(u=>{"eager"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(u.urlAfterRedirects,u),this.browserUrlTree=u.urlAfterRedirects);const d=new L$(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);i.next(d)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=a,m=new X_(d,this.serializeUrl(h),f,p);i.next(m);const y=TM(h,this.rootComponentType).snapshot;return ee(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:h,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),pl}),py(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Rn(a=>{const l=new V$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),me(a=>Object.assign(Object.assign({},a),{guards:G3(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,t){return An(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?ee(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return In(n).pipe(An(r=>function(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ee(o.map(a=>{const l=Kh(a,t,r);let c;if(function(n){return n&&Yo(n.canDeactivate)}(l))c=Qr(l.canDeactivate(n,t,e,i));else{if(!Yo(l))throw new Error("Invalid CanDeactivate guard");c=Qr(l(n,t,e,i))}return c.pipe(gl())})).pipe(fu()):ee(!0)}(r.component,r.route,e,t,i)),gl(r=>!0!==r,!0))}(s,i,r,n).pipe(An(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,t,e,i){return In(t).pipe(Ps(r=>Ph(function(n,t){return null!==n&&t&&t(new z$(n)),ee(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new G$(n)),ee(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>iM(()=>ee(s.guards.map(l=>{const c=Kh(l,s.node,e);let u;if(function(n){return n&&Yo(n.canActivateChild)}(c))u=Qr(c.canActivateChild(i,n));else{if(!Yo(c))throw new Error("Invalid CanActivateChild guard");u=Qr(c(i,n))}return u.pipe(gl())})).pipe(fu())));return ee(o).pipe(fu())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?ee(i.map(o=>iM(()=>{const s=Kh(o,t,e);let a;if(function(n){return n&&Yo(n.canActivate)}(s))a=Qr(s.canActivate(t,n));else{if(!Yo(s))throw new Error("Invalid CanActivate guard");a=Qr(s(t,n))}return a.pipe(gl())}))).pipe(fu()):ee(!0)}(n,r.route,e))),gl(r=>!0!==r,!0))}(i,o,n,t):ee(a)),me(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Rn(a=>{if(Fs(a.guardsResult)){const c=ey(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new j$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Xn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),py(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(Rn(l=>{const c=new H$(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),go(l=>{let c=!1;return ee(l).pipe(function(n,t){return An(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ee(e);let o=0;return In(r).pipe(Ps(s=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return ee({});const o={};return In(r).pipe(An(s=>function(n,t,e,i){const r=Kh(n,t,i);return Qr(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(Rn(a=>{o[s]=a}))),Z_(1),An(()=>Object.keys(o).length===r.length?ee(o):pl))}(n._resolve,n,t,i).pipe(me(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),IM(n,e).resolve),null)))}(s.route,i,n,t)),Rn(()=>o++),Z_(1),An(s=>o===r.length?ee(e):pl))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Rn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Rn(l=>{const c=new B$(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),py(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),me(a=>{const l=function(n,t,e){const i=Hh(n,t._root,e?e._root:void 0);return new MM(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Rn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>me(i=>(new S3(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Rn({next(){o=!0},complete(){o=!0}}),lM(()=>{if(!o&&!s){const a=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,a)):this.cancelNavigationTransition(r,a)}this.currentNavigation=null}),qo(a=>{if(s=!0,function(n){return n&&n[fM]}(a)){const l=Fs(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new cM(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yh(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new N$(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return pl}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:o,urlTree:s}=i,a={replaceUrl:!0};if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(s,r,o,a)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const r=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!r||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){HM(e),this.config=e.map(hy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,t,e,i,r){if(0===e.length)return ly(t.root,t.root,t,i,r);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kM(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Pn(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new kM(e,t,i)}(e);if(o.toRoot())return ly(t.root,new He([],{}),t,i,r);const s=function(n,t,e){if(n.isAbsolute)return new cy(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new cy(o,o===t.root,0)}const i=Bh(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new cy(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?zh(s.segmentGroup,s.index,o.commands):FM(s.segmentGroup,s.index,o.commands);return ly(s.segmentGroup,a,t,i,r)}(c,this.currentUrlTree,e,d,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Fs(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},CW):!1===i?Object.assign({},EW):i,Fs(e))return yM(this.currentUrlTree,e,r);const o=this.parseUrl(e);return yM(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new au(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=Yh(i)&&c&&!Yh(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===e.toString();if(u&&f)return Promise.resolve(!0);let p,g,m;s?(p=s.resolve,g=s.reject,m=s.promise):m=new Promise((v,w)=>{p=v,g=w});const y=++this.navigationId;let _;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),_=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):_=0,this.setTransition({id:y,targetPageId:_,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:p,reject:g,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(v=>Promise.reject(v))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new cM(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(C(md),C(ty),C(yl),C(gh),C(fe),C(rh),C(Ts),C(void 0))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function Yh(n){return"imperative"!==n}let yy=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new rt,this.deactivateEvents=new rt,this.name=o||Re,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new MW(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(yl),b(li),b(Bo),ms("name"),b(Cn))},n.\u0275dir=U({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class MW{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===_l?this.route:t===yl?this.childContexts:this.parent.get(t,e)}}class nT{}class iT{preload(t,e){return ee(null)}}let rT=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=new eT(i,r,c=>e.triggerEvent(new uM(c)),c=>e.triggerEvent(new dM(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xn(e=>e instanceof au),Ps(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(qr);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return In(r).pipe(Xl(),me(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ee(i._loadedConfig):this.loader.load(e.injector,i)).pipe(An(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(C(ui),C(rh),C(Ts),C(fe),C(nT))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),vy=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof X_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof au&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hM&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new hM(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(C(ui),C(jx),C(void 0))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Ns=new q("ROUTER_CONFIGURATION"),oT=new q("ROUTER_FORROOT_GUARD"),IW=[gh,{provide:ty,useClass:CM},{provide:ui,useFactory:function(n,t,e,i,r,o,s,a={},l,c){const u=new ui(null,n,t,e,i,r,o,gM(s));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),u},deps:[ty,yl,gh,fe,rh,Ts,gy,Ns,[class{},new Rt],[class{},new Rt]]},yl,{provide:_l,useFactory:function(n){return n.routerState.root},deps:[ui]},{provide:rh,useClass:T2},rT,iT,class{preload(t,e){return e().pipe(qo(()=>ee(null)))}},{provide:Ns,useValue:{enableTracing:!1}}];function AW(){return new d_("Router",ui)}let sT=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[IW,aT(e),{provide:oT,useFactory:OW,deps:[[ui,new Rt,new ai]]},{provide:Ns,useValue:i||{}},{provide:dl,useFactory:PW,deps:[Rs,[new mt(T_),new Rt],Ns]},{provide:vy,useFactory:RW,deps:[ui,jx,Ns]},{provide:nT,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:iT},{provide:d_,multi:!0,useFactory:AW},[by,{provide:Yc,multi:!0,useFactory:LW,deps:[by]},{provide:lT,useFactory:VW,deps:[by]},{provide:OS,multi:!0,useExisting:lT}]]}}static forChild(e){return{ngModule:n,providers:[aT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(C(oT,8),C(ui,8))},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({}),n})();function RW(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new vy(n,t,e)}function PW(n,t,e={}){return e.useHash?new Kz(n,t):new Cx(n,t)}function OW(n){return"guarded"}function aT(n){return[{provide:JO,multi:!0,useValue:n},{provide:gy,multi:!0,useValue:n}]}let by=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee}appInitializer(){return this.injector.get($z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(ui),s=this.injector.get(Ns);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?ee(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Ns),r=this.injector.get(rT),o=this.injector.get(vy),s=this.injector.get(ui),a=this.injector.get(ll);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(C(fe))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function LW(n){return n.appInitializer.bind(n)}function VW(n){return n.bootstrapListener.bind(n)}const lT=new q("Router Initializer");var Er=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bl="undefined"!=typeof navigator?navigator.userAgent:"",HW=null!=bl.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function cT(){return HW}var BW=null!=bl.match(/iPad|iPhone|iPod/i);function uT(){return BW}var zW=null!=bl.match(/Firefox\//);function Ls(){return zW}var UW=null!=bl.match(/^((?!Chrome|Android).)*safari/i);function wl(){return UW}var GW=null!=bl.match(/Edge\//);function $W(){return GW}var WW=null!=bl.match(/MSIE |Trident\/|Edge\//);function ht(){return WW}var dT=!1;function vo(){return dT}var hT=!1;function fT(){return hT}var pT=!1;function Qh(n,t){return pT?{capture:n,passive:t}:n}"undefined"!=typeof document&&document.addEventListener("test",function(n){},{get passive(){return pT=!0,!0}});var gT=!1;function mT(){return gT}function _T(n,t){n.effectAllowed=t,Ls()&&n.setData("text","")}if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return gT=!0,!0}}),"undefined"!=typeof document&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(hT=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(dT=!0,document.addEventListener("mousemove",function(n){if(1==n.which){var t=te(n.target,".wj-control");if(t&&!t.style.cursor)for(var e=n.target;e;e=e.parentElement)if(e.attributes&&e.attributes.draggable)return e.dragDrop(),!1}}))),"undefined"!=typeof window){var yT="requestAnimationFrame";if(!window[yT]){var wy=0;window[yT]=function(n){var t=Date.now(),e=16-(t-wy),i=e>0?e:0;return wy=t+i,setTimeout(function(){n(wy)},i)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",KW=new RegExp("[^"+Cl+"]");window.atob=function(n){var t,e,i,r,o=[],s=0,a=n.length;if(KW.test(n)||/=/.test(n)&&(/=[^=]/.test(n)||/={3}/.test(n)))throw new Error("Invalid base64 data");for(a%4>0&&(a=(n+=Array(4-a%4+1).join("=")).length);s<a;){for(e=[],r=s;s<r+4;)e.push(Cl.indexOf(n.charAt(s++)));for(i=[((t=(e[0]<<18)+(e[1]<<12)+((63&e[2])<<6)+(63&e[3]))&255<<16)>>16,64===e[2]?-1:(65280&t)>>8,64===e[3]?-1:255&t],r=0;r<3;++r)(i[r]>=0||0===r)&&o.push(String.fromCharCode(i[r]))}return o.join("")},window.btoa=function(n){for(var t,e,i=[],r=0,o=n.length;r<o;)t=((e=[n.charCodeAt(r++),n.charCodeAt(r++),n.charCodeAt(r++)])[0]<<16)+((e[1]||0)<<8)+(e[2]||0),i.push(Cl.charAt((t&63<<18)>>18),Cl.charAt((258048&t)>>12),Cl.charAt(isNaN(e[1])?64:(4032&t)>>6),Cl.charAt(isNaN(e[2])?64:63&t));return i.join("")}}}var El="undefined"!=typeof window&&window.Symbol?Symbol("_getProxyTarget"):"\t_get\tProxy\tTarget\t";function vT(n,t,e){var i=new WeakMap;if(!e){var r={};if(n.length){var o=n[0];for(var s in o){var a=typeof o[s];r[s]="string"==a?"":"number"==a?0:null}e=r}}return new Proxy(n,{get:function(l,c){if(c===El)return l;if("string"==typeof c||"number"==typeof c){if("indexOf"==c)return function(f,p){var g=l.indexOf(f,p);return g<0&&f&&(f=f[El])&&(g=l.indexOf(f,p)),g};var u=parseInt(c);if(!isNaN(u)){var d=l[u];if(d&&!d[El]){var h=i.get(d);h||(h=function(n,t,e){if(!n[El]){if(ht())for(var i in t)n[i]=null;var r={get:function(o,s,a){if(s===El)return o;if("constructor"===s)return function(){return Object.assign({},e||{})};var l=t[s];if(l)switch(typeof l){case"function":return l(a);case"string":return function(n,t){var e=[t];return(new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+n])))).apply(void 0,e)}(l,a)}return o[s]}};ht()||(r.ownKeys=function(o){return Object.keys(o).concat(Object.keys(t))},r.getOwnPropertyDescriptor=function(o,s){return s in t?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(o,s)}),n=new Proxy(n,r)}return n}(d,t,e),i.set(d,h)),d=h}return d}}return Reflect.get(l,c)}})}function bT(n){return(n?n[El]:null)||n}var Cy,JW=function(){function n(){this._hasDoc="undefined"!=typeof Document,this._ae=this._nativeAe();var t=window,e=this._onBlur.bind(this),i=this._onFocus.bind(this);t.addEventListener("focusout",e,!0),t.addEventListener("focusin",i,!0),ht()||(t.addEventListener("blur",e,!0),t.addEventListener("focus",i,!0))}return Object.defineProperty(n.prototype,"activeElement",{get:function(){var t=this._ae,e=this._nativeAe();return t===n._noAe?t=this._ae=e:t!=e&&(this._isSpecialRoot(t)||document.body.contains(t)||(t=this._ae=e)),t!==n._noAe?t:null},enumerable:!0,configurable:!0}),n.prototype._onBlur=function(t){if(t.isTrusted){var e=t.relatedTarget;this._ae=this._isSpecialRoot(e)?this._nativeAe():e}},n.prototype._onFocus=function(t){t.isTrusted&&(this._ae=this._nativeAe())},n.prototype._isSpecialRoot=function(t){return null==t||t===document.body||this._hasDoc&&t instanceof Document},n.prototype._nativeAe=function(){var t;try{t="unknown"!=typeof document.activeElement?document.activeElement:n._noAe}catch(e){t=n._noAe}return t},n._noAe={},n}();"undefined"!=typeof window&&(Cy=new JW);var Ft,mn=function(){function n(t){this.path=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(t){this._path=t,this._parts=t?t.split("."):[];for(var e=0;e<this._parts.length;e++){var i=this._parts[e],r=i.indexOf("[");r>-1&&(this._parts[e]=i.substr(0,r),this._parts.splice(++e,0,parseInt(i.substr(r+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(t){if(t){if(this._key)return t[this._key];if(this._path&&this._path in t)return t[this._path];for(var e=0;e<this._parts.length&&t;e++)t=t[this._parts[e]]}return t},n.prototype.setValue=function(t,e){if(t)try{var i=this._path;if(i in t)return t[i]=e,t[i]==e;for(var r=0;r<this._parts.length-1;r++)if(null==(t=t[this._parts[r]]))return!1;return t[i=this._parts[this._parts.length-1]]=e,t[i]==e}catch(o){return!1}return!1},n}(),ZW=function(t,e){this.handler=t,this.self=e},x=function(){function n(t){this._handlers=[],this._handlersChanged=t}return n.prototype.addHandler=function(t,e){t=Mt(t),this._handlers.push(new ZW(t,e)),Pe(this._handlersChanged)&&this._handlersChanged()},n.prototype.removeHandler=function(t,e){var i=!1;t=Mt(t);for(var r=0;r<this._handlers.length;r++){var o=this._handlers[r];if(!(o.handler!=t&&null!=t||o.self!=e&&null!=e)&&(this._handlers.splice(r--,1),i=!0,t&&e))break}i&&Pe(this._handlersChanged)&&this._handlersChanged()},n.prototype.removeAllHandlers=function(){var t=this._handlers.length>0;this._handlers.length=0,t&&Pe(this._handlersChanged)&&this._handlersChanged()},n.prototype.raise=function(t,e){void 0===e&&(e=Qo.empty);for(var i=this._handlers,r=0;r<i.length;r++){var o=i[r];o.handler.call(o.self,t,e),i[r]!==o&&r--}},Object.defineProperty(n.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),n}(),Qo=function(){function n(){}return n.empty=new n,n}(),ft=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.cancel=!1,e}return Er(t,n),t}(Qo),XW=function(n){function t(e,i,r){var o=n.call(this)||this;return o._name=e,o._oldVal=i,o._newVal=r,o}return Er(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(Qo),e8=function(n){function t(e,i){var r=n.call(this)||this;return r._xhr=e,r._msg=i,r}return Er(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(e){this._msg=e},enumerable:!0,configurable:!0}),t}(ft);!function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove",n[n.Change=2]="Change",n[n.Reset=3]="Reset"}(Ft||(Ft={}));var E,We,Ki=function(n){function t(e,i,r){void 0===e&&(e=Ft.Reset),void 0===i&&(i=null),void 0===r&&(r=-1);var o=n.call(this)||this;return o.action=e,o.item=i,o.index=r,o}return Er(t,n),t.reset=new t(Ft.Reset),t}(Qo),bo=function(){function n(t,e){this._bnd=new mn(t),this._asc=e}return Object.defineProperty(n.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),n}(),wT=function(n){function t(e){var i=n.call(this)||this;return i.newPageIndex=e,i}return Er(t,n),t}(ft),Ey=function(){function n(){}return n.prototype.groupNameFromItem=function(t,e){return""},n.prototype.namesMatch=function(t,e){return t===e},n}(),Dy=function(n){function t(e,i){var r=n.call(this)||this;return r._bnd=new mn(e),r._converter=i,r}return Er(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(e,i){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)},t.prototype.namesMatch=function(e,i){return e===i},t}(Ey);function Sy(){return"5.20212.812"}function n8(n){R._licKey=n}function Di(n,t){return null==n?null:le(t)?Pe(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function _u(n){return le(n)||Be(n)||_n(n)||yt(n)}function le(n){return"string"==typeof n}function i8(n){return!n||!/\S/.test(n)}function Be(n){return"number"==typeof n}function Jh(n){return Be(n)&&n==Math.round(n)}function _n(n){return"boolean"==typeof n}function Pe(n){return"function"==typeof n}function Jo(n){return void 0===n}function yt(n){return(n instanceof Date||"[object Date]"===Object.prototype.toString.call(n))&&!isNaN(n.getTime())}function Kt(n){return n instanceof Array||Array.isArray(n)||"[object Array]"===Object.prototype.toString.call(n)}function On(n){return null!=n&&"object"==typeof n&&!yt(n)&&!Kt(n)}function r8(n){for(var t in n)return!1;return!0}function xy(n){for(var t=n,e=0;null!=document.getElementById(t);e++)t=n+e;return t}function Dl(n){if(n instanceof ti)return n;if(n&&n.touches&&n.touches.length>0&&(n=n.touches[0]),Be(n.clientX)&&Be(n.clientY))return new ti(n.clientX+pageXOffset,n.clientY+pageYOffset);throw"Mouse or touch event expected."}function Vs(n){return Be(n)?We.Number:_n(n)?We.Boolean:yt(n)?We.Date:le(n)?We.String:Kt(n)?We.Array:We.Object}function CT(n){var t=[];if(n&&n.length>0){var e=n[0];for(var i in e)for(var r=null,o=0;o<n.length&&o<1e3&&null==r;o++)if(_u(r=n[o][i])){var s=Object.getOwnPropertyDescriptor(n[o],i);t.push({binding:i,dataType:Vs(r),isReadOnly:s&&!s.writable&&!s.set})}}return t}function js(n,t,e,i){if(null!=n){var r=We;if(le(n))switch(t){case r.Number:var o=Ce.parseFloat(n,e);return isNaN(o)?n:o;case r.Date:var s=Ce.parseDate(n,e,yt(i)?i:null);return s||e||!n||(s=new Date(n)),s&&isFinite(s.getTime())?s:n;case r.Boolean:switch(n.toLowerCase()){case"true":return!0;case"false":return!1}return n;case r.Array:try{var a=n.split(",").map(function(l){return(l=l.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?l:'"'+l+'"'});return JSON.parse("["+a.join(",")+"]")}catch(l){}}if(t==We.String)return Ce.format(n,e)}return n}function My(n,t,e){if(e){var i=(r=n.toString()).indexOf(".");r.indexOf("e")<0&&i>-1&&(r=r.substr(0,i+1+t),n=parseFloat(r))}else{var r=n.toFixed(t);n=parseFloat(r)}return n}function Sl(n,t,e){if((n=k(n)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i=JSON.parse(n);if(le(i.count)){var r=t[i.count],o=i.when;if(Be(r)&&On(o)){var s=o[r]||o.other;le(s)&&(n=s)}}}catch(a){}return n.replace(/\{(.*?)(:(.*?))?\}/g,function(a,l,c,u){var d=a;return l&&"{"!=l[0]&&t&&(d=new mn(l).getValue(t),u&&(d=Ce.format(d,u)),e&&(d=e(t,l,u,d))),null==d?"":d})}function ET(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=[],i=-1;return n[0].forEach(function(r,o){if(o>0&&o!=i){var s=n[o],a=r.match(/^:([a-z][0-9]*\b)/i)||r.match(/^:'(.+?)'/)||r.match(/^:"(.+?)"/);a?(s=Ce.format(s,a[1]),r=r.substr(a[0].length)):":"==r&&o<n.length-1&&(Be(s)||yt(s))&&(s=Ce.format(s,n[o+1]),r="",i=o+1),e.push(s)}r&&e.push(r)}),e.join("")}function DT(n,t){return ht()?(n=n.replace(/:\${([^}]*)}/g,function(e,i){return":"+Ty(i,t)})).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,function(e,i,r,o,s,a,l){var c=Ty(i,t);return o?Ce.format(c,s||a||l):c}):Ty(n,t)}function Ty(n,t){(t=t||{}).glbz=ET;var e=Object.keys(t),i=e.map(function(r){return t[r]});return(ht()?new(Function.bind.apply(Function,[void 0].concat(e,["return "+n]))):new(Function.bind.apply(Function,[void 0].concat(e,["return glbz`"+n+"`"])))).apply(void 0,i)}function qe(n,t,e){return null!=n&&(null!=e&&n>e&&(n=e),null!=t&&n<t&&(n=t)),n}function wo(n,t){if(t)for(var e in t)if("_"!=e[0]){J(e in n,'Unknown property "'+e+'".');var i=t[e];n._copy&&n._copy(e,i)||(n[e]instanceof x?Pe(i)&&n[e].addHandler(i):!On(i)||"undefined"!=typeof Element&&i instanceof Element||!n[e]||"itemsSource"==e?n[e]=i:wo(n[e],i))}return n}function J(n,t){if(!n){t="** Assertion failed in Wijmo: "+t;var e=new Error;throw le(e.stack)&&(t+=" "+e.stack),t}}function Zh(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function k(n,t){return void 0===t&&(t=!0),Jo(n)&&(n=null),J(t&&null==n||le(n),"String expected."),n}function N(n,t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),J(t&&null==n||Be(n),"Number expected."),e&&n&&n<0)throw"Positive number expected.";return n}function Ct(n,t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),J(t&&null==n||Jh(n),"Integer expected."),e&&n&&n<0)throw"Positive integer expected.";return n}function M(n,t){return void 0===t&&(t=!1),J(t&&null==n||_n(n),"Boolean expected."),n}function Si(n,t){if(void 0===t&&(t=!1),le(n)){var e=js(n,We.Date,"r");yt(e)&&(n=e)}return J(t&&null==n||yt(n),"Date expected."),n}function Mt(n,t){return void 0===t&&(t=!0),J(t&&null==n||Pe(n),"Function expected."),n}function Sn(n,t){return void 0===t&&(t=!0),J(t&&null==n||Kt(n),"Array expected."),n}function ot(n,t,e){return void 0===e&&(e=!1),n=Di(n,t),J(e||null!=n,t+" expected."),n}function Xe(n,t,e){if(void 0===e&&(e=!1),null==n&&e)return null;var i=le(n)?t[n]:n;return J(null!=i,'Invalid enum value: "'+n+'"'),Be(i)?i:n}function yu(n,t){if(void 0===t&&(t=!0),null==n&&t)return null;var e=Di(n,"ICollectionView");return null!=e?e:(Kt(n)||J(!1,"Array or ICollectionView expected."),new Ji(n))}function Yt(n){return null!=n&&null!=n.items&&n.items.length>0}function Xh(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function Dr(n){return n&&le(n)&&(n=n.replace(/[&<>"'\/]/g,function(t){return o8[t]})),null!=n?n.toString():""}!function(n){n[n.Back=8]="Back",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.Left=37]="Left",n[n.Up=38]="Up",n[n.Right=39]="Right",n[n.Down=40]="Down",n[n.Delete=46]="Delete",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F3=114]="F3",n[n.F4=115]="F4",n[n.F5=116]="F5",n[n.F6=117]="F6",n[n.F7=118]="F7",n[n.F8=119]="F8",n[n.F9=120]="F9",n[n.F10=121]="F10",n[n.F11=122]="F11",n[n.F12=123]="F12"}(E||(E={})),function(n){n[n.Object=0]="Object",n[n.String=1]="String",n[n.Number=2]="Number",n[n.Boolean=3]="Boolean",n[n.Date=4]="Date",n[n.Array=5]="Array"}(We||(We={}));var ef,o8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function vu(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function Sr(n){var t=k(n);return le(t)&&t.indexOf("<")>-1&&(ef||(ef=document.createElement("div")),ef.innerHTML=t,t=ef.textContent),t}function st(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!vo())return n.classList.contains(t);if(n.getAttribute){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");return n&&e.test(n.getAttribute("class"))}}return!1}function ze(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!vo())return void(t.indexOf(" ")<0?n.classList.add(t):t.split(" ").forEach(function(e){n.classList.add(e)}));n.setAttribute&&t.split(" ").forEach(function(e){if(!st(n,e)){var i=n.getAttribute("class");n.setAttribute("class",i?i+" "+e:e)}})}}function ei(n,t){if(n&&t){if(n instanceof HTMLElement&&n.classList&&!vo())return void(t.indexOf(" ")<0?n.classList.remove(t):t.split(" ").forEach(function(e){n.classList.remove(e)}));n.setAttribute&&t.split(" ").forEach(function(e){if(st(n,e)){var i=new RegExp("((\\s|^)"+e+"(\\s|$))","g"),r=n.getAttribute("class");(r=r.replace(i," ").replace(/ +/g," ").trim())?n.setAttribute("class",r):n.removeAttribute("class")}})}}function ge(n,t,e){null==e&&(e=!st(n,t)),e?ze(n,t):ei(n,t)}function F(n,t,e,i){n&&(null!=e?i&&n.getAttribute(t)||n.setAttribute(t,e.toString()):n.removeAttribute(t))}function Hs(n,t){var e=null==t;n.checked=ht()?t||e:t,n.indeterminate=e}function at(n,t){F(n,"aria-label",t)}function xe(n,t,e){if(void 0===e&&(e=t),J(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),oe(document.body,n)&&!n.disabled&&n.offsetHeight){try{n.setSelectionRange(t,e,"backward")}catch(i){}try{return n.focus(),!0}catch(i){}}return!1}function tf(n){var t="autocomplete",e=n.getAttribute(t);e&&"on"!=e||n.setAttribute(t,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach(function(i){n.setAttribute(i,"spellcheck"==i?"false":"off")})}function Tt(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function Oe(){var n=document.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function ST(){var n=Cy.activeElement;if(n){var t=n.shadowRoot;t&&t.activeElement&&(n=t.activeElement)}return n}function Zo(n,t){var e=xT(n),i=0;if(t){var r=e.indexOf(Oe());r>-1&&(i=(r+t+e.length)%e.length)}if(i<e.length){var o=e[i];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function xT(n){var t=[],e=Array.prototype.slice.call(n.querySelectorAll("input,select,textarea,button,a,div"));e.sort(function(s,a){return s.tabIndex-a.tabIndex});for(var i=0;i<e.length;i++){var r=e[i];if(r.offsetHeight>0&&r.tabIndex>-1&&!r.disabled&&"hidden"!==window.getComputedStyle(r).visibility&&!te(r,"[disabled],.wj-state-disabled")){if(r instanceof HTMLAnchorElement&&!r.hasAttribute("href"))continue;if(ht()&&!r.hasAttribute("tabindex")){if(r instanceof HTMLDivElement)continue;var o=R.getControl(te(r,".wj-flexgrid"));if(o&&0==o.keyActionTab)continue}!R.getControl(r)&&xT(r).length||t.push(r)}}return t}function s8(n,t,e){void 0===e&&(e="text/plain"),(e.match(/\bcsv\b/i)||t.match(/\.csv$/i))&&(n="\ufeff"+n);var i=new Blob([n],{type:e});if(Pe(navigator.msSaveBlob))navigator.msSaveBlob(i,t);else{var r=URL.createObjectURL(i),o=Je('<a href="'+r+'" download="'+t+'"></a>',document.body,{display:"none"});o.click(),o.remove(),URL.revokeObjectURL(r)}}function Co(n){if(n instanceof Element)return n;if(le(n))try{return document.querySelector(n)}catch(t){}return n&&n.jquery?n[0]:null}function Je(n,t,e){n=n.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var i=document.createElement("div");if(i.innerHTML=n,n.indexOf("_wj-style")>-1)for(var r=i.querySelectorAll("[_wj-style]"),o=function(a){var l=r[a];l.getAttribute("_wj-style").split(";").forEach(function(c){var u=c.split(":");2==u.length&&(l.style[u[0].trim()]=u[1].trim())}),l.removeAttribute("_wj-style")},s=0;s<r.length;s++)o(s);return 1==i.children.length&&(i=i.children[0]),e&&G(i,e),t&&(t=Co(t)).appendChild(i),i}function Ut(n,t){n.textContent=t||""}function oe(n,t,e){for(var i=t;i&&n;){if(i===n)return!0;i=(e?i[R._OWNR_KEY]:null)||i.parentNode||i.host}return!1}function te(n,t){if(n){if(Pe(n.closest))return n.closest(t);var e=n.matches||n.webkitMatchesSelector||n.msMatchesSelector||n.mozMatchesSelector;if(e)for(;n&&1===n.nodeType;n=n.parentElement||n.parentNode)if(e.call(n,t))return n}return null}function di(n,t){return te(n,"."+t)}function xn(n,t){var e=!t,i="disabled";ge(n,"wj-state-disabled",e),F(n,i,e?i:null);for(var r=n.querySelectorAll("input,button"),o=0;o<r.length;o++)F(r[o],i,e?i:null)}function nf(n){var t=n.getBoundingClientRect();return new ni(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function G(n,t){if(J(On(t),"css parameter should be an object"),n instanceof Array)for(var e=0;e<n.length;e++)G(n[e],t);else if(n&&n.style){var i=n.style;for(var r in t){var o=t[r];"number"==typeof o&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),i[r]!==o&&(i[r]=o)}}}function Iy(n,t,e){null==t&&(t=R._ANIM_DEF_DURATION),null==e&&(e=R._ANIM_DEF_STEP),n=Mt(n),t=N(t,!1,!0),e=N(e,!1,!0);var i,r=Date.now(),o=setInterval(function(){var s=Math.min(1,(Date.now()-r)/t);s=Math.sin(s*Math.PI/2),s*=s,i&&cancelAnimationFrame(i),i=requestAnimationFrame(function(){i=null,n(s)}),s>=1&&clearInterval(o)},e);return o}var ti=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=N(t),this.y=N(e)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}(),Yi=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=N(t),this.height=N(e)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}(),ni=function(){function n(t,e,i,r){this.left=N(t),this.top=N(e),this.width=N(i),this.height=N(r)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(t){return null!=t.left?new n(t.left,t.top,t.width,t.height):null!=t.x?new n(t.x,t.y,t.width,t.height):void J(!1,"Invalid source rectangle.")},n.union=function(t,e){var i=Math.min(t.left,e.left),r=Math.min(t.top,e.top);return new n(i,r,Math.max(t.right,e.right)-i,Math.max(t.bottom,e.bottom)-r)},n.intersection=function(t,e){var i=Math.max(t.left,e.left),r=Math.max(t.top,e.top);return new n(i,r,Math.min(t.right,e.right)-i,Math.min(t.bottom,e.bottom)-r)},n.prototype.contains=function(t){return t instanceof ti?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof n?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void J(!1,"Point or Rect expected.")},n.prototype.inflate=function(t,e){return new n(this.left-t,this.top-e,this.width+2*t,this.height+2*e)},n}(),K=function(){function n(){}return n.addDays=function(t,e){return(t=new Date(t.getTime())).setDate(t.getDate()+e),t},n.addMonths=function(t,e){var i=(t=new Date(t.getTime())).getDate();return t.setMonth(t.getMonth()+e),t.getDate()!=i&&t.setDate(0),t},n.addYears=function(t,e){return(t=new Date(t.getTime())).setFullYear(t.getFullYear()+e),t},n.addHours=function(t,e){return(t=new Date(t.getTime())).setHours(t.getHours()+e),t},n.addMinutes=function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t},n.addSeconds=function(t,e){return(t=new Date(t.getTime())).setSeconds(t.getSeconds()+e),t},n.weekFirst=function(t,e){return void 0===e&&(e=Ce.getFirstDayOfWeek()),n.addDays(t,-(t.getDay()-e))},n.weekLast=function(t,e){return void 0===e&&(e=Ce.getFirstDayOfWeek()),t=n.weekFirst(t,e),n.addDays(t,6)},n.monthFirst=function(t){return n.addDays(t,1-t.getDate())},n.monthLast=function(t){return t=n.monthFirst(t),t=n.addMonths(t,1),n.addDays(t,-1)},n.yearFirst=function(t){return new Date(t.getFullYear(),0,1)},n.yearLast=function(t){return new Date(t.getFullYear(),11,31)},n.sameDate=function(t,e){return yt(t)&&yt(e)&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()},n.sameTime=function(t,e){return yt(t)&&yt(e)&&t.getHours()==e.getHours()&&t.getMinutes()==e.getMinutes()&&t.getSeconds()==e.getSeconds()&&t.getMilliseconds()==e.getMilliseconds()},n.equals=function(t,e){return null==t&&null==e||yt(t)&&yt(e)&&t.getTime()==e.getTime()},n.fromDateTime=function(t,e){return t||e?(t||(t=e),e||(e=t),n.newDate(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):null},n.toFiscal=function(t,e){var i=ve.Globalize.calendar;return Kt(i.fiscalYearOffsets)?n.addMonths(t,-i.fiscalYearOffsets[e?0:1]):t},n.fromFiscal=function(t,e){var i=ve.Globalize.calendar;return Kt(i.fiscalYearOffsets)?n.addMonths(t,+i.fiscalYearOffsets[e?0:1]):t},n.newDate=function(t,e,i,r,o,s,a){if(null==t||null==e||null==i){var l=new Date;null==t&&(t=l.getFullYear()),null==e&&(e=l.getMonth()),null==i&&(i=l.getDate())}null==r&&(r=0),null==o&&(o=0),null==s&&(s=0),null==a&&(a=0);var c=new Date(t,e,i,r,o,s,a),u=c.getFullYear();return t<100&&u>=1900&&c.setFullYear(c.getFullYear()-1900),c},n.clone=function(t){return n.fromDateTime(t,t)},n}();function Ay(n,t){var e=t||{},i=e.method?k(e.method).toUpperCase():"GET",r=null==e.async||M(e.async),o=e.data;if(null!=o&&"GET"==i){var s=[];for(var a in o){var l=o[a];yt(l)&&(l=l.toJSON()),s.push(a+"="+encodeURIComponent(l))}if(s.length){var c=n.indexOf("?")<0?"?":"&";n+=c+s.join("&")}o=null}var u=new XMLHttpRequest;u.URL_DEBUG=n;var d=!1;if(null!=o&&!le(o)&&(d=On(o),o=JSON.stringify(o)),u.onload=function(){4==u.readyState&&(u.status<300?e.success&&Mt(e.success)(u):e.error&&Mt(e.error)(u),e.complete&&Mt(e.complete)(u))},u.onerror=function(){if(!Pe(e.error))throw"HttpRequest Error: "+u.status+" "+u.statusText;e.error(u)},u.open(i,n,r,e.user,e.password),e.user&&e.password&&u.setRequestHeader("Authorization","Basic "+btoa(e.user+":"+e.password)),d&&u.setRequestHeader("Content-Type","application/json"),e.requestHeaders)for(var h in e.requestHeaders)u.setRequestHeader(h,e.requestHeaders[h]);return Be(e.timeout)&&(u.timeout=e.timeout),Pe(e.beforeSend)&&e.beforeSend(u),u.send(o),u}var MT={};function xl(n,t){if(MT[n]=t,"wijmo"===n){var e="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;e&&(e.wijmo=t)}}function rf(n){return MT[n]}var TT=function(){function n(t){if(void 0===t&&(t=!0),t)this._h={};else{var e=function(){var n=null;return"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n}();this._m=e&&e.Map&&new Map||new a8}}return Object.defineProperty(n.prototype,"isPojoHash",{get:function(){return null!=this._h},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._h&&Object.keys(this._h).length||this._m.size},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._h?this._h={}:this._m.clear()},n.prototype.delete=function(t){this._h?delete this._h[t]:this._m.delete(t)},n.prototype.get=function(t){return this._h?this._h[t]:this._m.get(t)},n.prototype.has=function(t){return this._h?t in this._h:this._m.has(t)},n.prototype.set=function(t,e){return this._h?this._h[t]=e:this._m.set(t,e),this},n}(),a8=function(){function n(){this._d=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this._d.length},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this._d=[]},n.prototype.delete=function(t){var e=this._kIdx(t);return e>-1&&(this._d.splice(e,1),!0)},n.prototype.get=function(t){var e=this._kIdx(t);return e>-1?this._d[e].v:void 0},n.prototype.has=function(t){return this._kIdx(t)>-1},n.prototype.set=function(t,e){var i=this._kIdx(t);return i>-1?this._d[i].v=e:this._d.push({k:t,v:e}),this},n.prototype._kIdx=function(t){var e=this._d,i=e.length;if(t==t){for(var r=0;r<i;r++)if(e[r].k===t)return r}else for(r=0;r<i;r++){var o=e[r].k;if(o!=o)return r}return-1},n}(),ii=function(){function n(t){this._r=0,this._g=0,this._b=0,this._a=1,t&&this._parse(t)}return Object.defineProperty(n.prototype,"r",{get:function(){return this._r},set:function(t){this._r=qe(N(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"g",{get:function(){return this._g},set:function(t){this._g=qe(N(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this._b},set:function(t){this._b=qe(N(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"a",{get:function(){return this._a},set:function(t){this._a=qe(N(t),0,1)},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},n.prototype.toString=function(){var t=Math.round(100*this.a);return t>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+t/100+")"},n.fromRgba=function(t,e,i,r){void 0===r&&(r=1);var o=new n(null);return o.r=Math.round(qe(N(t),0,255)),o.g=Math.round(qe(N(e),0,255)),o.b=Math.round(qe(N(i),0,255)),o.a=qe(N(r),0,1),o},n.fromHsb=function(t,e,i,r){void 0===r&&(r=1);var o=n._hsbToRgb(qe(N(t),0,1),qe(N(e),0,1),qe(N(i),0,1));return n.fromRgba(o[0],o[1],o[2],r)},n.fromHsl=function(t,e,i,r){void 0===r&&(r=1);var o=n._hslToRgb(qe(N(t),0,1),qe(N(e),0,1),qe(N(i),0,1));return n.fromRgba(o[0],o[1],o[2],r)},n.fromString=function(t){var e=new n(null);return e._parse(k(t))?e:null},n.prototype.getHsb=function(){return n._rgbToHsb(this.r,this.g,this.b)},n.prototype.getHsl=function(){return n._rgbToHsl(this.r,this.g,this.b)},n.interpolate=function(t,e,i){i=qe(N(i),0,1);var r=n._rgbToHsl(t.r,t.g,t.b),o=n._rgbToHsl(e.r,e.g,e.b),s=1-i,a=t.a*s+e.a*i,l=[r[0]*s+o[0]*i,r[1]*s+o[1]*i,r[2]*s+o[2]*i],c=n._hslToRgb(l[0],l[1],l[2]);return n.fromRgba(c[0],c[1],c[2],a)},n.toOpaque=function(t,e){if(1==(t=le(t)?n.fromString(t):ot(t,n)).a)return t;e=null==e?n.fromRgba(255,255,255,1):le(e)?n.fromString(e):ot(e,n);var i=t.a,r=1-i;return n.fromRgba(t.r*i+e.r*r,t.g*i+e.g*r,t.b*i+e.b*r)},n.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")){var e=document.createElement("div");e.style.color=t;var i=e.style.color;i==t&&!(i=window.getComputedStyle(e).color)&&(document.body.appendChild(e),i=window.getComputedStyle(e).color,Tt(e)),t=i.toLowerCase()}if(0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var r=t.indexOf("("),o=t.indexOf(")");if(r>-1&&o>-1&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}var s;if(0==t.indexOf("hsl")&&(r=t.indexOf("("),o=t.indexOf(")"),r>-1&&o>-1)&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2){var a=parseInt(s[0])/360,l=parseInt(s[1]),c=parseInt(s[2]);s[1].indexOf("%")>-1&&(l/=100),s[2].indexOf("%")>-1&&(c/=100);var u=n._hslToRgb(a,l,c);return this.r=u[0],this.g=u[1],this.b=u[2],this.a=s.length>3?parseFloat(s[3]):1,!0}return!1},n._hslToRgb=function(t,e,i){var r,o,s;if(J(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSL values"),0==e)r=o=s=i;else{var a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;r=n._hue2rgb(l,a,t+1/3),o=n._hue2rgb(l,a,t),s=n._hue2rgb(l,a,t-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]},n._hue2rgb=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},n._rgbToHsl=function(t,e,i){J(t>=0&&t<=255&&e>=0&&e<=255&&i>=0&&i<=255,"bad RGB values"),t/=255,e/=255,i/=255;var r,o,s=Math.max(t,e,i),a=Math.min(t,e,i),l=(s+a)/2;if(s==a)r=o=0;else{var c=s-a;switch(o=l>.5?c/(2-s-a):c/(s+a),s){case t:r=(e-i)/c+(e<i?6:0);break;case e:r=(i-t)/c+2;break;case i:r=(t-e)/c+4}r/=6}return[r,o,l]},n._rgbToHsb=function(t,e,i){J(t>=0&&t<=255&&e>=0&&e<=255&&i>=0&&i<=255,"bad RGB values");var r=n._rgbToHsl(t,e,i);return n._hslToHsb(r[0],r[1],r[2])},n._hsbToRgb=function(t,e,i){var r=n._hsbToHsl(t,e,i);return n._hslToRgb(r[0],r[1],r[2])},n._hsbToHsl=function(t,e,i){J(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSB values");var r=qe(i*(2-e)/2,0,1),o=1-Math.abs(2*r-1),s=qe(o>0?i*e/o:e,0,1);return J(!isNaN(r)&&!isNaN(s),"bad conversion to HSL"),[t,s,r]},n._hslToHsb=function(t,e,i){J(t>=0&&t<=1&&e>=0&&e<=1&&i>=0&&i<=1,"bad HSL values");var r=qe(1==i?1:(2*i+e*(1-Math.abs(2*i-1)))/2,0,1),o=qe(r>0?2*(r-i)/r:e,0,1);return J(!isNaN(r)&&!isNaN(o),"bad conversion to HSB"),[t,o,r]},n}(),ve="undefined"!=typeof window&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},Ce=function(){function n(){}return n.format=function(t,e,i,r,o){return le(t)?t:Be(t)?(e=e||(t==Math.round(t)?"n0":"n2"),n.formatNumber(t,e,i,r,o)):yt(t)?n.formatDate(t,e=e||"d"):null!=t?t.toString():""},n.formatNumber=function(t,e,i,r,o){t=N(t),e=k(e);var s,a=ve.Globalize.numberFormat,l=n._parseNumericFormat(e),c=l.spec,u=l.prec,d=a["."]||".",h=a[","]||",",f=a["-"]||"-",p=Math;if(null==u&&(u=null!=o?o:"c"==c?a.currency.decimals:"e"==c?6:"r"==c?15:t==p.round(t)?0:2),l.scale&&(t/=p.pow(10,l.scale)),"d"==c||"x"==c){for(s=(r?p.floor:p.round)(p.abs(t)).toString("d"==c?10:16);s.length<u;)s="0"+s;return t<0&&(s=f+s),"X"==l.specRaw?s.toUpperCase():s}switch("p"==c&&(t=My(t=n._shiftDecimal(t,2),u,r)),r&&"p"!=c&&"e"!=c&&(t=My(t,u,!0)),c){case"e":s=t.toExponential(u),"E"==l.specRaw&&(s=s.replace("e","E"));break;case"c":case"p":s=n._toFixedStr(p.abs(t),u);break;default:"-"!=(s=n._toFixedStr(t,u))[0]||s.match(/[1-9]/)||(s=s.substr(1))}if((i||"g"==c||"r"==c)&&s.indexOf(".")>-1&&(s=s.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=d&&(s=s.replace(".",d)),"-"!=f&&(s=s.replace("-",f)),h&&("n"==c||"c"==c||"p"==l.specRaw||"F"==l.specRaw||"G"==l.specRaw)){var g=s.indexOf(d),m=/\B(?=(\d\d\d)+(?!\d))/g;s=g>-1?s.substr(0,g).replace(m,h)+s.substr(g):s.replace(m,h)}if("c"==c){var y=t<0&&s.match(/[1-9]/)?0:1,_=a.currency.pattern[y],v=l.curr||a.currency.symbol;"\u200b"==v&&(v=""),s=_.replace("n",s).replace("$",v)}if("p"==c){y=t<0&&s.match(/[1-9]/)?0:1;var w=a["%"]||"%";s=(_=a.percent.pattern[y]).replace("n",s),"%"!=w&&(s=s.replace("%",w)),"-"!=f&&0==y&&(s=s.replace("-",f))}return l.prefix||l.suffix?l.prefix+s+l.suffix:s},n.formatDate=function(t,e){switch(t=Si(t),e){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}return e=n._expandFormat(e),n._parseDateFormat(e).map(function(i){return n._formatDatePart(t,e,i)}).join("")},n.parseInt=function(t,e){return Math.round(n.parseFloat(t,e))},n.parseFloat=function(t,e){var i=n._parseNumericFormat(e),r=i.prefix;r&&0==t.indexOf(r)&&(t=t.substring(r.length));var o=i.suffix;if(o){var s=t.lastIndexOf(o);s>-1&&s==t.length-o.length&&(t=t.substring(0,t.length-o.length))}var a=ve.Globalize.numberFormat,l=a["."]||".",c=a[","]||",",u=a["-"]||"-",d=a["%"]||"%",h=i.curr||a.currency.symbol||"$",f=t.indexOf(d)>-1,p=t.indexOf("(")>-1&&t.indexOf(")")>-1,g=0;if("x"==i.spec)g=parseInt(t,16);else{[h,d,"(",")"].forEach(function(y){t=t.replace(y,"")}),/\s/.test(c)&&(t=t.replace(/\s+/g,""));var m=(t=t.replace(new RegExp("\\"+c,"g"),"").replace(new RegExp("\\"+u,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(l,".").trim()).length;!p&&m&&"-"==t[m-1]&&(p=!0,t=t.substring(0,m-1)),g=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(t)?parseFloat(t):Number.NaN}return isNaN(g)||(p=p||g<0,g=Math.abs(g),f&&(g=n._shiftDecimal(g,-2)),p&&(g=-g),i.scale&&(g*=Math.pow(10,i.scale))),g},n.parseDate=function(t,e,i){if(!(t=k(t)))return null;if("u"==e)return new Date(t);var r;if("R"==e||"r"==e){var o=t.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(t),isNaN(r.getTime())?null:r}e=n._expandFormat(e||"d");var s=ve.Globalize.calendar,a=n._CJK,l=new RegExp("(\\"+s["/"]+")|(\\"+s[":"]+")|(\\d+)|(["+a+"\\.]{2,})|(["+a+"]+)","gi"),c=t.match(l),u=n._parseDateFormat(e),d=0;if(!(c&&c.length&&u&&u.length))return null;var h,f,p,g,m,y=-1,_=0,v=1,w=0,D=0,T=0,S=0,P=-1,j=null;(i=Si(i,!0))&&(_=i.getMonth(),v=i.getDate(),w=i.getHours(),D=i.getMinutes(),T=i.getSeconds(),S=i.getMilliseconds());for(var B=0;B<u.length&&c;B++){var Z=B-d,I=Z>-1&&Z<c.length?c[Z]:"",Q=u[B].length;switch(u[B]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":m=u[B];case"yyyy":case"yyy":case"yy":case"y":Q>1&&I.length>Q&&(c[Z]=I.substr(Q),I=I.substr(0,Q),d++),y=parseInt(I),g=4==I.length;break;case"MMMM":case"MMM":p=!0,_=-1;for(var Ue=I.toLowerCase(),Vt="MMMM"==u[B]?s.months:s.monthsAbbr,O=0;O<12;O++)if(0==Vt[O].toLowerCase().indexOf(Ue)){_=O;break}if(_>-1)break;case"MM":case"M":p=!0,Q>1&&I.length>Q&&(c[Z]=I.substr(Q),I=I.substr(0,Q),d++),_=parseInt(I)-1;break;case"dddd":case"ddd":h=!0;break;case"dd":case"d":Q>1&&I.length>Q&&(c[Z]=I.substr(Q),I=I.substr(0,Q),d++),v=parseInt(I),f=!0;break;case"hh":case"h":Q>1&&I.length>Q&&(c[Z]=I.substr(Q),I=I.substr(0,Q),d++),w=12==(w=parseInt(I))?0:w;break;case"HH":Q>1&&I.length>Q&&(c[Z]=I.substr(Q),I=I.substr(0,Q),d++),w=parseInt(I);break;case"H":w=parseInt(I);break;case"mm":case"m":Q>1&&I.length>Q&&(c[Z]=I.substr(Q),I=I.substr(0,Q),d++),D=parseInt(I);break;case"ss":case"s":Q>1&&I.length>Q&&(c[Z]=I.substr(Q),I=I.substr(0,Q),d++),T=parseInt(I);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":S=parseInt(I)/Math.pow(10,Q-3);break;case"tt":case"t":I=I.toUpperCase(),w<12&&s.pm.indexOf(I)>-1&&(w+=12);break;case"q":case"Q":case"u":case"U":P=parseInt(I);break;case"ggg":case"gg":case"g":if(j=s.eras.length>1?n._getEra(I,s):null,s.eras.length>0&&!j)return null;break;case"/":case":":if(I&&I!=s[u[B]])return null;break;case s["/"]:case s[":"]:if(I&&I!=u[B])return null;break;case"K":break;default:n._unquote(u[B]).trim()!=I.trim()&&d++}}if(p&&f&&(isNaN(w)&&(w=0),isNaN(D)&&(D=0),isNaN(T)&&(T=0)),_<0||_>11||isNaN(_)||v<1||v>31||isNaN(v)||w<0||w>=24||isNaN(w)||D<0||D>=60||isNaN(D)||T<0||T>=60||isNaN(T)||c.length+d>u.length)return null;if(m){if(!p)return null;var L=ve.Globalize.calendar;if(Kt(L.fiscalYearOffsets)){var ce=_-L.fiscalYearOffsets["E"==m[0]?0:1];y+=ce>11?-1:ce<0?1:0}}if(h&&!f)return null;if(!p&&P>=1&&P<=4&&(_=3*(P-1)),isNaN(y)||y<0)y=i?i.getFullYear():(new Date).getFullYear();else if(j&&j.start)y=y+j.start.getFullYear()-1;else if(y<100&&!g){var Ge=Be(s.twoDigitYearMax)?s.twoDigitYearMax:2029;Ge>99&&(y+=y+2e3<=Ge?2e3:1900)}return(r=K.newDate(y,_,v,w,D+0,T,S)).getMonth()!=_||r.getDate()!=v||isNaN(r.getTime())?null:r},n.getFirstDayOfWeek=function(){return ve.Globalize.calendar.firstDay||0},n.getNumberDecimalSeparator=function(){return ve.Globalize.numberFormat["."]||"."},n._toFixedStr=function(t,e){var i=t.toString(),r=i.indexOf("."),o=e-(i.length-r)+1,s=i.indexOf("e")>-1;return!s&&r>-1&&o>=0?i+Array(o+1).join("0"):(r>-1&&!s&&"5"==i[i.length-1]&&(t=+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)*(t<0?-1:1)),t.toFixed(e))},n._unquote=function(t){return t.length>1&&t[0]==t[t.length-1]&&("'"==t[0]||'"'==t[0])?t.substr(1,t.length-2):t},n._parseNumericFormat=function(t){var e=n._numFormatInfo[t];if(!e){var i=t&&t.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],r=i[3]?i[3]:"n";r.length>1&&(i=[],r="n"),e={prefix:i[2]||"",spec:r.toLowerCase(),specRaw:r,prec:i[4]?parseInt(i[4]):null,scale:i[5]?3*i[5].length:0,suffix:i[7]||"",curr:i[8]||null},n._numFormatInfo[t]=e}return e},n._parseDateFormat=function(t){var e=n._dateFormatParts[t];if(!e){if(e=[],t){var i=void 0,r=void 0;for(i=0;i>-1&&i<t.length;i++){var o=t[i];if(("'"==o||'"'==o)&&(r=t.indexOf(o,i+1))>-1)e.push(t.substring(i,r+1)),i=r;else if("\\"==o&&i<t.length-1)i++,e.push('"'+t[i]+'"');else{for(r=i+1;r<t.length&&t[r]==o;r++);e.push(t.substring(i,r)),i=r-1}}}n._dateFormatParts[t]=e}return e},n._formatDatePart=function(t,e,i){var r,o=ve.Globalize.calendar,s=null,a=0,l=0,c=i.length;switch(i){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return a=(r="E"==i[0]?K.toFiscal(t,!0):"e"==i[0]?K.toFiscal(t,!1):t).getFullYear(),o.eras.length>1&&e.indexOf("g")>-1&&(s=n._getEra(t,o))&&(a=yt(s.start)?a-s.start.getFullYear()+1:Math.abs(a)),n._zeroPad(i.length<3?a%100:3==i.length?a%1e3:a,i.length);case"MMMMM":return o.monthsAbbr[t.getMonth()][0];case"MMMM":return o.months[t.getMonth()];case"MMM":return o.monthsAbbr[t.getMonth()];case"MM":case"M":return n._zeroPad(t.getMonth()+1,c);case"dddd":return o.days[t.getDay()];case"ddd":return o.daysAbbr[t.getDay()];case"dd":return n._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return n._zeroPad(n._h12(t),c);case"HH":case"H":return n._zeroPad(t.getHours(),c);case"mm":case"m":return n._zeroPad(t.getMinutes(),c);case"ss":case"s":return n._zeroPad(t.getSeconds(),c);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=t.getMilliseconds()*Math.pow(10,c-3),"f"==i[0]?n._zeroPad(l,c):l.toFixed(0);case"tt":return t.getHours()<12?o.am[0]:o.pm[0];case"t":return t.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return r=K.toFiscal(t,"U"==i),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=n._getEra(t,o))){if(le(s))return s;switch(i){case"gg":return s.name[0];case"g":return s.symbol;default:return s.name}}return o.eras[0];case":":case"/":return o[i];case"K":var d=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return d?d[1]+d[2]+d[3]:"";case"zzz":case"zz":case"z":var h=-t.getTimezoneOffset(),f=Math.abs(h),p=n.formatNumber,g=void 0;switch(i){case"zzz":g=p(f/60,"d2",!1,!0)+o[":"]+p(f%60,"d2",!1,!0);break;case"zz":g=p(f/60,"d2",!1,!0);break;case"z":g=p(f/60,"d1",!1,!0)}return(h>=0?"+":"-")+g}return c>1&&i[0]==i[c-1]&&('"'==i[0]||"'"==i[0])?i.substr(1,c-2):i},n._getEra=function(t,e){if(e.eras){var i=e.eras,r=e.eras.length;if(yt(t)){if(le(i[0]))return i[t.getFullYear()>=0?0:1];if(yt(i[0].start)){for(var o=0;o<r;o++)if(t>=i[o].start)return i[o];return i[r-1]}}else if(le(t)&&t.length>0)for(t=t.toLowerCase(),o=0;o<r;o++){var s=i[o];if(le(s)){if(0==s.toLowerCase().indexOf(t))return s}else if(s.name&&0==s.name.toLowerCase().indexOf(t)||s.symbol&&0==s.symbol.toLowerCase().indexOf(t))return s}}return null},n._expandFormat=function(t){return ve.Globalize.calendar.patterns[t]||t},n._zeroPad=function(t,e){var i=t.toFixed(0),r=e-i.length+1;return r>0?Array(r).join("0")+i:i},n._h12=function(t){var e=ve.Globalize.calendar,i=t.getHours();return e.am&&e.am[0]&&0==(i%=12)&&(i=12),i},n._shiftDecimal=function(t,e){if(0==e||isNaN(t))return t;var i=t.toString();if(i.indexOf("e")>-1)return t*Math.pow(10,e);var r=Array(Math.abs(e)+1).join("0");e<0&&(i=r+i);var o=i.indexOf(".");return o<0&&(o=(i+=".").indexOf(".")),e>0&&(i+=r),o+=e,i=(i=i.replace(".","")).substr(0,o)+"."+i.substr(o),parseFloat(i)},n._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),n._numFormatInfo={},n._dateFormatParts={},n}();function c8(n){ve=n}function Eo(n,t){var e="undefined"!=typeof window?window.wijmo:null,i=e?e.culture:null;ve[n]=(i?i[n]:null)||t}var Et,Ml=function(){function n(t,e,i){void 0===e&&(e=""),void 0===i&&(i="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=k(e),this.input=t,this.promptChar=k(i,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(n.prototype,"input",{get:function(){return this._tbx},set:function(t){this._connect(!1),this._tbx=t,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=k(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){if(t!=this._promptChar){J(1==(t=k(t,!1)).length,"promptChar must be a string with length 1.");for(var e=this._tbx,i=e.value,r="",o=this._mskArr,s=this._promptChar,a=0;a<i.length;a++){var l=o[a],c=i[a];l&&l.literal||c!==s||(c=t),r+=c}e.value=r,this._promptChar=t}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(t){this._overWrite=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),n.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},n.prototype.getRawValue=function(){var t=this._tbx?this._tbx.value:"";if(!this.mask)return t;for(var e="",i=0;i<this._mskArr.length&&i<t.length;i++)this._mskArr[i].literal||t[i]==this._promptChar||(e+=t[i]);return e},n.prototype.refresh=function(){this._parseMask(),this._valueChanged()},n.prototype._input=function(t){var e=this;this._msk&&!this._composing&&t!=this._evtInput&&(t.preventDefault(),t.stopImmediatePropagation(),setTimeout(function(){e._valueChanged(),e._tbx&&e._tbx.dispatchEvent(e._evtInput)}))},n.prototype._keydown=function(t){if(t.keyCode==E.Back){var e=this._tbx.selectionStart;if(e<=this._firstPos&&this._tbx.selectionEnd==e)return t.preventDefault(),void(this._backSpace=!1)}this._backSpace=t.keyCode==E.Back},n.prototype._keypress=function(t){t.ctrlKey||t.metaKey||t.altKey||this._composing||!this._preventKey(t.charCode)||t.preventDefault()},n.prototype._cmpstart=function(t){this._composing=!0},n.prototype._cmpend=function(t){var e=this;this._composing&&(this._composing=!1,setTimeout(function(){var i=e._tbx;i&&e._valueChanged()&&i.dispatchEvent(e._evtInput)}))},n.prototype._preventKey=function(t){if(t&&this._mskArr.length){var e=this._tbx,i=e.selectionStart,r=String.fromCharCode(t);if(i<this._firstPos&&xe(e,i=this._firstPos),i>=this._mskArr.length)return!0;var o=this._mskArr[i];if(o.literal)this._validatePosition(i);else if(o.wildCard!=r&&!this._isCharValid(o.wildCard,r))return!0}return!1},n.prototype._connect=function(t){var e=this._tbx;e&&(J(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),t?(this._autoComplete=e.autocomplete,this._spellCheck=e.spellcheck,e.autocomplete="off",e.spellcheck=!1,e.addEventListener("input",this._inputBnd,!0),e.addEventListener("keydown",this._keydownBnd,!0),e.addEventListener("keypress",this._keypressBnd,!0),e.addEventListener("compositionstart",this._cmpstartBnd,!0),e.addEventListener("compositionend",this._cmpendBnd,!0),e.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(e.autocomplete=this._autoComplete,e.spellcheck=this._spellCheck,e.removeEventListener("input",this._inputBnd,!0),e.removeEventListener("keydown",this._keydownBnd,!0),e.removeEventListener("keypress",this._keypressBnd,!0),e.removeEventListener("compositionstart",this._cmpstartBnd,!0),e.removeEventListener("compositionend",this._cmpendBnd,!0),e.removeEventListener("blur",this._cmpendBnd,!0)))},n.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var t=this._tbx,e=t.selectionStart,i=e>0?t.value[e-1]:"",r=t.value;return t.value=this._applyMask(),""==r&&(e=this._firstPos+1),e>0&&(e>0?t.value[e-1]:"")==this._promptChar&&i!=this.promptChar&&e--,e==r.length&&(e=this._matchEnd),this._validatePosition(e),r!=t.value},n.prototype._applyMask=function(){var t=this._tbx,e=t.value;if(this._full=!0,this._matchEnd=0,!this._msk||!e&&!t.required)return e;if(this._overWrite&&e.length==this.mask.length+1){var i=t.selectionStart;t==document.activeElement&&t.selectionEnd==i&&(e=e.substr(0,i)+e.substr(i+1))}e=this._handleVagueLiterals(e);for(var r="",o=0,s=this._promptChar,a=0;a<this._mskArr.length;a++){var l=this._mskArr[a],c=l.literal;if(c&&c==e[o]&&o++,l.wildCard){if(c=s,e){for(var u=o;u<e.length;u++)if(this._isCharValid(l.wildCard,e[u])){switch(c=e[u],l.charCase){case">":c=c.toUpperCase();break;case"<":c=c.toLowerCase()}c!=s&&(this._matchEnd=r.length+1);break}o=u+1}c==s&&(this._full=!1)}r+=c}return r},n.prototype._handleVagueLiterals=function(t){if(t.length>this._mskArr.length+1)return t;var e=t.length-this._mskArr.length;if(0!=e&&t.length>1){for(var i=-1,r=this._tbx,o=r==Oe()?r.selectionStart:r.value.length,s=Math.max(0,o-e);s<this._mskArr.length;s++)if(this._mskArr[s].vague){i=s;break}if(i>-1)if(e<0){var a=Array(1-e).join(this._promptChar),l=i+e;l>-1&&(t=t.substr(0,l)+a+t.substr(l))}else{for(;i>0&&this._mskArr[i-1].literal;)i--;t=t.substr(0,i)+t.substr(i+e)}}return t},n.prototype._isCharValid=function(t,e){if(e==this._promptChar)return!0;switch(t){case"0":return this._isDigit(e);case"9":return this._isDigit(e)||" "==e;case"#":return this._isDigit(e)||" "==e||"+"==e||"-"==e;case"L":return this._isLetter(e);case"l":return this._isLetter(e)||" "==e;case"A":return this._isDigit(e)||this._isLetter(e);case"a":return this._isDigit(e)||this._isLetter(e)||" "==e;case"\uff19":return e>="\uff10"&&e<="\uff19";case"\uff2a":case"\uff27":return!("\uff27"==t&&n._X_DBCS_BIG_HIRA.indexOf(e)>-1)&&e>="\u3041"&&e<="\u309f";case"\uff2b":case"\uff2e":return!("\uff2e"==t&&n._X_DBCS_BIG_KATA.indexOf(e)>-1)&&e>="\u30a0"&&e<="\u30ff";case"\uff3a":return!(e>="\uff66"&&e<="\uff9f")&&(e<="!"||e>="\xff");case"H":return e>="!"&&e<="\xff"||e>="\uff66"&&e<="\uff9f";case"K":case"N":return!("N"==t&&n._X_SBCS_BIG_KATA.indexOf(e)>-1)&&e>="\uff66"&&e<="\uff9f"}return!1},n.prototype._isDigit=function(t){return t>="0"&&t<="9"},n.prototype._isLetter=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},n.prototype._validatePosition=function(t){var e=this._mskArr;if(this._backSpace)for(;t>0&&t<e.length&&e[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<e.length&&e[t].literal;)t++;Oe()==this._tbx&&xe(this._tbx,t),this._backSpace=!1},n.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var t,e=this._msk,i="|",r=0;e&&r<e.length;r++)switch(e[r]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"\uff19":case"\uff2a":case"\uff27":case"\uff2b":case"\uff2e":case"\uff3a":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new bu(e[r],i));break;case".":case",":case":":case"/":case"$":switch(e[r]){case".":case",":t=ve.Globalize.numberFormat[e[r]];break;case":":case"/":t=ve.Globalize.calendar[e[r]];break;case"$":t=ve.Globalize.numberFormat.currency.symbol}for(var o=0;o<t.length;o++)this._mskArr.push(new bu(t[o]));break;case"<":case">":case"|":i=e[r];break;case"\\":r<e.length-1&&r++,this._mskArr.push(new bu(e[r]));break;default:this._mskArr.push(new bu(e[r]))}for(r=0;r<this._mskArr.length;r++){var s=this._mskArr[r];if(s.literal)for(o=0;o<r;o++){var a=this._mskArr[o];if(a.wildCard&&this._isCharValid(a.wildCard,s.literal)){s.vague=!0;break}}}},n._X_DBCS_BIG_HIRA="\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096",n._X_DBCS_BIG_KATA="\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6",n._X_SBCS_BIG_KATA="\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f",n}(),bu=function(t,e){e?(this.wildCard=t,this.charCase=e):this.literal=t};function of(n,t,e){var i=0,r=0,o=0,s=0,a=null,l=null,c=null,u=e?new mn(e):null;if((n=Xe(n,Et))==Et.CntAll)return t.length;for(var d=0;d<t.length;d++){var h=t[d];if(u&&(h=u.getValue(h)),null!=h){if(n==Et.First)return h;i++,(null==a||h<a)&&(a=h),(null==l||h>l)&&(l=h),c=h,Be(h)&&!isNaN(h)?(r++,o+=h,s+=h*h):_n(h)&&(r++,1==h&&(o++,s++))}}var f=0==r?0:o/r;switch(n){case Et.Avg:return f;case Et.Cnt:return i;case Et.Max:return l;case Et.Min:return a;case Et.Rng:return l-a;case Et.Sum:return o;case Et.VarPop:return r<=1?0:s/r-f*f;case Et.StdPop:return r<=1?0:Math.sqrt(s/r-f*f);case Et.Var:return r<=1?0:(s/r-f*f)*r/(r-1);case Et.Std:return r<=1?0:Math.sqrt((s/r-f*f)*r/(r-1));case Et.Last:return c}throw"Invalid aggregate type."}!function(n){n[n.None=0]="None",n[n.Sum=1]="Sum",n[n.Cnt=2]="Cnt",n[n.Avg=3]="Avg",n[n.Max=4]="Max",n[n.Min=5]="Min",n[n.Rng=6]="Rng",n[n.Std=7]="Std",n[n.Var=8]="Var",n[n.StdPop=9]="StdPop",n[n.VarPop=10]="VarPop",n[n.CntAll=11]="CntAll",n[n.First=12]="First",n[n.Last=13]="Last"}(Et||(Et={}));var wu=function(n){function t(){var e=this;return sf?e.length=0:e=n.call(this)||this,e}return Er(t,n),t}(Array),sf=!0;try{wu.prototype=Array.prototype,sf=wu.prototype===Array.prototype}catch(n){sf=!1}var Ry="undefined"!=typeof window?window.Symbol:null;!sf&&Ry&&Ry.species&&Object.defineProperty(wu,Ry.species,{get:function(){return Array},enumerable:!1,configurable:!1});var xr,Qi=function(n){function t(e){var i=n.call(this)||this;if(i._updating=0,i.collectionChanged=new x,e){e=Sn(e),i._updating++;for(var r=0;r<e.length;r++)i.push(e[r]);i._updating--}return i}return Er(t,n),t.prototype.push=function(){for(var e=this,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return i.forEach(function(o){n.prototype.push.call(e,o),e._raiseCollectionChanged(Ft.Add,o,e.length-1)}),this.length},t.prototype.shift=function(){var e=n.prototype.shift.call(this);return this._raiseCollectionChanged(Ft.Remove,e,0),e},t.prototype.unshift=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=n.prototype.unshift.apply(this,e);return 1==e.length?this._raiseCollectionChanged(Ft.Add,e[0],0):this._raiseCollectionChanged(),r},t.prototype.pop=function(){var e=n.prototype.pop.call(this);return this._raiseCollectionChanged(Ft.Remove,e,this.length),e},t.prototype.splice=function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s,a=Ft,l=this._raiseCollectionChanged.bind(this);return i&&r.length?(s=n.prototype.splice.apply(this,[e,i].concat(r)),1==i&&1==r.length?l(a.Change,r[0],e):l()):r.length?(s=n.prototype.splice.apply(this,[e,0].concat(r)),1==r.length?l(a.Add,r[0],e):l()):(s=n.prototype.splice.call(this,e,i),1==i?l(a.Remove,s[0],e):l()),s},t.prototype.slice=function(e,i){return n.prototype.slice.call(this,e,i)},t.prototype.indexOf=function(e,i){return n.prototype.indexOf.call(this,e,i)},t.prototype.sort=function(e){var i=n.prototype.sort.call(this,e);return this._raiseCollectionChanged(),i},t.prototype.insert=function(e,i){this.splice(e,0,i)},t.prototype.remove=function(e){var i=this.indexOf(e);return i>-1&&this.removeAt(i),i>-1},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.setAt=function(e,i){e>=this.length&&(this.length=e+1),this.splice(e,1,i)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(e){return"INotifyCollectionChanged"==e},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=Ki.reset),this.isUpdating||this.collectionChanged.raise(this,e)},t.prototype._raiseCollectionChanged=function(e,i,r){if(void 0===e&&(e=Ft.Reset),!this.isUpdating){var o=new Ki(e,i,r);this.onCollectionChanged(o)}},t}(wu);!function(n){n[n.Natural=0]="Natural",n[n.First=1]="First",n[n.Last=2]="Last"}(xr||(xr={}));var Ji=function(){function n(t,e){var i=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new Qi,this._srtDsc=new Qi,this._grpDesc=new Qi,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=xr.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new Qi,this._chgRemoved=new Qi,this._chgEdited=new Qi,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new x,this.sourceCollectionChanging=new x,this.sourceCollectionChanged=new x,this.currentChanged=new x,this.currentChanging=new x,this.pageChanged=new x,this.pageChanging=new x,this._srtDsc.collectionChanged.addHandler(function(){i._srtDsc.forEach(function(r){J(r instanceof bo,"sortDescriptions array must contain SortDescription objects.")}),i.canSort&&i._commitAndRefresh()}),this._grpDesc.collectionChanged.addHandler(function(){i._grpDesc.forEach(function(r){J(r instanceof Ey,"groupDescriptions array must contain GroupDescription objects.")}),i.canGroup&&i._commitAndRefresh()}),this._filters.collectionChanged.addHandler(function(){i._filters.forEach(function(r){J(Pe(r),"filters array must contain IPredicate functions.")}),i.canFilter&&i._commitAndRefresh()}),this.sourceCollection=t||new Qi,e&&(this._initializing=!0,this.deferUpdate(function(){wo(i,e)}),this._initializing=!1),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return n.prototype._copy=function(t,e){switch(t){case"sortDescriptions":var i=this.sortDescriptions;return i.deferUpdate(function(){i.clear(),Sn(e).forEach(function(o){le(o)?o=new bo(o,!0):o instanceof bo||!o.property||(o=new bo(o.property,o.ascending)),i.push(o)})}),!0;case"groupDescriptions":var r=this.groupDescriptions;return r.deferUpdate(function(){r.clear(),e.forEach(function(o){le(o)&&(o=new Dy(o)),r.push(o)})}),!0;case"currentItem":return this.currentItem=e,!0}return!1},Object.defineProperty(n.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(t){if(t&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),t=null),t!=this._calcFields){this._calcFields=t;var e=this._srcRaw;this._srcRaw=null,this.sourceCollection=e}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=Mt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=Mt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=Mt(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){t!=this._stableSort&&(this._stableSort=M(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(t){(t=Xe(t,xr))!=this._srtNulls&&(this._srtNulls=t,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=xr.Last},set:function(t){Zh("sortNullsFirst","sortNulls"),this.sortNulls=M(t)?xr.First:xr.Last},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,i){return of(t,i?this._pgView:this._view,e)},Object.defineProperty(n.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(t){this._refreshOnEdit=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),n.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},n.prototype.implementsInterface=function(t){switch(t){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(n.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError!=t&&(this._getError=Mt(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),n.prototype.onCollectionChanged=function(t){void 0===t&&(t=Ki.reset),t.action!=Ft.Change||this._committing||this._canceling||t.item==this.currentEditItem||t.item==this.currentAddItem||this._trackItemChanged(t.item),this._updating||this.collectionChanged.raise(this,t)},n.prototype._raiseCollectionChanged=function(t,e,i){void 0===t&&(t=Ft.Reset);var r=new Ki(t,e,i);this.onCollectionChanged(r)},n.prototype.onSourceCollectionChanging=function(t){return this.sourceCollectionChanging.raise(this,t),!t.cancel},n.prototype.onSourceCollectionChanged=function(t){this.sourceCollectionChanged.raise(this,t)},Object.defineProperty(n.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(t){this.moveCurrentTo(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentPosition",{get:function(){return this._idx},set:function(t){this.moveCurrentToPosition(N(t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=Mt(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._srcRaw){if(!this.onSourceCollectionChanging(new ft))return;var e=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=t,this._src=Sn(t,!1),this._calcFields&&(this._src=vT(this._src,this._calcFields)),this._ncc=Di(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&e>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),n.prototype._sourceChanged=function(t,e){this._updating<=0&&this.refresh()},n.prototype.contains=function(t){return this._pgView.indexOf(t)>-1},n.prototype.moveCurrentTo=function(t){return this.moveCurrentToPosition(this._pgView.indexOf(t))},n.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},n.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},n.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},n.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},n.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length&&t!=this._idx){var e=new ft;if(this.onCurrentChanging(e)){var i=this._pgView[t],r=bT(i),o=this._edtItem,s=this._newItem;o&&o!=i&&o!=r?this.commitEdit():s&&s!=i&&s!=r&&this.commitNew(),this._idx=t,this.onCurrentChanged()}}return this._idx==t},n.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var t=this.currentItem;this._performRefresh(),this.onCollectionChanged(),t==this.currentItem||this._initializing||this.onCurrentChanged()}},n.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},n.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var t=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=qe(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var e=this._keepCurrentItem&&null!=t?this._pgView.indexOf(t):-1;e<0&&(e=Math.min(this._idx,this._pgView.length-1)),this._idx=e,this._digest=this._getGroupsDigest(this.groups)}},n.prototype._performSort=function(t){if(this._stableSort){var e=t.map(function(o,s){return{item:o,index:s}}),i=this._compareItems();e.sort(function(o,s){var a=i(o.item,s.item);return 0==a?o.index-s.index:a});for(var r=0;r<t.length;r++)t[r]=e[r].item}else t.sort(this._compareItems())},n.prototype._compareItems=function(){var t=this,e=this._srtDsc,i=this._srtCvt,r=this._srtCmp,o=n._collator,s=!0,a=0;return function(l,c){for(var u=0;u<e.length;u++){var d=e[u],h=d._bnd.getValue(l),f=d._bnd.getValue(c);if(i&&(h=i(d,l,h,s),f=i(d,c,f,!1),s=!1),r&&null!=(a=r(h,f))){if(0!=a)return d.ascending?+a:-a}else{if(h!=h&&(h=null),f!=f&&(f=null),h!==f&&(null==h||null==f))switch(t._srtNulls){case xr.First:return null==h?-1:1;case xr.Last:return null==h?1:-1;default:return a=null==h?-1:1,d.ascending?+a:-a}if("string"==typeof h&&"string"==typeof f){if(o){if(0!=(a=o.compare(h,f)))return d.ascending?+a:-a;continue}var p=h.toLowerCase(),g=f.toLowerCase();p!=g&&(h=p,f=g)}if(0!=(a=h<f?-1:h>f?1:0))return d.ascending?+a:-a}}return 0}},n.prototype._performFilter=function(t){return this.canFilter&&this._filter||this._filters.length?t.filter(this._filterItem,this):t},n.prototype._filterItem=function(t){for(var e=!this.canFilter||!this._filter||this._filter(t),i=0;i<this._filters.length&&e;i++)e=this._filters[i](t);return e},n.prototype.onCurrentChanged=function(t){this.currentChanged.raise(this,t)},n.prototype.onCurrentChanging=function(t){return this.currentChanging.raise(this,t),!t.cancel},Object.defineProperty(n.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),n.prototype.beginUpdate=function(){this._updating++},n.prototype.endUpdate=function(t){void 0===t&&(t=!0),this._updating--,t&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(n.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),n.prototype.deferUpdate=function(t,e){void 0===e&&(e=!0);try{this.beginUpdate(),t()}finally{this.endUpdate(e)}},Object.defineProperty(n.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){t!=this._canAddNew&&(this._canAddNew=M(t),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),n.prototype.editItem=function(t){t!=this._edtItem&&this.moveCurrentTo(t)&&(this.commitEdit(),this._edtItem=t,this._edtClone=this._extend({},this._edtItem))},n.prototype.commitEdit=function(){var t=this._edtItem,e=this._edtClone;if(null!=t){this._committing=!0;var i=this._getChangedFields(t,e),r=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var o=this._pgView.indexOf(t),s=this._digest;if(this._needRefresh(i)&&this._refreshOnEdit&&this._performRefresh(),i&&this._trackItemChanged(t,e),this._pgView.indexOf(t)!=o||s!=this._digest||r?this._raiseCollectionChanged():this._raiseCollectionChanged(Ft.Change,t,o),this.commitNew(),this._committing=!1,this.sourceCollection instanceof Qi){this._updating++;var a=new Ki(Ft.Change,t);this.sourceCollection.onCollectionChanged(a),this._updating--}}},n.prototype.cancelEdit=function(){var t=this._edtItem;if(null!=t){if(this._edtItem=null,!this.canCancelEdit)return;var e=this._src.indexOf(t);e>=0&&this._edtClone&&(this._extend(this._src[e],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(Ft.Change,t,e),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},n.prototype.addNew=function(t,e){if(void 0===e&&(e=!1),this.commitEdit(),!this.canAddNew)return null;var i=this.sourceCollection;if(null==t&&(t=this.newItemCreator?this.newItemCreator():i&&i.length?new i[0].constructor:{}),null!=t){if(this._updating++,i.push(t),this._updating--,this._newItem=t=i[i.length-1],this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length){var r=this.groups[this.groups.length-1];for(r.items.push(t);r.groups&&r.groups.length;)(r=r.groups[r.groups.length-1]).items.push(t)}this._raiseCollectionChanged(Ft.Add,t,this._pgView.length-1),this.moveCurrentTo(t),e&&this.commitNew()}return this._newItem},n.prototype.commitNew=function(){var t=this._newItem;if(null!=t){this._newItem=null;var e=this._pgView.indexOf(t),i=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var r=this._chgEdited.indexOf(t);r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(t)<0&&this._chgAdded.push(t)}this._pgView.indexOf(t)!=e||i!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(Ft.Change,t,e)}},n.prototype.cancelNew=function(){var t=this._newItem;null!=t&&this.remove(t)},n.prototype.remove=function(t){var e=t==this._newItem;if(e&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),this.canRemove){var i=this._src.indexOf(t);if(i>-1){var r=this.currentItem;this._updating++,this._src.splice(i,1),this._updating--;var o=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var s=this._pgView.indexOf(t);s>=0&&this._pgView.splice(s,1)}if(this._trackChanges){var a=this._chgAdded.indexOf(t);a>-1&&this._chgAdded.removeAt(a);var l=this._chgEdited.indexOf(t);l>-1&&this._chgEdited.removeAt(l),this._chgRemoved.indexOf(t)<0&&!e&&a<0&&this._chgRemoved.push(t)}this.sortDescriptions.length>0||this.pageSize>0&&this._pgIdx>-1||o!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(Ft.Remove,t,i),this.currentItem!==r&&this.onCurrentChanged()}}},n.prototype.removeAt=function(t){t=Ct(t),this.remove(this._pgView[t])},n.prototype._trackItemChanged=function(t,e){if(this._trackChanges){var i=this.sourceCollection;if(i&&i.indexOf(t)>-1){var r=this._orgVals,o=r?r.get(t):null;e&&!o&&r&&(r.set(t,e),o=e);var s=this._chgEdited.indexOf(t),a=Ft.Change;if(o&&this._sameContent(t,o)&&s>-1)return this._chgEdited.removeAt(s),void r.delete(t);if(s<0&&this._chgAdded.indexOf(t)<0)this._chgEdited.push(t);else if(s>-1){var l=new Ki(a,t,s);this._chgEdited.onCollectionChanged(l)}else(s=this._chgAdded.indexOf(t))>-1&&(l=new Ki(a,t,s),this._chgAdded.onCollectionChanged(l))}}},n.prototype._extend=function(t,e,i){for(var r in void 0===i&&(i=2),e)try{var o=e[r];i>0&&On(o)?(t[r]={},this._extend(t[r],o,i-1)):t[r]=o}catch(s){}return t},n.prototype._getChangedFields=function(t,e,i){void 0===i&&(i=2),J(null!=e&&null!=t,"Two objects expected.");var r={};for(var o in e)try{this._sameValue(t[o],e[o],i)||(r[o]=!0)}catch(a){}for(var o in t)try{r[o]||this._sameValue(t[o],e[o],i)||(r[o]=!0)}catch(l){}var s=Object.keys(r);return s.length?s:null},n.prototype._sameValue=function(t,e,i){return void 0===i&&(i=2),!(t!==e&&!K.equals(t,e)&&(!On(t)||!On(e)||i>0&&null!=this._getChangedFields(t,e,i-1)))},n.prototype._sameContent=function(t,e){return null==this._getChangedFields(t,e)},n.prototype._needRefresh=function(t){if(this._pendingRefresh)return!0;if(!t)return!1;if(this._filter)return!0;for(var e=0;e<this._srtDsc.length;e++){var i=this._getBindingRoot(this._srtDsc[e].property);if(t.indexOf(i)>-1)return!0}for(e=0;e<this._grpDesc.length;e++){var r=this._grpDesc[e];if(!(r instanceof Dy)||(i=this._getBindingRoot(r.propertyName),t.indexOf(i)>-1))return!0}return!1},n.prototype._getBindingRoot=function(t){var e=t.indexOf(".");return e>-1?t.substr(0,e):t},Object.defineProperty(n.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=Ct(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),n.prototype.moveToFirstPage=function(){return this.moveToPage(0)},n.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},n.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},n.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},n.prototype.moveToPage=function(t){var e=qe(t,0,this.pageCount-1);if(e!=this._pgIdx){if(!this.canChangePage)return!1;var i=new wT(e);if(this.onPageChanging(i)&&this.onCurrentChanging(i)){this.commitEdit(),this.commitNew();var r=this.currentItem;this._pgIdx=e,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onCollectionChanged(),r!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==t},n.prototype.onPageChanged=function(t){this.pageChanged.raise(this,t)},n.prototype.onPageChanging=function(t){return this.pageChanging.raise(this,t),!t.cancel},n.prototype._getFullGroup=function(t){var e=this._getGroupByPath(this._fullGroups,t.level,t._path);return null!=e&&(t=e),t},n.prototype._getGroupByPath=function(t,e,i){if(t)for(var r=0;r<t.length;r++){var o=t[r];if(o.level==e&&o._path==i||o.level<e&&0==i.indexOf(o._path)&&null!=(o=this._getGroupByPath(o.groups,e,i)))return o}return null},n.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var t=this._pgSz*this._pgIdx,e=Math.min(t+this._pgSz,this._view.length);return this._view.slice(t,e)},n.prototype._createGroups=function(t){var e=this;if(!this._grpDesc||!this._grpDesc.length)return null;var i=[],r={},o=null;return t.forEach(function(s){for(var a=i,l=e._grpDesc.length,c="",u=0;u<l;u++){var d=e._grpDesc[u],h=d.groupNameFromItem(s,u),f=u==l-1;!(o=r[c])&&_u(h)&&(r[c]=o={});var p=e._getGroup(d,a,o,h,u,f);p._path=c+="/"+h,f&&p.items.push(s),a=p.groups}}),i},n.prototype._getGroupsDigest=function(t){for(var e="",i=0;null!=t&&i<t.length;i++){var r=t[i];e+="{"+r.name+":"+(r.items?r.items.length:"*"),r.groups.length>0&&(e+=",",e+=this._getGroupsDigest(r.groups)),e+="}"}return e},n.prototype._mergeGroupItems=function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];if(!r._isBottomLevel)for(var o=this._mergeGroupItems(r.groups),s=0,a=o.length;s<a;s++)r._items.push(o[s]);for(s=0,a=r._items.length;s<a;s++)e.push(r._items[s])}return e},n.prototype._getGroup=function(t,e,i,r,o,s){var a;if(i&&_u(r)){if(a=i[r])return a}else for(var l=0;l<e.length;l++)if(t.namesMatch(e[l].name,r))return e[l];var c=new Mr(t,r,o,s);return e.push(c),i&&(i[r]=c),c},n._collator="undefined"!=typeof window&&window.Intl&&Intl.Collator?new Intl.Collator:null,n}(),Mr=function(){function n(t,e,i,r){this._gd=t,this._name=e,this._level=i,this._isBottomLevel=r,this._groups=[],this._items=[]}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),n.prototype.getAggregate=function(t,e,i){var r=Di(i,Ji);return of(t,(r?r._getFullGroup(this):this).items,e)},n}(),Oy="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object,ky=!1;try{ky=(function(){}.prototype=Array.prototype)!==Array.prototype}catch(n){ky=!0}var u8=ky||Oy!==Object,AT=function(n){function t(){var e=this;return u8&&(e=n.call(this)||this),e}return Er(t,n),t}(Oy),R=function(n){function t(e,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var o=n.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new x,o.lostFocus=new x,o.invalidInput=new x,o.refreshing=new x,o.refreshed=new x,o._updateWme(),J(null==t.getControl(e),"Element is already hosting a control.");var s=Co(e);J(null!=s,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=o._replaceWithDiv(s)),o._e=s,s[t._CTRL_KEY]=o;var a=o.addEventListener.bind(o);if(1==r){o._szCtl=new Yi(s.offsetWidth,s.offsetHeight);var l=window.ResizeObserver,c=null;l&&(c=o._szObserver=new l(function(h){h.forEach(function(f){var p=t.getControl(f.target);p&&p._handleResize()})})),c?c.observe(s):a(window,"resize",o._handleResize.bind(o))}var u=o._handleFocusBlur.bind(o);a(s,"focus",u,!0),a(s,"blur",u,!0);var d=o._handleDisabled.bind(o);return a(s,"mousedown",d,!0),a(s,"mouseup",d,!0),a(s,"click",d,!0),a(s,"dblclick",d,!0),a(s,"wheel",d,Qh(!0,!0)),a(s,"keydown",function(h){o.isDisabled&&h.keyCode!=E.Tab&&h.preventDefault()}),0==t._ctlCnt&&RT(!0),t._ctlCnt++,o}return Er(t,n),t.prototype.getTemplate=function(){for(var e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){var i=e.constructor.controlTemplate;if(i)return i}return null},t.prototype.applyTemplate=function(e,i,r,o){var s=this,a=this._e;e&&ze(a,e);var l=null;i&&(l=Je(i,a));for(var c=a.querySelectorAll("a.wj-btn"),u=0;u<c.length;u++){var d=c[u];F(d,"role","button",!0),F(d,"href","",!0),F(d,"draggable",!1,!0)}var h=a.querySelectorAll("button");for(u=0;u<h.length;u++)F(h[u],"type","button",!0);var f=a.querySelectorAll("input"),p=1==f.length?f[0]:null;if(p){var g=t._rxInputAtts;this._copyAttributes(p,a.attributes,g),this._copyAttributes(p,this._orgAtts,g)}if(p&&a.id){for(var m=a;m.parentElement;)m=m.parentElement;var y=m.querySelector('label[for="'+a.id+'"]');if(y instanceof HTMLLabelElement){var _=xy(a.id+"_input");p.id=_,y.htmlFor=_}}if(p){var v=p.value,w=document.createEvent("HTMLEvents");w.initEvent("change",!0,!1),this.gotFocus.addHandler(function(){return v=p.value}),this.addEventListener(p,"focus",function(){return v=p.value}),this.addEventListener(p,"input",function(){s._pristine=!1,setTimeout(function(){return v=p.value})}),this.addEventListener(a,"blur",function(){s.containsFocus()||(s._pristine&&(s._pristine=!1,s._updateState()),v!=p.value&&(v=p.value,p.dispatchEvent(w)))},!0)}if(p?a.tabIndex=-1:a.getAttribute("tabindex")||(a.tabIndex=0),this._updateState(),r)for(var D in r){var T=r[D];if(this[D]=l.querySelector('[wj-part="'+T+'"]'),null==this[D]&&l.getAttribute("wj-part")==T&&(this[D]=l),null==this[D])throw'Missing template part: "'+T+'"';if(T==o){var S="name",P=a.attributes[S];P&&P.value&&this[D].setAttribute(S,P.value),(P=a.attributes[S="accesskey"])&&P.value&&(this[D].setAttribute(S,P.value),a.removeAttribute(S))}}return l},t.prototype.dispose=function(){if(this._e){for(var e=this._e.querySelectorAll(".wj-control"),i=0;i<e.length;i++){var r=t.getControl(e[i]);r&&r.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var o=this._szObserver;for(var s in o&&o.disconnect(),this.removeEventListener(),this)s.length>2&&0==s.indexOf("on")&&(l=this[s[2].toLowerCase()+s.substr(3)])instanceof x&&l.removeAllHandlers();var a=this.collectionView;if(a instanceof Ji)for(var s in a){var l;(l=a[s])instanceof x&&l.removeHandler(null,this)}this._e.parentNode&&null!=this._orgOuter&&(this._e.outerHTML=this._orgOuter),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,0==--t._ctlCnt&&RT(!1)}},t.getControl=function(e){var i=Co(e);return i?ot(i[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var e=this._e;e&&e.offsetHeight&&(e.tabIndex>=0||!Zo(e,0))&&e.focus()},t.prototype.containsFocus=function(){return this._containsFocusImpl(Oe())},t.prototype._containsFocus=function(){return this._containsFocusImpl(ST())},t.prototype._containsFocusImpl=function(e){return oe(this._e,e,!0)},t.prototype.invalidate=function(e){var i=this;void 0===e&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate),i._toInv=null},t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){var i=this;void 0===e&&(e=!0),this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout(function(){i.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},t.invalidateAll=function(e){e||(e=document.body);var i=e.children;if(i)for(var r=0;r<i.length;r++)t.invalidateAll(i[r]);var o=t.getControl(e);o&&o.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var i=0;i<e.children.length;i++)t.refreshAll(e.children[i]);var r=t.getControl(e);r&&r.refresh()},t.disposeAll=function(e){var i=t.getControl(e);if(i)i.dispose();else if(e.children)for(var r=0;r<e.children.length;r++)t.disposeAll(e.children[r])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=!!M(e,!0))!=this.isDisabled){var i=this._e;if(i){ge(i,"wj-state-disabled",e),F(i,"disabled",e?"disabled":null),i.tabIndex=this.isDisabled||i.querySelector("input")?-1:this._orgTabIndex;for(var r=i.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),o=t._DSBL_KEY,s=0;s<r.length;s++){var a=r[s];if(e)a[o]=a.disabled,a.disabled=!0;else if(te(a,".wj-control.wj-state-disabled"))a[o]=a.disabled,a.disabled=!0;else{var l=a[o];_n(l)||(l=!1),a.disabled=l,delete a[o]}}}}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){wo(this,e)},t.prototype.addEventListener=function(e,i,r,o,s){if(e){null==o&&(o=!1),_n(o)&&null==s&&(i.indexOf("touch")>-1||i.indexOf("wheel")>-1)&&(s=!1);var a=_n(o)&&_n(s)?Qh(o,s):o;e.addEventListener(i,r,a),this._listeners.push({target:e,type:i,fn:r,capture:o})}},t.prototype.removeEventListener=function(e,i,r,o){for(var s=0,a=0;a<this._listeners.length;a++){var l=this._listeners[a];null!=e&&e!=l.target||null!=i&&i!=l.type||null!=r&&r!=l.fn||null!=o&&o!=l.capture||(l.target.removeEventListener(l.type,l.fn,l.capture),this._listeners.splice(a,1),a--,s++)}return s},t.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)},t.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)},t.prototype.onInvalidInput=function(e){var i=this;if(this.invalidInput.raise(this,e),e.cancel){var r=t._FOCUS_INTERVAL+50;Date.now()-t._tsInvalidInput>r+50&&(t._toInvalidInput&&clearTimeout(t._toInvalidInput),t._toInvalidInput=setTimeout(function(){t._toInvalidInput=null,t._tsInvalidInput=Date.now(),i.focus()},r))}return this._updateState(),!e.cancel},t.prototype.onRefreshing=function(e){this.refreshing.raise(this,e)},t.prototype.onRefreshed=function(e){this.refreshed.raise(this,e)},t.prototype._getProductInfo=function(){return"B0C3,Control"},t.prototype._updateWme=function(){var e=this._getProductInfo(),i=t._toWme,r=kT;Pe(r)&&!i[e]&&(i[e]=!0,r(this,t._licKey))},t.prototype._hasPendingUpdates=function(){return null!=this._toInv},t.prototype._handleResize=function(){if(this._e.parentElement){var e=new Yi(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,(e.width||e.height)&&this.invalidate())}},t.prototype._handleFocusBlur=function(){var e=this;this._toFocus||(this._toFocus=setTimeout(function(){e._toFocus=null,e._updateFocusState()},t._FOCUS_INTERVAL))},t.prototype._updateFocusState=function(){setTimeout(function(){for(var e=Qo.empty,i=document.body.querySelectorAll(".wj-state-focused"),r=0;r<i.length;r++)(l=t.getControl(i[r]))&&l._focus&&!l.containsFocus()&&(ei(l._e,"wj-state-focus"),l._focus=!1,l._updateState(),l.onLostFocus(e));var o=Oe();if(o)for(var s=!0,a=o;a;){var l;(l=t.getControl(a))&&!l._focus&&l.containsFocus()&&(s&&(ze(a,"wj-state-focus"),s=!1),l._focus=!0,l._updateState(),l.onGotFocus(e)),a=a[t._OWNR_KEY]||a.parentNode}})},t.prototype._updateState=function(){var e=this.hostElement;if(e){ge(e,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(e).direction,ge(e,"wj-rtl",this._rtlDir);var i=e.querySelector("input");if(i instanceof HTMLInputElement){ge(e,"wj-state-empty",0==i.value.length),ge(e,"wj-state-readonly",i.readOnly);var r=i.validationMessage;ge(e,"wj-state-invalid",!this._pristine&&null!=r&&r.length>0)}}},t.prototype._handleDisabled=function(e){(this.isDisabled||te(e.target,".wj-state-disabled"))&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var i=document.createElement("div");return e.parentElement.replaceChild(i,e),i.innerHTML=e.innerHTML,this._copyAttributes(i,e.attributes,/id|style|class/i),i},t.prototype._copyAttributes=function(e,i,r){if(e)for(var o=0;o<i.length;o++){var s=i[o].name;s.match(r)&&e.setAttribute(s,i[o].value)}},t.prototype._getKeyCode=function(e){var i=e.keyCode;if(this.rightToLeft)switch(i){case E.Right:i=E.Left;break;case E.Left:i=E.Right}return i},t._toWme={},t._ctlCnt=0,t._touching=!1,t._tsInvalidInput=0,t._REFRESH_INTERVAL=10,t._FOCUS_INTERVAL=5,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CLICK_DELAY=800,t._CLICK_REPEAT=75,t._CLIPBOARD_DELAY=100,t._POPUP_ZINDEX=1500,t._SEARCH_DELAY=500,t._HOVER_DELAY=400,t._LEAVE_DELAY=600,t._DRAG_SCROLL_EDGE=15,t._DRAG_SCROLL_STEP=20,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._TTIP_KEY="$WJ-TTIP",t._DSBL_KEY="$WJ-DSBL",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,t}(AT);function RT(n){if("ontouchstart"in window||"onpointerdown"in window){var t=document,e=Qh(!0,!0),i=d8,r=h8,o=n?t.addEventListener.bind(t):t.removeEventListener.bind(t);"ontouchstart"in window?(o("touchstart",i,e),o("touchend",r,e),o("touchcancel",r,e)):"onpointerdown"in window&&(o("pointerdown",i,e),o("pointerup",r,e),o("pointercancel",r,e))}}function d8(n){if(null==n.pointerType||"touch"==n.pointerType){R._toTouch&&(clearTimeout(R._toTouch),R._toTouch=null),R._touching=!0;var t=n.target,e=Oe();e&&!oe(e,t)&&R.getControl(te(e,".wj-control"))&&t.focus()}}function h8(n){if((null==n.pointerType||"touch"==n.pointerType)&&(R._toTouch=setTimeout(function(){R._toTouch=null,R._touching=!1},900),document.querySelector("ion-app"))){var t=n.target;te(t,".wj-dropdown-panel,.wj-dropdown")&&(t.focus(),n.stopPropagation(),n.stopImmediatePropagation())}}var Zi,f8=function(){function n(t){this._title=null,this._copyCss=!0,null!=t&&wo(this,t)}return Object.defineProperty(n.prototype,"title",{get:function(){return this._title},set:function(t){this._title=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=M(t)},enumerable:!0,configurable:!0}),n.prototype.addCSS=function(t){this._css||(this._css=[]),this._css.push(t)},n.prototype.append=function(t){var e=this._getDocument();if(le(t))e.write(t);else if(t instanceof Element){t instanceof HTMLElement&&R.refreshAll(t);for(var i=t.cloneNode(!0),r=i.querySelectorAll("input"),o=0;o<r.length;o++){var s=r[o];switch(s.type){case"checkbox":F(s,"checked",!!s.checked||null),F(s,"indeterminate",!!s.indeterminate||null);break;case"radio":F(s,"checked",!!s.checked||null);break;default:F(s,"value",s.value||null)}}e.write(i.outerHTML)}else J(!1,"content should be an HTML string or an Element.")},n.prototype.print=function(t){var e=this;this._iframe&&(this._close(),setTimeout(function(){var i=e._iframe.contentWindow,r="onafterprint"in i&&!Ls();r&&(i.onafterprint=function(){e._afterPrint(t)}),ht()&&null==i.document.body||!document.queryCommandSupported("print")?(i.focus(),i.print()):i.document.execCommand("print",!0,null),r||e._afterPrint(t)},100))},n.prototype._afterPrint=function(t){document.body.removeChild(this._iframe),this._iframe=null,Pe(t)&&t()},n.prototype._getDocument=function(){if(!this._iframe){var t=this._iframe=document.createElement("iframe");ze(t,"wj-printdocument"),G(t,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(t)}return this._iframe.contentDocument},n.prototype._close=function(){var t=this._getDocument();if(t.close(),t.title=null!=this.title?this.title:document.title,t.title&&t.title.trim()||(t.title="\xa0"),this._copyCss){for(var e=document.head.querySelectorAll("LINK"),i=0;i<e.length;i++){var r=e[i];if(r.href.match(/\.css$/i)&&r.rel.match(/stylesheet/i)){var o=Ay(r.href,{async:!1});this._addStyle(o.responseText)}}var s=document.head.querySelectorAll("STYLE");for(i=0;i<s.length;i++)this._addStyle(s[i].textContent)}if(this._css)for(i=0;i<this._css.length;i++){var a=t.createElement("style");o=Ay(this._css[i],{async:!1}),a.textContent=o.responseText,t.head.appendChild(a)}},n.prototype._addStyle=function(t){var e=this._getDocument(),i=e.createElement("style");i.textContent=t,e.head.appendChild(i)},n}(),Fy=function(){function n(){}return n.copy=function(t){n._copyPaste(k(t),null)},n.paste=function(t){t=Mt(t),n._copyPaste(null,t)},n._copyPaste=function(t,e){for(var i=Oe(),r=te(i,".wj-control");r&&R.getControl(r);)r=r.parentElement;if(r=r||document.body){var o=!1,s=Je('<textarea class="wj-clipboard">',r,{position:"fixed",opacity:"0"});s.onkeydown=function(a){return a.preventDefault()},s.onchange=function(a){return a.stopImmediatePropagation()},le(t)?(s.value=t,s.select(),document.execCommand("copy")&&(o=!0)):(s.select(),Pe(e)&&document.execCommand("paste")&&(e(s.value),o=!0)),setTimeout(function(){i.focus({preventScroll:!0}),Tt(s),!o&&Pe(e)&&e(s.value)},R._CLIPBOARD_DELAY)}},n}(),Bs=function(){function n(t){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=t,this._connect(!0)}return Object.defineProperty(n.prototype,"element",{get:function(){return this._e},set:function(t){this._connect(!1),this._e=ot(t,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=M(t)},enumerable:!0,configurable:!0}),n.prototype._connect=function(t){var e=this;this._e&&n._startEvents.forEach(function(i){t?e._e.addEventListener(i,e._mousedownBnd):e._e.removeEventListener(i,e._mousedownBnd)})},n.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},n.prototype._mousedown=function(t){var e=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,n._stopEvents.forEach(function(i){document.addEventListener(i,e._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){e._isDown&&(e._click(),e._toRepeat=setTimeout(e._clickBnd,R._CLICK_REPEAT))},R._CLICK_DELAY))},n.prototype._mouseup=function(t){var e=this;this._isDown&&t&&"keydown"!=t.type&&this._clicked&&t.preventDefault(),n._stopEvents.forEach(function(i){document.removeEventListener(i,e._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},n.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,R._CLICK_REPEAT)))},n._startEvents=["mousedown","touchstart"],n._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],n}();function xi(n,t,e,i,r,o){void 0===r&&(r=!0);var s=n.offsetHeight||n.offsetWidth,a=e;(_n(e)||null==e)&&(a=e?Zi.AboveLeft:Zi.BelowLeft);var l=function(n){var t=document.body;if(n instanceof HTMLElement){if(!oe(document.body,n))return t;for(var e=n;e;e=e.parentElement){if("DIALOG"==e.tagName||"ION-CONTENT"==e.tagName||"fixed"==getComputedStyle(e).position){t=e;break}if(p8(e)){t=e.querySelector(".ui-dialog-content")||e;break}}}return t}(t);if(function(n,t){(!n.offsetHeight||!n.offsetWidth||n.parentElement!=t)&&(G(n,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),t.appendChild(n))}(n,l),function(n,t,e){if(t instanceof HTMLElement&&e){var i=e instanceof HTMLElement?e:t,r=getComputedStyle(i);1==new ii(r.backgroundColor).a&&G(n,{color:r.color,backgroundColor:r.backgroundColor,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle})}}(n,t,r),R.refreshAll(n),Ls()?requestAnimationFrame(function(){PT(n,t,a)}):PT(n,t,a),t instanceof HTMLElement&&(n[R._OWNR_KEY]=t),!s){if(function(n,t,e){var i=t instanceof MouseEvent?t.target:t;if(i instanceof HTMLElement&&i.parentElement!=document.body){var r=Date.now(),o=i.getBoundingClientRect(),s=new R(document.createElement("div"));n[R._SCRL_KEY]=s,s.addEventListener(document,"scroll",function(a){if(a.target!=n.parentElement&&Date.now()-r>100&&oe(document,i)&&!oe(n,a.target)&&(a.target!=document||null!=t&&"fixed"==n.style.position)){var l=i.getBoundingClientRect(),c=Math.abs(l.left-o.left),u=Math.abs(l.top-o.top);(c>1||u>1)&&(Pe(e)&&e(),Ny(n,!0),s.dispose())}},!0)}}(n,t,o),i)return Iy(function(c){return n.style.opacity=c<1?c.toString():""});n.style.opacity=""}return null}function Tr(n,t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);var i=null;return e?i=Iy(function(r){n.style.opacity=(1-r).toString(),1==r&&(Ny(n,t),n.style.opacity="")}):Ny(n,t),i}function PT(n,t,e){var i=function(n,t){return t instanceof MouseEvent?t.clientX<=0&&t.clientY<=0&&t.target instanceof HTMLElement?ni.fromBoundingRect(t.target.getBoundingClientRect()):new ni(t.pageX-pageXOffset,t.pageY-pageYOffset,0,0):t instanceof ti?new ni(t.x,t.y,0,0):t instanceof HTMLElement?ni.fromBoundingRect(t.getBoundingClientRect()):t&&null!=t.top&&null!=t.left?t:null}(0,t),r=function(n){var t=document.body,e=document.documentElement,i=n.parentElement,r=new ti(t.scrollLeft||pageXOffset,t.scrollTop||pageYOffset);if(i!=t){var o=i==t?e:n.offsetParent||i;if(o==t&&(o=i),o){var s=o.getBoundingClientRect();r=new ti(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(i instanceof HTMLElement){var a=getComputedStyle(i);r.x-=parseFloat(a.borderLeftWidth),r.y-=parseFloat(a.borderTopWidth)}return r}(n),o=function(n,t,e,i){var r=document.documentElement,o=r.clientWidth,s=r.clientHeight,a=Zi;switch(e){case a.AboveLeft:case a.AboveRight:case a.BelowLeft:case a.BelowRight:if(t){var l=t.width;l&&(ht()&&(l-=n.offsetWidth-n.clientWidth),n.style.minWidth=l+"px")}}var c=getComputedStyle(n),u=parseFloat(c.marginTop)+parseFloat(c.marginBottom),d=parseFloat(c.marginLeft)+parseFloat(c.marginRight),h=new Yi(n.offsetWidth+d,n.offsetHeight+u),f=new ti((o-h.width)/2,Math.round((s-h.height)/2*.7));if(t){"rtl"==c.direction&&(e=function(n){var t=Zi;switch(n){case t.AboveLeft:return t.AboveRight;case t.AboveRight:return t.AboveLeft;case t.BelowLeft:return t.BelowRight;case t.BelowRight:return t.BelowLeft;case t.Left:return t.Right;case t.LeftTop:return t.RightTop;case t.LeftBottom:return t.RightBottom;case t.Right:return t.Left;case t.RightTop:return t.LeftTop;case t.RightBottom:return t.LeftBottom}return n}(e));var p=t.left,g=o-t.right;switch(f.x=t.left,e){case a.Above:case a.Below:f.x=t.left+(t.width-h.width)/2;break;case a.AboveLeft:case a.BelowLeft:f.x=t.left;break;case a.AboveRight:case a.BelowRight:f.x=t.right-h.width;break;case a.Left:case a.LeftTop:case a.LeftBottom:f.x=p>=h.width||p>=g?t.left-h.width:t.right;break;case a.RightTop:case a.RightBottom:case a.Right:f.x=g>=h.width||g>=p?t.right:t.left-h.width}var m=t.top,y=s-t.bottom;switch(e){case a.Above:case a.AboveLeft:case a.AboveRight:f.y=m>h.height||m>y?t.top-h.height:t.bottom;break;case a.Below:case a.BelowLeft:case a.BelowRight:f.y=y>h.height||y>m?t.bottom:t.top-h.height;break;case a.LeftTop:case a.RightTop:f.y=t.top;break;case a.LeftBottom:case a.RightBottom:f.y=t.bottom-h.height;break;case a.Left:case a.Right:f.y=t.bottom-h.height+(h.height-t.height)/2}}return f.x=Math.min(f.x,o-h.width),f.y=Math.min(f.y,s-h.height),f.x=Math.max(0,f.x)+i.x,f.y=Math.max(0,f.y)+i.y,f}(n,i,e,r),s={position:"absolute",zIndex:R._POPUP_ZINDEX},a=0==r.x;a?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)";var l=n.getBoundingClientRect().width;if(G(n,s),a){var c=l-n.getBoundingClientRect().width;c>0&&(n.style.left=o.x-Math.ceil(c)+"px")}}function Ny(n,t){n.style.display="none",t&&n.parentElement&&setTimeout(function(){"none"==n.style.display&&(Tt(n),Pe(t)&&t())},R._FOCUS_INTERVAL+50);var e=n[R._SCRL_KEY];e instanceof R&&e.dispose(),delete n[R._SCRL_KEY],delete n[R._OWNR_KEY]}function p8(n){var t=window.jQuery,e=Pe(t)?t(n):null;return e&&Pe(e.dialog)&&st(n,"ui-dialog")}!function(n){n[n.Above=0]="Above",n[n.AboveRight=1]="AboveRight",n[n.RightTop=2]="RightTop",n[n.Right=3]="Right",n[n.RightBottom=4]="RightBottom",n[n.BelowRight=5]="BelowRight",n[n.Below=6]="Below",n[n.BelowLeft=7]="BelowLeft",n[n.LeftBottom=8]="LeftBottom",n[n.Left=9]="Left",n[n.LeftTop=10]="LeftTop",n[n.AboveLeft=11]="AboveLeft"}(Zi||(Zi={}));var af=function(){function n(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=Zi.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new x,wo(this,t)}return Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){this._position=Xe(t,Zi)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(t){this._isAnimated=M(t)},enumerable:!0,configurable:!0}),n.prototype.setTooltip=function(t,e,i){t=Co(t),e=this._getContent(e);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1)),e&&(this._attach(t),this._tips.push({element:t,content:e,position:i}));var o=n._eTip;o&&o[R._TTIP_KEY]==t&&(e?this._setContent(e):this._hideAutoTip())},n.prototype.getTooltip=function(t){t=Co(t);for(var e=this._tips,i=0;i<e.length;i++)if(e[i].element==t)return e[i].content;return null},n.prototype.show=function(t,e,i,r){if(t=Co(t),e=this._getContent(e),t){null==r&&(r=this.position);var o=n._eTip;o||(ze(o=n._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),ze(o,this.cssClass),this._setContent(e),o[R._TTIP_KEY]=t;var s=new OT(e,t);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),i||(i=ni.fromBoundingRect(t.getBoundingClientRect()));var a=this.gap;if(a)switch(r){case Zi.Above:case Zi.AboveLeft:case Zi.AboveRight:case Zi.Below:case Zi.BelowLeft:case Zi.BelowRight:i=i.inflate(0,a);break;default:i=i.inflate(a,0)}xi(o,i,r,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},n.prototype.hide=function(){var t=n._eTip;t&&(Tt(t),ei(t,this.cssClass),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},n.prototype.dispose=function(){var t=this;this.isVisible&&this.hide();var e=this._tips;e.length&&(e.forEach(function(i){t._detach(i.element)}),e.splice(0,e.length)),this._clearTimeouts()},Object.defineProperty(n.prototype,"isVisible",{get:function(){var t=n._eTip;return null!=t&&null!=t.parentElement&&t.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=N(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=Ct(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=Ct(t)},enumerable:!0,configurable:!0}),n.prototype.onPopup=function(t){return this.popup&&this.popup.raise(this,t),!t.cancel},n.prototype._indexOf=function(t){for(var e=0;e<this._tips.length;e++)if(this._tips[e].element==t)return e;return-1},n.prototype._attach=function(t){t.addEventListener("mouseenter",this._showAutoTipBnd),t.addEventListener("mouseleave",this._hideAutoTipBnd),t.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&t.addEventListener("mousemove",this._mousemoveBnd)},n.prototype._detach=function(t){t.removeEventListener("mouseenter",this._showAutoTipBnd),t.removeEventListener("mouseleave",this._hideAutoTipBnd),t.removeEventListener("click",this._showAutoTipBnd),t.removeEventListener("mousemove",this._mousemoveBnd)},n.prototype._showAutoTip=function(t){var e=this;if(!t.defaultPrevented)if("click"!=t.type||R._touching){var i="mouseenter"==t.type?this._showDelay:0,r=this._hideDelay;this._clearTimeouts(),this._eMouse=t,this._toShow=setTimeout(function(){var o=e._indexOf(t.target);if(o>-1){var s=e._tips[o],a=e._eMouse,l=e._showAtMouse?new ni(a.clientX,a.clientY,0,0):null,c=s&&s.element;if(c&&(c.offsetHeight||c.offsetWidth)){var u=R.getControl(s.element);(null==u||0!=u.isVisible)&&(e.show(s.element,s.content,l,s.position),r>0&&(e._toHide=setTimeout(function(){e.hide()},r)))}}},i)}else this._hideAutoTip()},n.prototype._mousemove=function(t){this._eMouse=t},n.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},n.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},n.prototype._getContent=function(t){if((t=k(t))&&"#"==t[0]){var e=Co(t);e&&(t=e.innerHTML)}return t},n.prototype._setContent=function(t){var e=n._eTip;e&&(this._html?e.innerHTML=t:e.textContent=t)},n}(),OT=function(n){function t(e,i){var r=n.call(this)||this;return r._content=k(e),r._e=i,r}return Er(t,n),Object.defineProperty(t.prototype,"tip",{get:function(){return af._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=k(e)},enumerable:!0,configurable:!0}),t}(ft);xl("wijmo",rr);var Tl="The Wijmo license in this application ",Ly={evl:"Wijmo Evaluation Version ({version})",prd:Tl+"is not valid for the <b>{control}</b> control.",ver:Tl+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:Tl+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:Tl+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:Tl+"is invalid.",mss:Tl+"is not set.",ctc:'If you are a customer, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">create a license</a> online. Otherwise, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">generate a 30-day license</a> for free. For further assistance, contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},Il={};function kT(n,t){var e=R._wme;if(!(e&&oe(document.body,e)&&e.offsetWidth&&e.offsetHeight))if(t){var i=FT(n);Il[i]||(Il[i]=!0,function(n,t,e,i){var r=function(n,t){try{var e=n.indexOf(t="#"+t);if(e>-1)return{prefix:n.substring(0,e),lic:JSON.parse(O8(n.substr(e+t.length)))}}catch(i){}return null}(n,t.algorithmCode);if(!r)return i();var o=r.lic,s=r.prefix+"#"+t.algorithmCode;if(function(n){for(var t=0,e=5381,i=0,r=n.length-1;r>=0;r--){var o=n.charCodeAt(r);t=o+(t<<6)+(t<<16)-t,e=o+((e<<5)+e),i=o+((i<<5)-i)}var s=t^e^i;return s<0&&(s=~s),s.toString(16).toUpperCase()}(s+JSON.stringify(o.D))!=o.H)return i();var a=window.msCrypto||window.crypto,l=a?a.subtle:null;if(!l||!location.protocol.match(/^https/i))return e(o.D);var c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},u={alg:"RS256",e:"AQAB",kty:"RSA",n:H8(t.publicKey)};u=window.msCrypto?UT(JSON.stringify(u)):u;try{GT(l.importKey("jwk",u,c,!1,["verify"])).then(function(d){var h=function(n){return String.fromCharCode.apply(null,new jy(n))}(zT(function(n){return btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))}(s+JSON.stringify(o.D))));GT(l.verify(c,d,zT(o.S),UT(h))).then(function(f){return f?e(o.D):i()})},function(){return e(o.D)})}catch(d){return e(o.D)}}(t,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(r){Vy(n,t,r),delete Il[i]},function(){Vy(n,t,null),delete Il[i]}))}else Vy(n,null,null)}function FT(n){return n._getProductInfo().split(",")[0]}function E8(n){return n._getProductInfo().split(",")[1]}function Vy(n,t,e){var i=ve.Licensing||Ly,r=null;e?function(n,t){if(t.Exp){var e=t.Exp,i=new Date(parseInt(e.substr(0,4))||0,parseInt(e.substr(4,2))-1||0,parseInt(e.substr(6,2))||0);if(Math.ceil((i.valueOf()-Date.now())/864e5)<=0)return!1}return!0}(0,e)?function(n,t){var e=t.Anl?t.Anl.ver:null,i="5.20212.812";return!e||parseInt(e.replace("v",""))+10>=parseInt(i.split(".")[1])}(0,e)?function(n,t){if(VT()||!t.Dms)return!0;for(var e=location.hostname,i=t.Dms.split(","),r=0;r<i.length;r++)if(NT(e,i[r]))return!0;return!1}(0,e)?function(n,t){var e=FT(n);if(e&&e.length>=4)for(var i=0;i<t.Prd.length;i++)if(t.Prd[i].C.indexOf(e)>-1)return!0;return!1}(n,e)?LT(0,e)&&(r=i.evl):r=i.prd:r=i.dmn:r=i.ver:r=i.exp:r=t?i.lic:i.mss,r&&function(n,t,e){if(t=jT(n,t,e),!Il[" "]&&!VT()&&!LT(0,e)){Il[" "]=!0;var i=ve.Licensing||Ly,r=Je('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+i.hdr+"</p><p>"+t+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+i.cls+"</button></div></div></div>",document.body);r.addEventListener("click",function(a){a.target instanceof HTMLButtonElement&&Tt(r)})}if(!R._wme){var o=Je('<div><a href="'+function(){switch(ve.Globalize.name){case"ja":return"https://www.grapecity.co.jp/developer/support/wijmo-license";case"ko":return"https://www.grapecity.co.kr/wijmojs#price";default:return"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis"}}()+'" target="_blank" rel="noopener">'+jT(n)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}G(o,s),document.body.appendChild(o),R._wme=o,function(n,t){var e,i=Je(t);i.className="wj-tooltip",G(i,{pointerEvents:"auto",padding:"10px",margin:"6px"}),[n,i].forEach(function(s){s.addEventListener("mouseenter",function(){return o(!0)}),s.addEventListener("mouseleave",function(){return o(!1)})});var r=0;function o(s){r+=s?1:-1,e&&clearTimeout(e),e=setTimeout(function(){e=null,1==r?xi(i,n.getBoundingClientRect()):r<1&&Tr(i)},500)}}(o,t)}}(n,r+="<br/><br/>"+i.ctc,e)}function NT(n,t){var e="^"+t.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",i=new RegExp(e,"i").test(n);return i||"*."!=t.substr(0,2)?i:NT(n,t.substr(2))}function LT(n,t){return!!t&&t.Evl}function VT(){var n=location,t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==n.protocol||new RegExp(t,"i").test(n.hostname)}function jT(n,t,e){(!t||t.trim().length<15)&&(t=(ve.Licensing||Ly).evl),(!t||t.trim().length<15)&&(t=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var i=null;if(e&&e.Exp){var r=e.Exp;i=new Date(parseInt(r.substr(0,4))||0,parseInt(r.substr(4,2))-1||0,parseInt(r.substr(6,2))||0)}return Sl(t,{version:"5.20212.812",domain:location.hostname,control:E8(n),licVer:e&&e.Anl?"5."+e.Anl.ver.replace("v","")+".*":null,licDomain:e?e.Dms:null,expDate:i})}var jy="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function O8(n){if(!n)return"";var t=function(n){for(var t=n.split(""),e=t.length-5;e>=0;e--)HT(t,e+1,e+3,BT),HT(t,e,e+2,BT);return t.join("")}(n);t=function(n){return n.split("").reverse().join("")}(t);var e=Math.ceil(t.length/2);return function(n){for(var t=atob(n),e="",i=0;i<t.length;i++)e+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(e)}(t=(t=(t=t.substr(e)+t.substr(0,e)).replace("#","=")).replace("&","=="))}function HT(n,t,e,i){n.length>1&&n.splice(e,1,i(n.splice(t,1,i(n[e]))[0]))}function BT(n){return function(n,t){var e=n.charCodeAt(0);return e>=65&&e<=90?n.toLowerCase():e>=97&&e<=122?n.toUpperCase():e>=48&&e<=57?String.fromCharCode(48+(e-48+10-1)%10):n}(n)}function zT(n){for(var t=atob(n),e=t.length,i=new jy(e),r=0;r<e;r++)i[r]=t.charCodeAt(r);return i.buffer}function H8(n){return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function UT(n){for(var t=new ArrayBuffer(n.length),e=new jy(t),i=0,r=n.length;i<r;i++)e[i]=n.charCodeAt(i);return t}function GT(n){return"oncomplete"in n&&(n.then=function(t,e){n.resolve=t,n.reject=e},n.oncomplete=function(t){n.resolve(n.result)},n.onerror=function(t){n.reject()}),n}var Qt=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();Eo("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var $T=function(n){function t(e,i){var r=n.call(this,e)||this;r._value=null,r._min=null,r._max=null,r._format="",r._step=null,r._showBtn=!0,r._readOnly=!1,r._handleWheel=!0,r._oldText="",r.textChanged=new x,r.valueChanged=new x,F(r.hostElement,"role","spinbutton",!0);var s=r.getTemplate();r.applyTemplate("wj-control wj-content wj-inputnumber",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var a=ve.InputNumber.ariaLabels;at(r._btnUp.querySelector("button"),a.incVal),at(r._btnDn.querySelector("button"),a.decVal),r._tbx.type.match(/number/i)&&(r.inputType="");var l=r._tbx;l.autocomplete="off",l.spellcheck=!1,r._updateSymbols();var c=r.addEventListener.bind(r);c(l,"keypress",r._keypress.bind(r)),c(l,"keydown",r._keydown.bind(r)),c(l,"input",r._input.bind(r)),c(l,"blur",function(){r.text!=r._oldText&&r._setText(r.text)}),c(l,"compositionstart",function(){r._composing=!0}),c(l,"compositionend",function(){r._composing=!1,setTimeout(function(){var d=r.text,h=r._oldText,f=r._chrPct;h&&h.indexOf(f)>-1&&d.indexOf(f)<0&&(d+=f),r._setText(d)})});var u=r._clickSpinner.bind(r);return c(r._btnUp,"click",u),c(r._btnDn,"click",u),r._rptUp=new Bs(r._btnUp.querySelector("button")),r._rptDn=new Bs(r._btnDn.querySelector("button")),c(l,"wheel",function(d){if(r.handleWheel&&!d.defaultPrevented&&!d.ctrlKey&&r._isEditable()&&r.containsFocus()){var h=qe(-d.deltaY,-1,1);r._increment((r.step||1)*h),setTimeout(function(){return r.selectAll()}),d.preventDefault()}}),r.value=0,r.isRequired=!0,r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value)if(null==(e=N(e,!this.isRequired||null==e&&null==this._value)))this._setText("");else if(!isNaN(e)){var i=Ce.format(e,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=M(e),this.inputElement.readOnly=this._readOnly,ge(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this._min&&(this._min=N(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this._max&&(this._max=N(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=N(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=k(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=M(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!M(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;xe(e,0,e.value.length)},t.prototype.clamp=function(e){return qe(e,this.min,this.max)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,n.prototype.dispose.call(this)},t.prototype.onGotFocus=function(e){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var i=this.clamp(this.value);if(i==this.value||this.onInvalidInput(new ft)){var r=Ce.format(i,this.format);this._setText(r)}}n.prototype.onLostFocus.call(this,e)},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){this._updateSymbols();var i=Ce.format(this.value,this.format);this._setText(i)}},t.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},t.prototype._updateSymbols=function(){var e=ve.Globalize.numberFormat,i=Ce._parseNumericFormat(this.format);this._chrDec=e["."]||".",this._chrTho=e[","]||",",this._chrNeg=e["-"]||"-",this._chrPls=e["+"]||"+",this._chrPct=e["%"]||"%",this._chrCur=i.curr||e.currency.symbol||"$",this._fmtSpc=i.spec,this._fmtPrc=i.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},t.prototype._isNumeric=function(e,i){var r=e==this._chrDec||e>="0"&&e<="9",o="x"==this._fmtSpc;return!r&&o&&(r=e>="a"&&e<="f"||e>="A"&&e<="F"),r||i||o||(r=e==this._chrPls||e==this._chrNeg||"("==e||")"==e),r},t.prototype._getInputRange=function(e){for(var i=[0,0],r=this.text,o=!1,s=0;s<r.length;s++)this._isNumeric(r[s],e)&&(o||(i[0]=s,o=!0),i[1]=s+1);return i},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,i=this._tbx.selectionStart,r=this._tbx.value,o=0;o<r.length&&o<i;o++)this._isNumeric(r[o],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var i=this._tbx.value,r=0;r<i.length&&e>=0;r++)if(this._isNumeric(i[r],!0)){if(!e){xe(this._tbx,r);break}e--}else if(!e){xe(this._tbx,r);break}},t.prototype._increment=function(e){if(e){var i=this.clamp(Be(this.value)?this.value+e:0),r=Ce.format(i,this.format,!1,!1);this._setText(r)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,i=e;G([this._btnUp,this._btnDn],{display:e?"":"none"}),ge(this.hostElement,"wj-input-show-spinner",e),xn(this._btnUp,i),xn(this._btnDn,i),this._updateAria()},t.prototype._setText=function(e){if(!this._composing){var i=this._tbx,r=this._chrDec,o=this._rxNeg.test(e),s=this._delKey,a=this.containsFocus();if(e&&this._rxSym.test(e)&&a&&(e=this.isRequired||!s?(o?"-0":"0")+(e.indexOf(r)>-1?r:""):""),this._delKey=!1,s&&0==this.value&&!this.isRequired&&(e=""),!e){if(!this.isRequired)return i.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),void this._updateBtn();e="0"}var l=e.indexOf(r),c=this._format||(l>-1?"n2":"n0"),u=Ce.parseFloat(e,c);if(isFinite(u)||(u=this.clamp(u)),isNaN(u))this.onInvalidInput(new ft)?i.value=this._oldText:this.focus();else{var h=Ce.format(u,c,!1,!1,a&&l>-1?2:null);o&&u>=0&&!s&&(h=this._chrNeg+h),a&&l>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(h=e).indexOf(r)<0&&(h+=r),i.value!=h&&(i.value=h,u=Ce.parseFloat(h,c)),u!=this._value&&(this._value=u,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},t.prototype._keypress=function(e){if(!e.defaultPrevented&&!this._composing&&this._isEditable()&&e.charCode&&!e.ctrlKey&&!e.metaKey){var i=this._tbx,r=String.fromCharCode(e.charCode);if(this._isNumeric(r,!1)){var o=i.maxLength;if(o>-1&&i.value.length>=o&&i.selectionEnd==i.selectionStart)return void e.preventDefault();var s=this._getInputRange(!0),a=i.selectionStart,l=i.selectionEnd;if(a<s[0]&&l<i.value.length&&(l=Math.max(l,s[0]),xe(i,s[0],l)),a>=s[1]){var c=null!=this._fmtPrc?this._fmtPrc:2,u=i.value.indexOf(this._chrDec);u>-1&&a-u>c&&e.preventDefault()}}else e.preventDefault();switch(r){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&i.selectionStart==i.selectionEnd?this._flipSign():this.clamp(-1)<0&&(i.value=this._chrNeg,xe(i,1)),e.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),e.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)e.preventDefault();else{var d=i.value.indexOf(this._chrDec);d>-1&&(i.selectionStart<=d&&d++,xe(i,d),e.preventDefault())}}if(!e.defaultPrevented&&ht()){var h=i.value;(a=i.selectionStart)==(l=i.selectionEnd)&&(i.value=h.substr(0,a)+r+h.substr(l),xe(i,a+1),e.preventDefault(),this._input())}}},t.prototype._keydown=function(e){var i=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing&&!st(this._tbx,"wj-grid-ime")){var r=this._tbx,o=r.value,s=r.selectionStart,a=r.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout(function(){i.selectAll()}),e.preventDefault());break;case E.Up:case E.Down:this.step&&this._isEditable()&&(this._increment(this.step*(e.keyCode==E.Up?1:-1)),setTimeout(function(){i.selectAll()}),e.preventDefault());break;case E.Back:if(this._delKey=!0,a-s<2&&this._isEditable()){var l=o[a-1];(l==this._chrDec||l==this._chrPct||l==this._chrTho||")"==l)&&(setTimeout(function(){a=l==i._chrPct?i._getInputRange(!0)[1]:a-1,xe(r,a)}),e.preventDefault())}break;case E.Delete:if(this._delKey=!0,a-s<2&&this._isEditable())if("0"==o&&1==s)xe(r,0);else{var c=o[s];(c==this._chrDec||c==this._chrPct)&&(setTimeout(function(){xe(r,s+1)}),e.preventDefault())}break;case E.Escape:this.value=this._oldValue,this.selectAll()}}},t.prototype._input=function(){var e=this;this._composing||setTimeout(function(){var i=e._tbx,r=i.value,o=r.indexOf(e._chrDec),s=i.selectionStart,a=e._getSelStartDigits();if("p"==e._fmtSpc&&r.length&&r.indexOf(e._chrPct)<0&&(r+=e._chrPct),e._setText(r),e.containsFocus()){var l=i.value,c=l.indexOf(e._chrDec),u=e._getInputRange(!0);if(r==e._chrNeg+e._chrDec&&c>-1)return void xe(i,c+1);if(r[0]==e._chrNeg&&l[0]!=e._chrNeg)return void(1==l.length?xe(i,1):e._setSelStartDigits(a));r?r==e._chrDec&&c>-1?s=c+1:s<=o&&c>-1||o<0&&c<0?s+=l.length-r.length:o<0&&c>-1&&(s=c):s=c>-1?c:u[1],xe(i,s=qe(s,u[0],u[1]))}})},t.prototype._clickSpinner=function(e){var i=this;!e.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*(oe(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout(function(){return i.selectAll()}))},t.prototype._updateAria=function(){var e=this.hostElement;e&&(F(e,"aria-valuemin",this.min),F(e,"aria-valuemax",this.max),F(e,"aria-valuenow",this.value),xn(this._btnDn,null==this.min||this.value>this.min),xn(this._btnUp,null==this.max||this.value<this.max))},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',t}(R),z8=function(n){function t(e,i){var r=n.call(this,e)||this;r.valueChanged=new x;var o=r.getTemplate();if(r.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),"INPUT"==r._orgTag){var s=r._tbx.getAttribute("value");s&&(r.value=s)}return r._msk=new Ml(r._tbx),r.isRequired=!0,r.initialize(i),r.addEventListener(r._tbx,"input",function(){r.onValueChanged()}),r.addEventListener(r._tbx,"blur",r._commitText.bind(r)),r.addEventListener(r._tbx,"keydown",function(a){a.keyCode==E.Enter&&r._commitText()}),r}return Qt(t,n),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){e!=this.value&&(this._tbx.value=k(e),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=k(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(e){var i=this.value;this._msk.mask=k(e),this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var i=this.value;this._msk.promptChar=e,this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(e){this._msk.overwriteMode=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=M(e),ge(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();xe(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},t.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new ft)){var e=this._tbx,i=e.value,r=i.indexOf(this.promptChar);r>-1&&xe(e,r,i.length)}this._updateState()},t.prototype.dispose=function(){this._msk.input=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._msk.refresh()},t.prototype.onGotFocus=function(e){n.prototype.onGotFocus.call(this,e),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(R),WT=function(n){function t(e,i){var r=n.call(this,e)||this;r._hsb=[.5,1,1],r._alpha=1,r.valueChanged=new x;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-colorpicker",o,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),r._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),r._updatePalette(),r._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",r._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(r._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",r._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),r._cSB=Je(o=t._tplCursor),r._cHue=Je(o),r._cHue.style.width="100%",r._cAlpha=Je(o),r._cAlpha.style.height="100%",r._eSB.appendChild(r._cSB),r._eHue.appendChild(r._cHue),r._eAlpha.appendChild(r._cAlpha);var s=r.addEventListener.bind(r),a=r.removeEventListener.bind(r),l=document;s(r.hostElement,"mousedown",function(d){s(l,"mousemove",c),s(l,"mouseup",u),r._mouseDown(d)}),s(r.hostElement,"touchstart",function(d){s(l,"touchmove",c),s(l,"touchend",u),r._mouseDown(d)});var c=function(d){r._mouseMove(d)},u=function(d){a(l,"mousemove",c),a(l,"mouseup",u),a(l,"touchmove",c),a(l,"touchend",u),r._mouseUp(d)};return s(r.hostElement,"click",function(d){var h=d.target;if(h&&"DIV"==h.tagName&&oe(r._ePal,h)){var f=h.style.backgroundColor;f&&(r.value=new ii(f).toString())}}),r.value="#ffffff",r.initialize(i),r._updatePanels(),r}return Qt(t,n),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(e){this._eAlpha.parentElement.style.display=M(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(e){this._eText.style.display=M(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){e=k(e);var i=ii.fromString(e);if(i){this._value=e,this._eText.innerText=e;var r=i.getHsb();(this._hsb[0]!=r[0]||this._hsb[1]!=r[1]||this._hsb[2]!=r[2]||this._alpha!=i.a)&&(0==r[2]?(r[0]=this._hsb[0],r[1]=this._hsb[1]):0==r[1]&&(r[0]=this._hsb[0]),this._hsb=r,this._alpha=i.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){(e=(e=Sn(e)).slice(0,10)).every(function(i){return null!=ii.fromString(i)})&&(this._palette=e,this._updatePalette())},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){var i=e.touches?e.touches[0]:e,r=this._htDown;if(r){var o=r.getBoundingClientRect(),s=this._hsb;r==this._eHue?s[0]=qe((i.clientY-o.top)/o.height,0,.99):r==this._eSB?(s[1]=qe((i.clientX-o.left)/o.width,0,1),s[2]=qe(1-(i.clientY-o.top)/o.height,0,1)):r==this._eAlpha&&(this._alpha=qe((i.clientX-o.left)/o.width,0,1)),this._updateColor()}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=ii.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new ii("#fff"),i=new ii("#000");this._ePal.innerHTML="";for(var r=0;r<this._palette.length;r++){var o=Je('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),s=new ii(this._palette[r]),a=s.getHsb();o.appendChild(this._makePalEntry(s,4));for(var l=0;l<5;l++)s=0==a[1]?ii.interpolate(e,i,.1*l+(a[2]>.5?.05:.55)):ii.fromHsb(a[0],.1+.2*l,1-.1*l),o.appendChild(this._makePalEntry(s,0));this._ePal.appendChild(o)}},t.prototype._makePalEntry=function(e,i){var r=document.createElement("div");return G(r,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:i||""}),r.innerHTML="&nbsp",r},t.prototype._updatePanels=function(){var e=ii.fromHsb(this._hsb[0],1,1,1),i=ii.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var i=e.target;return oe(this._eSB,i)?this._eSB:oe(this._eHue,i)?this._eHue:oe(this._eAlpha,i)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(R),U8=function(n){function t(e,i){var r=n.call(this,e)||this;r._view=null,r._byPage=!1,r._fmt="{current:n0} / {count:n0}";var o=r.getTemplate();return r.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),r._rptNext=new Bs(r._btnNext.querySelector("button")),r._rptPrev=new Bs(r._btnPrev.querySelector("button")),r.addEventListener(r.hostElement,"click",r._click.bind(r)),r.initialize(i),r._update(),r}return Qt(t,n),Object.defineProperty(t.prototype,"cv",{get:function(){return this._view},set:function(e){if(e!=this._view){var i=this._view;i&&(i.collectionChanged.removeHandler(this._collectionChanged),i.currentChanged.removeHandler(this._currentChanged)),i=this._view=ot(e,"ICollectionView",!0),this._update(),i&&(i.collectionChanged.addHandler(this._collectionChanged,this),i.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byPage",{get:function(){return this._byPage},set:function(e){e!=this._byPage&&(this._byPage=M(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._fmt},set:function(e){e!=this._fmt&&(this._fmt=k(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(e){this._rptNext.disabled=this._rptPrev.disabled=!M(e)},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this._view,i=this._byPage,r=e?i?e.pageIndex:e.currentPosition:0,o=e?i?e.pageCount:e.itemCount:0;xn(this._btnFirst,e&&r>0),xn(this._btnPrev,e&&r>0),xn(this._txtCurr,null!=e),xn(this._btnNext,e&&r<o-1),xn(this._btnLast,e&&r<o-1),this._txtCurr.value=Sl(this._fmt,{current:e?r+1:0,count:e?o:0,currentItem:e?e.currentPosition+1:0,itemCount:e?e.itemCount:0,currentPage:e?e.pageIndex+1:0,pageCount:e?e.pageCount:0})},t.prototype._currentChanged=function(){this._update()},t.prototype._collectionChanged=function(){this._update()},t.prototype._click=function(e){var i=e.target,r=this._view,o=this._byPage;r&&(oe(this._btnFirst,i)?o?r.moveToFirstPage():r.moveCurrentToFirst():oe(this._btnPrev,i)?o?r.moveToPreviousPage():r.moveCurrentToPrevious():oe(this._btnNext,i)?o?r.moveToNextPage():r.moveCurrentToNext():oe(this._btnLast,i)&&(o?r.moveToLastPage():r.moveCurrentToLast()),e.preventDefault())},t.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',t}(R),zs=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._cv=null,r._itemFormatter=null,r._pathDisplay=new mn(""),r._pathValue=new mn(""),r._pathChecked=new mn(""),r._html=!1,r._shGroups=!1,r._checkedItems=null,r._itemRole="option",r._caseSensitive=!1,r._vThreshold=t._VTHRESH,r._isVirtual=!1,r._children=[],r._clientHeight=-1,r._itemHeight=30,r._itemsAbove=-1,r._itemsBelow=-1,r._eSizer=document.createElement("div"),r._ePadTop=document.createElement("div"),r._ePadBot=document.createElement("div"),r._checking=!1,r._search="",r._fmtItemHandlers=0,r._itemCount=0,r._oldSel=null,r.selectedIndexChanged=new x,r.itemsChanged=new x,r.loadingItems=new x,r.loadedItems=new x,r.itemChecked=new x,r.checkedItemsChanged=new x,r.formatItem=new x(function(){r.invalidate()}),r.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=r.hostElement;return F(o,"role","listbox",!0),"SELECT"==r._orgTag&&r._initFromSelect(r.hostElement),r.addEventListener(o,"click",r._click.bind(r)),r.addEventListener(o,"keydown",r._keydown.bind(r)),r.addEventListener(o,"keypress",r._keypress.bind(r)),r.addEventListener(o,"wheel",function(s){o.scrollHeight>o.offsetHeight&&(s.deltaY<0&&0==o.scrollTop||s.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation())}),[r._eSizer,r._ePadTop,r._ePadBot].forEach(function(s){s.tabIndex=-1,F(s,"aria-hidden",!0),G(s,{pointerEvents:"none",opacity:"0"})}),r.initialize(i),r._updateViewRange(),r.hostElement.addEventListener("scroll",function(s){r._updateViewRange()}),r}return Qt(t,n),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var i=this.checkedItems;this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._checkedItems=null,this._cv=yu(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged(),this._arrayEquals(i,this.checkedItems)||this.onCheckedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(e){if(e!=this._vThreshold){var i=this._getVirtual();this._vThreshold=N(e,!1,!0),i!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=M(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=M(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Mt(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=k(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=k(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=k(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var i=null;e>-1&&Yt(this._cv)&&(i=this._cv.items[e],this.displayMemberPath&&(i=this._pathDisplay.getValue(i)));var r=null!=i?i.toString():"";return this._itemFormatter&&(r=this._itemFormatter(e,r)),r},t.prototype.getDisplayText=function(e){var i=this._getChild(e);return null!=i?i.textContent:""},t.prototype.isItemEnabled=function(e){var i=this._getChild(e);return null!=i&&!i.hasAttribute("disabled")&&!st(i,"wj-state-disabled")&&!st(i,"wj-separator")},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(N(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var i=this._cv,r=i?i.items:null,o=this.selectedValuePath,s=-1;if(r){for(var a=0;a<r.length;a++){var l=r[a],c=o?this._pathValue.getValue(l):l;if(c===e||K.equals(c,e)){s=a;break}if(this.isContentHtml&&le(c)&&c.indexOf("<")>-1&&Sr(c)===e){s=a;break}}this.selectedIndex=s}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement,i=e?parseFloat(e.style.maxHeight):null;return isNaN(i)?null:i},set:function(e){var i=this.hostElement;i&&(e=N(e,!0),i.style.maxHeight=null==e?"":e+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(e){void 0===e&&(e=this.containsFocus());var i=this.hostElement,r=this._children,o=this._getSelectedElement(!1),s=new ni(0,0,0,0);o!=this._oldSel&&(this._updateItemAttributes(o,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=o),o instanceof HTMLElement?s=this._getBoundingClientRect(o):this._children.length>0&&(s=this._getBoundingClientRect(this._getChild(0)));var a=this._getBoundingClientRect(i),l=0;if(this._shGroups&&(l=this._itemHeight,!this._isVirtual)){var c=r[0];c.offsetHeight&&st(c,"wj-header")&&(l=c.offsetHeight)}s.bottom>a.bottom?i.scrollTop+=s.bottom-a.bottom:s.top<a.top+l&&(i.scrollTop-=a.top+l-s.top),this._updateViewRange(),o=this._getSelectedElement(!0),e&&(o&&!oe(o,Oe())?o:i).focus(),i.tabIndex=o?-1:this._orgTabIndex},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(e){var i=this._cv.items[e],r=this._pathChecked;if(On(i)&&r.path)return r.getValue(i);var o=this._getCheckbox(e);return!!o&&o.checked},t.prototype.setItemChecked=function(e,i){this._setItemChecked(e,i,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){return null==this._checkedItems&&(this._checkedItems=this._getCheckedItems()),this._checkedItems},set:function(e){var i=this,r=Sn(e,!1);if(!this._arrayEquals(r,this.checkedItems)){var o=this._cv,s=this._pathChecked,a=new Map;if(s&&o){var l=o.sourceCollection;if(l&&l.length){On(l[0])||(s=null),r.forEach(function(u){return a.set(u,!0)}),this._checking=!0;var c=[];l.forEach(function(u){var d=a.has(u);d&&c.push(u),s&&s.setValue(u,d)}),this._checking=!1,r=c}o.items.forEach(function(u,d){i._setItemChecked(d,a.has(u),!1)})}this._arrayEquals(r,this._checkedItems)||(this._checkedItems=r,this.onCheckedItemsChanged())}},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){return(e=te(e,".wj-listbox-item"))?e[t._DIDX_KEY]:-1},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var r=this.formatItem.handlerCount;((this._cv?this._cv.items.length:0)!=this._itemCount||r!=this._fmtItemHandlers)&&(this._fmtItemHandlers=r,this._populateList())}},t.prototype._getBoundingClientRect=function(e){if(!e.offsetHeight){var i=this.indexOf(e),r=this.hostElement;if(i>-1&&r){i=this._getElementIndex(i);var o=r.getBoundingClientRect();return new ni(0,o.top-r.scrollTop+i*this._itemHeight,o.width,this._itemHeight)}}return ni.fromBoundingRect(e.getBoundingClientRect())},t.prototype._updateItemAttributes=function(e,i){if(e){var r=this.checkedMemberPath?this._getCheckbox(this.indexOf(e)):null,o=r?r.checked:null;ge(e,"wj-state-selected",i),F(e,"aria-selected",this._getAriaSelected(i,o)),e.tabIndex=i?this._orgTabIndex:-1}},t.prototype._getCheckedItems=function(){var e=this,i=this._cv,r=this._pathChecked,o=[];return i&&r&&r.path&&(o=i.sourceCollection.filter(function(s,a){if(i.filter&&!i.filter(s))return!1;if(On(s))return r.getValue(s);var l=i.items[a]==s?a:i.items.indexOf(s);return e.getItemChecked(l)})),o},t.prototype._arrayEquals=function(e,i){if(e==i)return!0;if(!e||!i||e.length!=i.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=i[r])return!1;return!0},t.prototype._getChild=function(e){return e=this._getElementIndex(e),this._children[e]},t.prototype._getElementIndex=function(e){if(this._shGroups)for(var i=this._children,r=0;r<=e&&r<i.length;r++)st(i[r],"wj-header")&&e++;return e},t.prototype._setItemChecked=function(e,i,r){void 0===r&&(r=!0);var o=this._cv.items[e],s=this._pathChecked,a=!1,l=this.selectedIndex,c=this._checking;if(On(o)&&s.path){if(s.getValue(o)!=i){var u=Di(this._cv,"IEditableCollectionView");a=!0,this._checking=!0,u?(u.editItem(o),s.setValue(o,i),u.commitEdit()):(s.setValue(o,i),u.refresh()),this._checking=c}}else a=!0;var d=this._getCheckbox(e);if(d){d.checked=i;var h=te(d,".wj-listbox-item");h&&(ge(h,"wj-state-checked",i),F(h,"aria-selected",!!i||null))}return r&&(a&&(this._checkedItems=null,this.onItemChecked(),this.onCheckedItemsChanged()),l!=this.selectedIndex&&this.onSelectedIndexChanged()),a},t.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement,i=this._cv;if(this._itemCount=i?i.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,e){var r=this.containsFocus(),o=void 0;this.onLoadingItems();var s=this._children=[];if(e.textContent="",i){var a=0,l=void 0,c=[];if(this._shGroups&&i.groups&&i.groups.length){o={};for(var u=0;u<i.groups.length;u++){var d=i.groups[u];o[a]=d,l=this._createHeaderItem(d),c.push(l);for(var h=0;h<d.items.length;h++,a++)l=this._createItem(a),c.push(l)}}else for(h=0;h<i.items.length;h++,a++)l=this._createItem(a),c.push(l);var f=this._isVirtual?document.createElement("div"):e,p=0;for(f.innerHTML=c.join(""),h=0;h<f.children.length;h++){var g=f.children[h];p==i.currentPosition&&(this._oldSel=g),g[t._DIDX_KEY]=g.className.indexOf("wj-header")<0?p++:-1,s.push(g)}}if(this.formatItem.hasHandlers&&i){a=0;var m=i.items;for(g=new Hy(0,null,null),h=0;h<s.length;h++)g._item=s[h],this._shGroups&&st(g._item,"wj-header")?(g._index=-1,g._data=o[a]):(g._index=a,g._data=m[a++]),this.onFormatItem(g)}if(this._isVirtual){var y=this._getCanvasContext(),_=null,v=0;for(h=0;h<s.length;h++){var w=y.measureText((l=s[h]).textContent);w.width>v&&(_=l,v=w.width)}if(_){var D=!1,T=e.style.display,S=e.style.position;e.parentElement||(D=!0,document.body.appendChild(e),G(e,{display:"",position:"absolute"})),e.appendChild(_);var P=_.style.whiteSpace;_.style.whiteSpace="nowrap",this._ePadTop.style.width=_.offsetWidth+"px",this._itemHeight=_.offsetHeight||this._itemHeight,_.style.whiteSpace=P,D&&(Tt(e),G(e,{display:T,position:S})),Tt(_)}else this._ePadTop.style.width="";this._eSizer.style.height=s.length*this._itemHeight+"px",e.appendChild(this._eSizer),this._clientHeight=e.clientHeight,Tt(this._eSizer),this._updateViewRange()}this.checkedItems=this._getCheckedItems();var j=this._getSelectedElement(!0);r?(j||e).focus():j&&this.showSelection(),e.tabIndex=j?-1:this._orgTabIndex,this.onLoadedItems()}},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return i.fontSize&&i.fontFamily&&(e.font=i.fontSize+" "+i.fontFamily.split(",")[0]),e},t.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var e=this.hostElement;if(e){var i=getComputedStyle(e);if(parseInt(i.columnCount)>1||i.display.indexOf("flex")>-1||i.display.indexOf("grid")>-1)return!1}return!0},t.prototype._getMaxSupportedCssHeight=function(){var e=265e5;return ht()?e=15e5:Ls()&&(e=175e5),e},t.prototype._updateViewRange=function(){var e=this.hostElement,i=e.scrollTop,r=this._itemHeight,o=this._children;if(!(e&&e.parentElement&&this._isVirtual&&this._children))return!1;J(r*o.length<this._getMaxSupportedCssHeight(),"The number of items ("+o.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/r)+") allowed for this browser.");var s=Math.max(e.clientHeight,this._clientHeight),a=Math.floor(i/r),l=Math.min(o.length,Math.ceil((i+s)/r)-a),c=Math.max(0,o.length-a-l);if(a==this._itemsAbove&&c==this._itemsBelow)return!1;this._itemsAbove=a,this._itemsBelow=c;var u=document.createDocumentFragment(),d=this.containsFocus();if(this._ePadTop.style.height=a*r+"px",u.appendChild(this._ePadTop),this.showGroups&&!st(o[a],"wj-header"))for(var h=a;h>=0;h--)if(st(o[h],"wj-header")){u.appendChild(o[h]);break}for(h=a;h<=a+l&&h<o.length;h++)u.appendChild(o[h]);this._ePadBot.style.height=c*r+"px",u.appendChild(this._ePadBot),e.textContent="",e.appendChild(u),this._ePadBot.style.height=this._ePadBot.offsetHeight-((a+l+c)*r-e.scrollHeight)+"px";var p=this._getSelectedElement(!0);return d&&(p||e).focus({preventScroll:!0}),e.tabIndex=p?-1:this._orgTabIndex,!0},t.prototype._getSelectedElement=function(e){var r=this._getElementIndex(this.selectedIndex),o=r>-1?this._children[r]:null;return e&&o&&!o.offsetHeight&&(o=null),o},t.prototype._handleResize=function(){this._updateViewRange()},t.prototype._createItem=function(e){var i=this._cv.items[e],r=e==this._cv.currentPosition,o=this.getDisplayValue(e);1!=this._html&&(o=Dr(o));var s=null;this.checkedMemberPath&&(s=!1,On(i)?s=!!this._pathChecked.getValue(i):this._checkedItems&&(s=this._checkedItems.indexOf(i)>-1),o='<label><input type="checkbox" tabindex="-1"'+(s?" checked":"")+"><span></span> "+o+"</label>");var a="wj-listbox-item";if(r&&(a+=" wj-state-selected"),s&&(a+=" wj-state-checked"),this._html){var l=["wj-separator","wj-state-disabled"];if(o.indexOf(l[0])>-1||o.indexOf(l[1])>-1){var c=Je(o);l.forEach(function(u){st(c,u)&&(a+=" "+u)})}}return'<div class="'+a+'" role="'+this.itemRole+'" '+(this._getAriaSelected(r,s)?'aria-selected="true" ':"")+'tabindex="'+(r?this._orgTabIndex:-1)+'">'+o+"</div>"},t.prototype._getAriaSelected=function(e,i){return!!(null!=i?i:e)||null},t.prototype._createHeaderItem=function(e){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+Dr(e.name)+"</div>"},t.prototype._click=function(e){if(0==e.button&&!e.defaultPrevented){var i=this.indexOf(e.target);if(i>-1&&(this.selectedIndex=i,this.checkedMemberPath)){var r=this._getCheckbox(i),o=te(r,".wj-listbox-item");(e.target==r||e.target==o)&&(o.focus({preventScroll:!0}),this.setItemChecked(i,r.checked))}}},t.prototype._keydown=function(e){var i=this.selectedIndex;if(!e.defaultPrevented){if(65==e.keyCode&&(e.ctrlKey||e.metaKey)){var r=this.collectionView;if(this.checkedMemberPath&&Yt(r))return this.checkedItems=this.checkedItems.length!=r.items.length?r.items:[],void e.preventDefault()}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case E.Down:e.preventDefault(),this._selectNext();break;case E.Up:e.preventDefault(),this._selectPrev();break;case E.Home:e.preventDefault(),this._selectFirst();break;case E.End:e.preventDefault(),this._selectLast();break;case E.PageDown:e.preventDefault(),this._selectNextPage();break;case E.PageUp:e.preventDefault(),this._selectPrevPage();break;case E.Space:if(this.checkedMemberPath&&i>-1){var o=this._getCheckbox(i);o&&this.isItemEnabled(i)&&(this.setItemChecked(i,!o.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var i=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||32==e.charCode&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){i._toSearch=null,i._search=""},R._SEARCH_DELAY);var r=this._findNext();r<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],r=this._findNext()),r>-1&&(this.selectedIndex=r)}},t.prototype._selectNext=function(){for(var e=this.selectedIndex+1;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=0;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectLast=function(){for(var e=this._children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){var e=this.hostElement.offsetHeight,i=this._children,r=this._cv?this._cv.items.length:0,o=0;if(e>0)for(var s=this.selectedIndex+1;s<r;s++){var a=i[s].scrollHeight||this._itemHeight;if(o+a>e&&this.isItemEnabled(s))return this.selectedIndex=s,!0;o+=a}return this._selectLast()},t.prototype._selectPrevPage=function(){var e=this.hostElement.offsetHeight,i=this._children,r=0;if(e>0)for(var o=this.selectedIndex-1;o>0;o--){var s=i[o].scrollHeight||this._itemHeight;if(r+s>e&&this.isItemEnabled(o))return this.selectedIndex=o,!0;r+=s}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this._children.length,i=this.selectedIndex;(i<0||1==this._search.length)&&i++;var r=this._search,o=this.caseSensitiveSearch;o||(r=r.toLowerCase());for(var s=0;s<e;s++){var a=(i+s)%e;if(this.isItemEnabled(a)){var l=this.getDisplayText(a).trim();if(o||(l=l.toLowerCase()),0==l.indexOf(r))return a}}}return-1},t.prototype._getCheckbox=function(e){var i=this._children;return e=this._getElementIndex(e),this.hostElement&&e>-1&&e<i.length?i[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var i=e.children,r=[],o=-1,s=0;s<i.length;s++){var a=i[s];"OPTION"==a.tagName&&(a.hasAttribute("selected")&&(o=r.length),r.push(a.innerHTML?{hdr:a.innerHTML,val:a.getAttribute("value"),cmdParam:a.getAttribute("cmd-param")}:{hdr:'<div class="wj-separator"></div>'}),e.removeChild(a),s--)}r&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=r,this.selectedIndex=o)},t._DIDX_KEY="$WJ-DIDX",t._VTHRESH=Number.MAX_VALUE/2,t}(R),Hy=function(n){function t(e,i,r){var o=n.call(this)||this;return o._index=N(e),o._data=i,o._item=ot(r,HTMLElement,!0),o}return Qt(t,n),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(Qo);Eo("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var hi,Al,qT=function(n){function t(e,i){var r=n.call(this,e)||this;r._selectAllLabel=null,r._filterPlaceholder=null,r._filterText="",r._checkOnFilter=!0,r._delay=R._SEARCH_DELAY,r.checkedItemsChanged=new x,r.selectedIndexChanged=new x;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-multiselectlistbox",o,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),r._selectAll.style.display="none",r._filter.style.display="none",r._lbx=new zs(r._lbHost,{checkedMemberPath:t._DEF_CHECKED_PATH,loadedItems:function(){return r._updateCheckAllCheckbox()},checkedItemsChanged:function(){return r.onCheckedItemsChanged()},selectedIndexChanged:function(){return r.onSelectedIndexChanged()}}),r._cbSelectAll=r._selectAll.querySelector("input[type=checkbox]"),r._spSelectAll=r._selectAll.querySelector("label>span");var s=ve.MultiSelectListBox;return Ut(r._spSelectAll,s.selectAll),r._filter.placeholder=s.filterPlaceholder,r.initialize(i),r.addEventListener(r._filter,"input",function(){r._filter.value!=r._filterText&&(r._filterText=r._filter.value,r._toSearch&&clearTimeout(r._toSearch),r._toSearch=setTimeout(function(){r._toSearch=null,r._applyFilter()},r.delay))}),r.addEventListener(r._cbSelectAll,"click",function(a){var l=r._lbx.collectionView;Yt(l)&&(r.checkedItems=a.target.checked?l.items:[])}),r.addEventListener(r.hostElement,"keydown",function(a){var l=r.showFilterInput?r._filter:null,c=r._lbx;if(l&&a.keyCode==E.F3&&(xe(l,0,l.value.length),a.preventDefault()),Oe()==l){var u=!a.altKey;switch(a.keyCode){case E.Escape:case E.F4:u=!1}u&&a.stopPropagation()}if(!c.containsFocus())switch(a.keyCode){case E.Up:case E.Down:r._lbx.focus(),c.selectedIndex=Math.max(0,c.selectedIndex+(a.keyCode==E.Up?-1:1)),a.preventDefault()}},!0),r}return Qt(t,n),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=N(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._checkOnFilter=M(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){this._lbx.selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(e){e!=this.showFilterInput&&(this._filter.style.display=M(e)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(e){e!=this._filterPlaceholder&&(this._filterPlaceholder=k(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(e){this._selectAll.style.display=M(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=k(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=k(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=Sn(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement){var i=ve.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:i.filterPlaceholder,this._spSelectAll&&Ut(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:i.selectAll),this._updateCheckAllCheckbox()}},t.prototype.dispose=function(){this.listBox.dispose(),n.prototype.dispose.call(this)},t.prototype._applyFilter=function(){var e=this,i=this._lbx,r=i.collectionView,o=this._filter.value,s=o?new RegExp(vu(o),i.caseSensitiveSearch?"":"i"):null,a=this.displayMemberPath,l=a?new mn(a):null,c=this.checkOnFilter?null:this.checkedItems;r.filter=function(u){return null==s||!!(c&&c.indexOf(u)>-1)||(l&&(u=l.getValue(u)),e.isContentHtml&&(u=Sr(u)),null!=u&&s.test(u.toString()))},i.selectedIndex=Math.max(0,i.selectedIndex),this._checkOnFilter&&(this.checkedItems=s?r.items:[])},t.prototype._updateCheckAllCheckbox=function(){var e=this._lbx.collectionView,i=this._cbSelectAll;if(Yt(e)){var o=this.checkedItems.length;Hs(i,o==e.items.length||0!=o&&null),i.disabled=!1}else Hs(i,!1),i.checked=!1,i.disabled=!0},t._DEF_CHECKED_PATH="$checked",t.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',t}(R);Eo("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(n){n[n.None=0]="None",n[n.Day=1]="Day",n[n.Month=2]="Month",n[n.Range=3]="Range"}(hi||(hi={})),function(n){n[n.None=0]="None",n[n.FirstMonth=1]="FirstMonth",n[n.LastMonth=2]="LastMonth",n[n.FirstAndLastMonths=3]="FirstAndLastMonths",n[n.AllMonths=4]="AllMonths",n[n.Outside=5]="Outside"}(Al||(Al={}));var Xo,KT=function(n){function t(e,i){var r=n.call(this,e)||this;r._yrPicker=!0,r._mtPicker=Al.FirstMonth,r._wksBefore=0,r._wksAfter=0,r._rngMin=0,r._rngMax=0,r._min=null,r._max=null,r._readOnly=!1,r._handleWheel=!0,r._fdw=null,r._selMode=hi.Day,r._tmYrHidden=0,r._fmtYrMo="y",r._fmtYr="yyyy",r._fmtDayHdr="ddd",r._fmtDay="d ",r._fmtMonths="MMM",r.valueChanged=new x,r.rangeEndChanged=new x,r.rangeChanged=new x,r.displayMonthChanged=new x,r.formatItem=new x(function(){r.invalidate()}),r._value=r._rngEnd=K.newDate(),r._month=r._getMonth(r._value),r._cals=[r],r._createChildren(),r._createYearPicker();var o=r.hostElement,s=r.addEventListener.bind(r);return s(o,"keydown",r._keydown.bind(r)),s(o,"click",r._click.bind(r)),r._rptUp=new Bs(r._btnPrv),r._rptDn=new Bs(r._btnNxt),r.addEventListener(o,"wheel",function(a){r.handleWheel&&!a.defaultPrevented&&!r.isReadOnly&&r.containsFocus()&&(a.deltaY<0?r._btnPrv.click():r._btnNxt.click(),a.preventDefault())}),r.initialize(i),r.refresh(!0),r}return Qt(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!==this._value&&(this._clearingRangeEnd=!K.equals(this._value,e),this.rangeEnd=null,this._clearingRangeEnd=!1,e=Si(e,!0),e=this._clamp(e),(this._valid(e)||null==e)&&(this.ensureVisible(e),K.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged())),!this.value)){var i=this.min,r=this.max,o=this.displayMonth;r&&r<o?this.ensureVisible(r):i&&i>o&&this.ensureVisible(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(e){if(e=Si(e,!0),(e=this._clamp(e))&&this._value&&this._rngMode()){e<this._value&&(e=this._value);var i=this._rngMin,r=this._rngMax;if(i&&i>0||r&&r>0){var o=this._value,s=Math.ceil((e.getTime()-o.getTime())/864e5)+1;i&&i>0&&s<i&&(e=K.addDays(o,i-1)),r&&r>0&&s>r&&(e=K.addDays(o,r-1))}}(this._valid(e)||null==e)&&!K.equals(this._rngEnd,e)&&(this._rngEnd=e,this.ensureVisible(e),this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(e){(e=N(e,!0,!0))!=this._rngMin&&(this._rngMin=e,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(e){(e=N(e,!0,!0))!=this._rngMax&&(this._rngMax=e,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){(e=Si(e,!0))!=this.min&&(this._min=e,this._syncProp(this,"min"),this.refresh(),!this.value&&e&&e>this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){(e=Si(e,!0))!=this.max&&(this._max=e,this._syncProp(this,"max"),this.refresh(),!this.value&&e&&e<this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){var i=hi;(e=Xe(e,i))!=this._selMode&&(this._selMode=e,this._mthMode()&&(this.monthView=!1),this._rngEnd=e==i.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=M(e),ge(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=M(e),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!M(e),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(e){e!=this._yrPicker&&(this._yrPicker=M(e),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(e){if(e!=this._mtPicker){var i=Al;_n(e)&&(e=e?i.FirstMonth:i.None),this._mtPicker=Xe(e,i),ge(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==i.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=N(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._month},set:function(e){e=Si(e),e=this._getMonth(e);var i=this._getDisplayMonthRange();i.to&&e>i.to&&(e=i.to),i.from&&e<i.from&&(e=i.from),K.equals(this.displayMonth,e)||(this._month=e,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){var e=this.hostElement;return e?e.querySelectorAll(".wj-calendar").length+1:0},set:function(e){var i=this,r=this.hostElement;if(e!=this.monthCount&&r){var o=r.querySelectorAll(".wj-calendar");J((e=Ct(e,!1))>0,"monthCount must be >= 1."),J(1==e||!te(r.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var s=0;s<o.length;s++){var a=o[s];Tt(a),this._getCalendar(a).dispose()}for(this._cals=[this],s=1;s<e;s++){for(var l in(a=new t(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(u,d){return i.onFormatItem(d)}}))._selMode=this._selMode,a._value=this._value,a._rngEnd=this._rngEnd,this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(l)){var c=this[l];Pe(c)||c instanceof x||(a[l]=c)}this._cals.push(a),r.appendChild(a.hostElement)}ge(r,"wj-calendar-multimonth",e>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=k(e),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=k(e),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=k(e),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=k(e),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=k(e),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(e){e!=this.showHeader&&(this._tbHdr.style.display=M(e)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(e){if(e!=this.monthView){this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"",this.refresh();var i=ve.Calendar.ariaLabels;at(this._btnPrv,e?i.prvMo:i.prvYr),at(this._btnTdy,e?i.today:i.currMo),at(this._btnNxt,e?i.nxtMo:i.nxtYr),at(this._btnMth,e?i.monthView:i.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(e){e!=this._wksBefore&&(this._wksBefore=Math.floor(N(e,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(e){e!=this._wksAfter&&(this._wksAfter=Math.floor(N(e,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Mt(e),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=Mt(e),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){var i=e instanceof MouseEvent?e.target:e instanceof Element?e:null;return J(null!=i,"MouseEvent or Element expected"),i?i[t._DATE_KEY]:null},t.prototype.ensureVisible=function(e){if(null!=e){var i=this._getCalendars(),r=i.indexOf(this),s=i[i.length-1];e<i[0].displayMonth?this.displayMonth=K.addMonths(this._getMonth(e),r):e>s.displayMonth&&(this.displayMonth=K.addMonths(this._getMonth(e),r-i.length+1))}},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._syncProp(this,"value")},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(e)},t.prototype.onRangeChanged=function(e){this.rangeChanged.raise(this,e)},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e),this._syncProp(this,"displayMonth")},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0);var i=this.hostElement,r=this.containsFocus();if(i){n.prototype.refresh.call(this,e),e&&this._updateContent(),this._updateSelection();var o=this._getDisplayMonthRange(),s=this.displayMonth;if(xn(this._btnPrv,null==o.from||s>o.from),xn(this._btnNxt,null==o.to||s<o.to),r){var a=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||i;a&&a.focus()}var l=this._getCalendars();l.length>1&&this==l[0]&&l.forEach(function(c,u){u>0&&c.refresh(e)})}},t.prototype._getShowMonthPicker=function(){var e=Al,i=this._getCalendars(),r=i.indexOf(this),o=this.showMonthPicker;switch(o){case e.FirstMonth:case e.Outside:return 0==r?o:0;case e.LastMonth:return r==i.length-1?o:0;case e.FirstAndLastMonths:return 0==r||r==i.length-1?o:0;case e.AllMonths:return o}return 0},t.prototype._getDisplayMonthRange=function(){var e={from:null,to:null};if(this.min||this.max){var i=this._getCalendars(),r=i.indexOf(this),o=this._mthMode()?K.addYears:K.addMonths;this.min&&(e.from=o(this._getMonth(this.min),r)),this.max&&(e.to=o(this._getMonth(this.max),r-i.length+1))}return e},t.prototype._getCalendar=function(e){return R.getControl(e)},t.prototype._getCalendars=function(){var e=te(this.hostElement,".wj-calendar-multimonth");return(e?this._getCalendar(e):this)._cals},t.prototype._syncProp=function(e,i){var r=this;if(!this._syncing){var o=this._getCalendars();if(o&&o.length>1){var s=e[i],a=this._mthMode()?K.addYears:K.addMonths;"displayMonth"==i&&(s=a(s,-o.indexOf(e))),o[0].deferUpdate(function(){r._syncing=!0,o.forEach(function(l,c){if(l!=e){var u=l.displayMonth;l[i]="displayMonth"==i?a(s,c):s,"value"==i&&(l.displayMonth=u,r._rngMode()&&(l.rangeEnd=null))}}),r._syncing=!1})}}},t.prototype._updateContent=function(){var e=this.displayMonth,i=Ce.format,r=K,o=this._getShowMonthPicker();Ut(this._spMth,i(e,this._fmtYrMo));var s=this._btnMth.querySelector(".wj-glyph-down");s&&(s.style.display=this._mthMode()||!o?"none":"");var a=te(this._btnTdy,".wj-btn-group");a&&(a.style.display=o?"":"none");for(var l=null!=this._fdw?this._fdw:Ce.getFirstDayOfWeek(),c=r.addDays(e,-(e.getDay()-l+7)%7),u=r.monthLast(e),d=this._tbMth.querySelectorAll("td"),h=0;h<7&&h<d.length;h++){var f=r.addDays(c,h);Ut(d[h],i(f,this._fmtDayHdr))}var p=this._tbMth.querySelectorAll("tr");for(h=1;h<p.length;h++)Tt(p[h]);var g=r.addDays(c,-7*this._wksBefore);for(h=0;h<this._wksBefore;h++)g=this._addWeek(g,"wj-week-before");for(;g<=u;)g=this._addWeek(g);for(h=0;h<this._wksAfter;h++)g=this._addWeek(g,"wj-week-after");for((d=this._tbYr.querySelectorAll("td")).length&&Ut(d[0],i(e,this._fmtYr)),h=1;h<d.length;h++){g=r.newDate(e.getFullYear(),h-1,1);var m=d[h],y=!this._monthInValidRange(g);m[t._DATE_KEY]=g,Ut(m,i(g,this._fmtMonths)),ge(m,"wj-state-disabled",y),at(m,Ce.format(g,"MMMM yyyy"))}},t.prototype._updateSelection=function(){for(var e=t._DATE_KEY,i=K,r=this._tbMth.querySelectorAll("td"),o=7;o<r.length;o++){var s=(h=r[o])[e],a=this.value,l=this.rangeEnd,c=this._selMode&&null!=a&&i.sameDate(s,a),u=this._selMode&&null!=a&&i.sameDate(s,l),d=this._selMode&&null!=a&&s>a&&null!=l&&s<=l;ge(h,"wj-state-selected",c),ge(h,"wj-state-multi-selected",d),ge(h,"wj-state-last-selected",u),F(h,"aria-selected",!!c||null),this._customizeCell(o,s,h)}for(r=this._tbYr.querySelectorAll("td"),o=0;o<r.length;o++){var h;s=(h=r[o])[e],ge(h,"wj-state-selected",c=this._sameMonth(s,this.value)),F(h,"aria-selected",!!c||null)}},t.prototype._addWeek=function(e,i){for(var r=this._createElement("tr",this._tbMth,i),o=K,s=0;s<7;s++){var a=this._createElement("td",r),l=o.addDays(e,s);a[t._DATE_KEY]=l,Ut(a,Ce.format(l,this._fmtDay)),at(a,Ce.format(l,"D"));var c=!this._valid(l),u=l.getDay(),d=l.getMonth()!=this.displayMonth.getMonth();ge(a,"wj-day-today",o.sameDate(l,o.newDate())),ge(a,"wj-day-weekend",0==u||6==u),ge(a,"wj-day-othermonth",d||!this._inValidRange(l)||c),ge(a,"wj-state-invalid",c)}return o.addDays(e,7)},t.prototype._customizeCell=function(e,i,r){if(Pe(this.itemFormatter)&&this.itemFormatter(i,r),this.formatItem.hasHandlers){var o=new Hy(e,i,r);this.onFormatItem(o)}},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=hi.None},t.prototype._valid=function(e){return!(!yt(e)||!K.sameDate(e,this._clamp(e)))&&(!Pe(this.itemValidator)||this.itemValidator(e))},t.prototype._inValidRange=function(e){var i=K.fromDateTime;return!(this.min&&e<i(this.min,e)||this.max&&e>i(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var i=e.getFullYear(),r=e.getMonth(),o=K,s=o.newDate(i,r,1),a=o.newDate(i,r+1,0);if(this.min&&this.min>a||this.max&&this.max<s)return!1}return!0},t.prototype._sameMonth=function(e,i){return yt(e)&&yt(i)&&e.getMonth()==i.getMonth()&&e.getFullYear()==i.getFullYear()},t.prototype._getValidDate=function(e,i){if(yt(e))for(var r=e.getFullYear(),o=e.getMonth()+(i?0:1),a=K,l=a.newDate(r,o,i?1:0),c=i?1:-1,u=0;u<31;u++){if(this._valid(l))return l;l=a.addDays(l,c)}return null},t.prototype._clamp=function(e){if(e){var i=K.fromDateTime;if(this.min){var r=i(this.min,e);e<r&&(e=r)}if(this.max){var o=i(this.max,e);e>o&&(e=o)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var i=ve.Calendar.ariaLabels;at(this._tbMth,i.calendar),at(this._tbYr,i.calendar),at(this._btnPrv,i.calendar),at(this._btnMth,i.monthView),at(this._btnPrv,i.prvMo),at(this._btnTdy,i.today),at(this._btnNxt,i.nxtMo);for(var r=this._createElement("tr",this._tbMth,"wj-header"),o=0;o<7;o++)this._createElement("td",r);r=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",r).setAttribute("colspan","4");for(var s=0;s<3;s++){r=this._createElement("tr",this._tbYr);for(var a=0;a<4;a++)this._createElement("td",r)}},t.prototype._createYearPicker=function(){var e=this,i=this.hostElement,r=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");r.tabIndex=this._orgTabIndex,this._lbYears=new zs(r,{lostFocus:function(o){if(Tr(r),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"),o.selectedIndex>-1){var s=K.clone(e.displayMonth);s.setFullYear(o.selectedIndex+o.itemsSource[0]),e.displayMonth=s}}}),this.addEventListener(r,"keydown",function(o){switch(o.keyCode){case E.Enter:i.focus();break;case E.Escape:e._lbYears.selectedIndex=-1,i.focus()}o.defaultPrevented&&o.stopPropagation()}),this.addEventListener(r,"click",function(o){i.focus()})},t.prototype._createElement=function(e,i,r){var o=document.createElement(e);return r&&ze(o,r),i&&i.appendChild(o),o},t.prototype._click=function(e){var i=this;if(!e.defaultPrevented&&0==e.button){var r=!1,o=e.target;if(oe(this._btnMth,o)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,r=!0):oe(this._btnPrv,o)?(this._navigate(-1),r=!0):oe(this._btnNxt,o)?(this._navigate(1),r=!0):oe(this._btnTdy,o)&&(this._navigate(0),r=!0),o&&!r&&this._yrPicker&&oe(this._tbYr,o)&&te(o,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void e.preventDefault();for(var s=this.displayMonth.getFullYear(),a=this.min?this.min.getFullYear():s-100,l=this.max?this.max.getFullYear():s+100,c=[],u=a;u<=l;u++)c.push(u);var d=this._lbYears,h=d.hostElement,f=te(o,".wj-header"),p=this.hostElement,g=te(p,".wj-inputdate-dropdown")||p;return d.itemsSource=c,d.selectedIndex=s-c[0],F(h,"dir",this.rightToLeft?"rtl":null),G(h,{minWidth:"",width:f.offsetWidth}),xi(h,f,!1,!1,g),requestAnimationFrame(function(){d.showSelection(!0)}),this.addEventListener(window,"touchstart",function(w){oe(h,w.target)||(Tr(h),i._tmYrHidden=Date.now(),i.removeEventListener(window,"touchstart"))}),void e.preventDefault()}if(o&&!r){var m=te(o,"td");if(m){var y=this.hitTest(m),_=K.fromDateTime;if(this.monthView){if(y&&this._canChangeValue()){var v=_(y,this._value);this._inValidRange(v)&&this._valid(v)&&(this._rngMode()&&this.value&&!this.rangeEnd&&v>=this.value?this.rangeEnd=v:this.value=v),r=!0}}else y&&(this.displayMonth=y,this._mthMode()?this._canChangeValue()&&(v=_(this.displayMonth,this.value),this._inValidRange(v)&&(this.value=v)):this.monthView=!0,r=!0)}}r&&(e.preventDefault(),this.focus())}},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case E.Up:case E.Down:return;case E.End:return this._navigate(0),void e.preventDefault()}if(!(e.ctrlKey||e.metaKey||e.shiftKey&&!this._rngMode())){var i=this._getKeyCode(e),r=0,o=0,s=!0;if(this.monthView)switch(i){case E.Left:r=-1;break;case E.Right:r=1;break;case E.Up:r=-7;break;case E.Down:r=7;break;case E.PageDown:o=e.altKey?12:1;break;case E.PageUp:o=e.altKey?-12:-1;break;case E.Home:case E.End:if(this._canChangeValue()&&!e.shiftKey){var a=this.value||this.displayMonth;(c=this._getValidDate(a,i==E.Home))&&(this.value=K.fromDateTime(c,this.value),this._rngEnd=null)}break;default:s=!1}else switch(i){case E.Left:o=-1;break;case E.Right:o=1;break;case E.Up:o=-4;break;case E.Down:o=4;break;case E.PageDown:o=e.altKey?120:12;break;case E.PageUp:o=e.altKey?-120:-12;break;case E.Home:o=this.value?-this.value.getMonth():0;break;case E.End:o=this.value?11-this.value.getMonth():0;break;case E.Enter:this._mthMode()?s=!1:this.monthView=!0;break;default:s=!1}if(this._canChangeValue()&&(r||o)){var l=e.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,c=K;if(l?(l=c.addDays(l,r),l=c.addMonths(l,o)):l=this._getValidDate(new Date,!0),o&&!this._valid(l)){a=l.getMonth();for(var u=1;u<31&&!this._valid(l);u++){var d=c.addDays(l,+u),h=c.addDays(l,-u);this._valid(d)&&d.getMonth()==a?l=d:this._valid(h)&&h.getMonth()==a&&(l=h)}}for(u=0;u<31&&!this._valid(l);u++)l=c.addDays(l,r>0||o>0?1:-1);e.shiftKey&&l>this.value?this.rangeEnd=l:this.value=l}s&&e.preventDefault()}}},t.prototype._getMonth=function(e){var i=K;return e=e||i.newDate(),i.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._mthMode=function(){return this.selectionMode==hi.Month},t.prototype._rngMode=function(){return this.selectionMode==hi.Range},t.prototype._navigate=function(e){var i=this.monthView,r=this.displayMonth,o=K;switch(e){case 0:var s=o.newDate();this._canChangeValue()&&(this.value=i?o.fromDateTime(s,this.value):this._getMonth(s)),r=this._getMonth(s);break;case 1:r=o.addMonths(r,i?1:12);break;case-1:r=o.addMonths(r,i?-1:-12)}this.displayMonth=r},t._DATE_KEY="$WJ-DATE",t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',t}(R);Eo("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(n){n[n.Select=0]="Select",n[n.Open=1]="Open",n[n.Toggle=2]="Toggle"}(Xo||(Xo={}));var Ir,Jt,Us=function(n){function t(e,i){var r=n.call(this,e)||this;r._clickAction=Xo.Select,r._showBtn=!0,r._autoExpand=!0,r._animate=!1,r._oldText="",r.textChanged=new x,r.isDroppedDownChanging=new x,r.isDroppedDownChanged=new x;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-dropdown",o,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),r._dropDown.style.display="none";var s=ve.DropDown.ariaLabels;at(r._btn.querySelector("button"),s.tgl);var a=r._elRef=r._tbx;tf(a),r._createDropDown(),r._updateBtn();var l=r.hostElement;ze(l,"wj-state-collapsed"),r.addEventListener(window,"resize",function(){r.isDroppedDown&&r.invalidate()});var c=r.dropDown,u=r.addEventListener.bind(r),d=r._updateFocusState.bind(r);u(c,"blur",d,!0),u(c,"focus",d);var h=r._keydown.bind(r);u(l,"keydown",h),u(c,"keydown",h);var f=r._keypress.bind(r);return u(l,"keypress",f,!0),u(c,"keypress",f,!0),u(a,"input",function(){r._setText(r.text,!1)}),u(a,"blur",function(){r._commitText(!0)},!0),u(a,"click",function(){r._autoExpand&&r._expandSelection()}),u(a,"mousedown",function(p){switch(r._clickAction){case Xo.Open:r.isDroppedDown||(p.preventDefault(),r.focus(),r.isDroppedDown=!0);break;case Xo.Toggle:p.preventDefault(),r.focus(),r.isDroppedDown=!r.isDroppedDown}}),u(r._btn,"mousedown",function(p){r._btnclick(p)}),Tt(c),ht()&&r._elRef==r._tbx&&u(l,"mouseup",function(p){if(!p.defaultPrevented&&0==p.button&&st(p.target,"wj-btn")){var g=Oe();g&&g!=p.target&&setTimeout(function(){g.focus()})}}),vo()&&u(a,"keyup",function(){r._setText(r.text,!1)}),u(c,"click",r._dropDownClick.bind(r)),r}return Qt(t,n),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=M(e),ge(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickAction",{get:function(){return this._clickAction},set:function(e){this._clickAction=Xe(e,Xo)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&"none"!=e.style.display},set:function(e){var i=this,r=this.hostElement,o=this._dropDown,s=this.containsFocus();r&&o&&(e=M(e)&&!this.isDisabled&&!this.isReadOnly&&r.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new ft)&&(e?(this._minWidthDropdown=o.style.minWidth,o.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",function(a){for(var l=a.target;l;){if(l==r)return;l=l[R._OWNR_KEY]||l.parentNode}R._touching=!0,i.isDroppedDown=!1,R._touching=!1})):(this.removeEventListener(window,"touchstart"),Tr(o),o.style.minWidth=this._minWidthDropdown),s&&(this.isTouching&&this.showDropDownButton?r.focus():this.selectAll()),this._updateFocusState(),ge(r,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(ei(this._dropDown,this._cssClass),this._cssClass=k(e),ze(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=M(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=M(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;this._elRef==e&&xe(e,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(e){this.isTouching||oe(this._dropDown,Oe())||this.selectAll(),n.prototype.onGotFocus.call(this,e)},t.prototype.onLostFocus=function(e){this._commitText(),this.isDroppedDown=!1,n.prototype.onLostFocus.call(this,e)},t.prototype._containsFocusImpl=function(e){return n.prototype._containsFocusImpl.call(this,e)||this.isDroppedDown&&oe(this._dropDown,e)},t.prototype.dispose=function(){this.isDroppedDown=!1;var e=this._dropDown;if(e){this._dropDown=null,Tt(e);var i=R.getControl(e);i&&i.dispose()}n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e);var i=this.hostElement;if(i&&i.offsetHeight&&this.isDroppedDown){var r=Oe();this.isAnimated&&""!=this._dropDown.style.opacity||xi(this._dropDown,i,!1,!1,null==this.dropDownCssClass),r instanceof HTMLElement&&r!=Oe()&&r.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._dropDownClick=function(e){e.stopPropagation()},t.prototype._expandSelection=function(){var e=this._tbx,i=e.value,r=e.selectionStart,o=e.selectionEnd;if(i&&r==o){var s=this._getCharType(i,r);if(s>-1){for(;o<i.length&&this._getCharType(i,o)==s;o++);for(;r>0&&this._getCharType(i,r-1)==s;r--);r!=o&&xe(e,r,o)}}},t.prototype._getCharType=function(e,i){var r=e[i];return r>="0"&&r<="9"?0:r>="a"&&r<="z"||r>="A"&&r<="Z"?1:-1},t.prototype._keydown=function(e){if(!e.defaultPrevented&&!this._isHiddenEditor()){switch(e.keyCode){case E.Tab:case E.Escape:case E.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==E.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case E.F4:case E.Up:case E.Down:if(e.keyCode==E.F4||e.altKey){var i=this.hostElement;i&&i.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}}if(!e.defaultPrevented&&e.keyCode==E.Escape&&ht()){var r=this._tbx;if(e.target==r){var o=r.value;r.value=o+" ",r.value=o}}}},t.prototype._isHiddenEditor=function(){return st(this._tbx,"wj-grid-ime")},t.prototype._keypress=function(e){"AltLeft"!=e.code&&"AltRight"!=e.code||e.preventDefault()},t.prototype._btnclick=function(e){!e.defaultPrevented&&0==e.button&&(e.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},t.prototype._setText=function(e,i){(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this.onTextChanged()),this._updateState()},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(e){},t.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var e=this.dropDown;F(e,"dir",this.rightToLeft?"rtl":null),xi(e,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(R);(function(n){n[n.None=0]="None",n[n.ClickOwner=1]="ClickOwner",n[n.ClickPopup=2]="ClickPopup",n[n.Click=3]="Click",n[n.BlurOwner=4]="BlurOwner",n[n.BlurPopup=8]="BlurPopup",n[n.Blur=12]="Blur",n[n.ClickOrBlur=15]="ClickOrBlur",n[n.DownOwner=16]="DownOwner",n[n.DownPopup=32]="DownPopup",n[n.Down=48]="Down",n[n.EnterOwner=64]="EnterOwner",n[n.EnterPopup=128]="EnterPopup",n[n.Enter=192]="Enter",n[n.LeaveOwner=256]="LeaveOwner",n[n.LeavePopup=512]="LeavePopup",n[n.Leave=768]="Leave"})(Jt||(Jt={})),function(n){n[n.None=0]="None",n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=4]="Right",n[n.Bottom=8]="Bottom",n[n.LeftTop=3]="LeftTop",n[n.RightTop=6]="RightTop",n[n.RightBottom=12]="RightBottom",n[n.LeftBottom=9]="LeftBottom"}(Ir||(Ir={}));var G8=function(n){function t(e,i){var r=n.call(this,e)||this;r._owner=null,r._modal=!1,r._position=Zi.BelowLeft,r._showTrigger=Jt.ClickOwner,r._hideTrigger=Jt.Blur,r._hideAnim=[],r._fadeIn=!0,r._fadeOut=!0,r._removeOnHide=!0,r._draggable=!1,r._resizable=!1,r._result=null,r._resultEnter=null,r._resultSubmit=null,r._callback=null,r._visible=!1,r._ownerClickBnd=r._ownerClick.bind(r),r._ownerDownBnd=r._ownerDown.bind(r),r._ownerBlurBnd=r._ownerBlur.bind(r),r._ownerEnterBnd=r._ownerEnter.bind(r),r._ownerLeaveBnd=r._ownerLeave.bind(r),r._mousedownBnd=r._mousedown.bind(r),r._mousemoveBnd=r._mousemove.bind(r),r._mousedragBnd=r._mousedrag.bind(r),r._mouseupBnd=r._mouseup.bind(r),r._hideBnd=r.hide.bind(r),r._lastShow=0,r.showing=new x,r.shown=new x,r.hiding=new x,r.hidden=new x,r.resizing=new x,r.resized=new x,r.dragging=new x,r.dragged=new x,r.sizeChanging=new x,r.sizeChanged=new x,r.positionChanging=new x,r.positionChanged=new x;var o=r.hostElement;ze(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),Tr(o,!1);var s=r.addEventListener.bind(r);s(o,"compositionstart",function(){r._composing=!0}),s(o,"compositionend",function(){r._composing=!1}),s(window,"resize",function(){!r.isVisible||r._dragged||r.isTouching||r.invalidate()}),s(o,"keydown",function(c){if(!c.defaultPrevented){if(c.keyCode==E.Escape&&!r._composing&&(c.preventDefault(),r.hide()),c.keyCode==E.Enter&&!r._composing){var u=r.dialogResultEnter;u&&(c.preventDefault(),r._validateAndHide(u))}c.keyCode==E.Tab&&r.modal&&(c.preventDefault(),Zo(o,c.shiftKey?-1:1))}}),s(o,"click",function(c){var u=c.target;if(u instanceof HTMLElement){if(u instanceof HTMLButtonElement&&"submit"==u.type){var d=r.hostElement,h=r.dialogResultSubmit;d instanceof HTMLFormElement&&h&&d.reportValidity()&&(c.preventDefault(),r.hide(h))}var f=u.className.match(/\bwj-hide[\S]*\b/);f&&f.length>0&&(c.preventDefault(),c.stopPropagation(),r.hide(f[0]))}});var a=r._toggle.bind(r),l=Jt;return r.addEventListener(o,"click",function(c){r._ignoreClick||a(c,l.ClickPopup)},!0),r.addEventListener(o,"mousedown",function(c){r._ignoreClick=!1,a(c,l.DownPopup)},!0),r.addEventListener(o,"mouseenter",function(c){c.target==o&&a(c,l.EnterPopup)},!0),r.addEventListener(o,"mouseleave",function(c){c.target==o&&a(c,l.LeavePopup)},!0),r.addEventListener(o,"blur",function(c){r.containsFocus()||a(c,l.BlurPopup)},!0),s(document,"wheel",function(c){if(r.isVisible&&r._modal){for(var u=c.target;u&&u!=document.body;u=u.parentElement)if(u.scrollHeight>u.clientHeight)return;c.preventDefault()}}),r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){var i=this._owner;i&&(this.removeEventListener(i,"click"),this.removeEventListener(i,"mousedown"),this.removeEventListener(i,"mouseenter"),this.removeEventListener(i,"mouseleave"),this.removeEventListener(i,"blur")),(i=this._owner=null!=e?Co(e):null)&&(this.addEventListener(i,"click",this._ownerClickBnd,!0),this.addEventListener(i,"mousedown",this._ownerDownBnd,!0),this.addEventListener(i,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(i,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(i,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=Xe(e,Zi)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=Xe(e,Jt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=Xe(e,Jt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){if((e=M(e))!=this.removeOnHide&&(this._removeOnHide=e,!this.isVisible)){var i=this.hostElement;e?Tt(i):i&&document.body&&(i.style.display="none",document.body.appendChild(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(e){this._draggable=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResizable",{get:function(){return this._resizable},set:function(e){this._resizable=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(e){this._resultSubmit=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,i){var r=this;if(this._lastShow=Date.now(),!this.isVisible){var o=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach(function(a){clearInterval(a)}),this._hideAnim.length=0;var s=new ft;this.onShowing(s)&&(null!=e&&(this.modal=M(e)),null!=i&&(this._callback=Mt(i)),this._oldFocus=Oe(),xi(o,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(s),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",function(){if(!r.containsFocus()){var a=r._myFocus;a&&a.offsetHeight?a.focus():Zo(o,0)}}),this.addEventListener(o,"focusin",function(){var a=Oe();a&&oe(o,a)&&(a.tabIndex>-1||!r._myFocus)&&(r._myFocus=a)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",function(a){r._hideTrigger&Jt.Blur&&!oe(o,a.target,!0)&&r.hide()}),setTimeout(function(){r.addEventListener(window,"click",function(a){r._hideTrigger&Jt.BlurPopup&&r.isDisabled&&!oe(o,a.target,!0)&&r.hide()})}),setTimeout(function(){if(!r.isDisabled&&!r.containsFocus()&&!r.isTouching){var a=o.querySelector("[autofocus]");a&&a.clientHeight>0&&!a.disabled&&a.tabIndex>-1&&!te(a,"[disabled],.wj-state-disabled")?(a.focus(),Pe(a.select)&&a.select()):Zo(o,0)}!r.isDisabled&&!r.containsFocus()&&(o.tabIndex=0,o.focus())},100))}},t.prototype.hide=function(e){var i=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){Jo(e)||(this.dialogResult=e);var r=new ft,o=this.hostElement;if(this.onHiding(r)){for(var s=this.containsFocus()?this._oldFocus:null,a=o.querySelectorAll(".wj-control.wj-dropdown"),l=0;l<a.length;l++){var c=R.getControl(a[l]);c instanceof Us&&(c.isDroppedDown=!1)}var u=this.removeOnHide,d=this.fadeOut;this._bkDrop&&this._hideAnim.push(Tr(this._bkDrop,u,d)),this._hideAnim.push(Tr(o,u,d)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(o,"focusin"),this.containsFocus()&&Oe().blur(),setTimeout(function(){if(i._updateState(),i.onHidden(r),i._callback&&i._callback(i),i.hideTrigger&Jt.LeavePopup){var h=R.getControl(te(i.owner,".wj-popup"));if(h instanceof t&&0!=(h.hideTrigger&Jt.Leave)){var f=t._evtHover,p=f?document.elementFromPoint(f.clientX,f.clientY):null,g=R.getControl(te(p,".wj-popup"));g instanceof t&&!g.isVisible&&(p=null),p&&oe(h.hostElement,p,!0)||h.hide()}}}),this._clearTimeouts(),!this.isVisible&&s&&s.offsetHeight&&s.focus()}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},t.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},t.prototype.onResized=function(e){this.resized.raise(this,e)},t.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},t.prototype.onDragged=function(e){this.dragged.raise(this,e)},t.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},t.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},t.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},t.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},t.prototype.onLostFocus=function(e){if(n.prototype.onLostFocus.call(this,e),this._hideTrigger&Jt.BlurPopup&&!this.containsFocus()){var i=document.createEvent("Event");i.initEvent("blur",!0,!0),this._toggle(i,Jt.BlurPopup)}},t.prototype.dispose=function(){this.owner=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0);var i=this.hostElement;if(n.prototype.refresh.call(this,e),this.isVisible&&!this._refreshing&&i){this._refreshing=!0;for(var r=Oe(),o=this._owner?this._owner.getBoundingClientRect():null,s=[],a=i.querySelectorAll(".wj-dropdown"),l=0;l<a.length;l++){var c=R.getControl(a[l]);c instanceof Us&&c.isDroppedDown&&(s.push(c),c.dropDown.style.display="none")}xi(i,o,this._position),s.forEach(function(u){u.dropDown.style.display="",u._updateDropDown()}),this._modal&&r instanceof HTMLElement&&r!=Oe()&&r.focus(),this._refreshing=!1}},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},t.prototype._handleDragResize=function(e){var i=this.hostElement,r=this._draggable?this._getHeaderElement():null,o=this.addEventListener.bind(this),s=this.removeEventListener.bind(this),a=this._mousemoveBnd,l=this._mousedownBnd;e?(o(i,"mousemove",a),o(i,"mousedown",l),o(i,"touchstart",l),r&&(r.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,s(i,"mousemove",a),s(i,"mousedown",l),s(i,"touchstart",l),s(document,"mousemove",this._mousedragBnd),s(document,"mouseup",this._mouseupBnd),r&&(r.style.touchAction=""))},t.prototype._mousemove=function(e){if(!this._mousedownEvt){var i=this.hostElement,r=this._getEdges(i,e),o="",s=Ir;this._edges=r,this._resizable&&(r==s.LeftTop||r==s.RightBottom?o="nwse-resize":r==s.LeftBottom||r==s.RightTop?o="nesw-resize":r==s.Left||r==s.Right?o="ew-resize":r!=s.Top&&r!=s.Bottom||(o="ns-resize")),this._draggable&&!o&&this._getClosestHeader(e.target)&&(o="move"),i.style.cursor=o}},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var i=e.touches&&e.touches.length>0?e.touches[0]:e;if(this._edges=this._getEdges(this.hostElement,i),this._edges||this._draggable&&this._getClosestHeader(e.target)){var r=new ft;if(this._edges?this.onResizing(r):this.onDragging(r)){this._mousedownEvt=i,this._rcBounds=this.hostElement.getBoundingClientRect();var o=this.addEventListener.bind(this),s=document,a=this._mousedragBnd,l=this._mouseupBnd;o(s,"mousemove",a),o(s,"touchmove",a),o(s,"mouseup",l),o(s,"touchend",l)}}this._ignoreClick=!1}},t.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),i=document,r=this._mousedragBnd,o=this._mouseupBnd;e(i,"mousemove",r),e(i,"touchmove",r),e(i,"mouseup",o),e(i,"touchend",o),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},t.prototype._mousedrag=function(e){if(!e.defaultPrevented){var i=this.hostElement,r=this._mousedownEvt,o=e.touches&&e.touches.length>0?e.touches[0]:e,s=o.clientX-r.clientX,a=o.clientY-r.clientY,l=this._rcBounds,c=this._edges,u=t._SZ_MIN,d=ni.fromBoundingRect(l);if(c){if(c&Ir.Left?(d.left=l.left+s+(o.pageX-o.clientX),d.width=Math.max(l.width-s,u)):c&Ir.Right&&(d.left=l.left,d.width=Math.max(l.width+s,u)),c&Ir.Top?(d.top=l.top+a+(o.pageY-o.clientY),d.height=Math.max(l.height-a,u)):c&Ir.Bottom&&(d.top=l.top,d.height=Math.max(l.height+a,u)),this.onSizeChanging(new By(d))&&(G(i,{left:d.left,top:d.top,width:d.width,height:d.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var h=this.hostElement.children,f=0;f<h.length;f++)R.invalidateAll(h[f])}else this._draggable&&(this._dragged||Math.abs(s)+Math.abs(a)>t._DRAG_THRESHOLD)&&(d.left=Math.max(l.left+s+(o.pageX-o.clientX),50-l.width),d.top=Math.max(l.top+a+(o.pageY-o.clientY),0),this.onPositionChanging(new By(d))&&(G(i,{left:d.left,top:d.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},t.prototype._getEdges=function(e,i){var r=0;if(this._resizable){var o=e.getBoundingClientRect(),s=t._SZ_EDGE;i.clientX-o.left<s&&(r|=Ir.Left),i.clientY-o.top<s&&(r|=Ir.Top),o.right-i.clientX<s&&(r|=Ir.Right),o.bottom-i.clientY<s&&(r|=Ir.Bottom)}return r},t.prototype._ownerClick=function(e){this._toggle(e,Jt.ClickOwner)},t.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,Jt.DownOwner)},t.prototype._ownerBlur=function(e){oe(this._owner,Oe())||this._toggle(e,Jt.BlurOwner)},t.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,Jt.EnterOwner)},t.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,Jt.LeaveOwner)},t.prototype._toggle=function(e,i){var r=this;if(e instanceof MouseEvent&&(t._evtHover=e),!("mouseenter"==e.type&&Date.now()-this._lastShow<300||e.defaultPrevented)){var o=0!=(this._hideTrigger&i),s=0!=(this._showTrigger&i),a=Jt;(o||s)&&this._clearTimeouts(),o&&this.isVisible&&(i&a.Leave?this._toHideLeave=setTimeout(function(){var l=t._evtHover,c=l?document.elementFromPoint(l.clientX,l.clientY):null;c&&oe(r.hostElement,c,!0)||r.hide()},R._LEAVE_DELAY):i&a.Blur?this._toHideBlur=setTimeout(function(){r.containsFocus()||oe(r._owner,Oe())||r.hide()},R._FOCUS_INTERVAL+50):this.hide()),s&&i!=a.ClickPopup&&(this._wasVisible||(i&a.Enter?this._toShow=setTimeout(function(){r.show()},R._HOVER_DELAY):this.show()))}},t.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},t.prototype._getClosestHeader=function(e){return te(e,".wj-dialog-header")||te(e,".modal-header")},t.prototype._showBackdrop=function(){var e=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,ze(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",function(r){r.preventDefault(),r.stopPropagation(),e.hostElement.focus(),e.hideTrigger&Jt.Blur&&e.hide()})),G(this._bkDrop,{zIndex:R._POPUP_ZINDEX,display:""});var i=this.hostElement;i.parentElement.insertBefore(this._bkDrop,i)},t.prototype._validateAndHide=function(e){var i=this.hostElement;if(i instanceof HTMLFormElement)i.reportValidity()&&this.hide(e);else{var r=this.hostElement.querySelector(":invalid");r?r.focus():this.hide(e)}},t._DRAG_THRESHOLD=6,t._SZ_EDGE=10,t._SZ_MIN=40,t}(R),By=function(n){function t(e){var i=n.call(this)||this;return i._rc=e,i}return Qt(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(ft),lf=function(n){function t(e,i){var r=n.call(this,e)||this;r._fmt="d",r._sep=" - ",r._rngs=null,r._showCal=!1,r._clsOnSel=!0,r._handleWheel=!0,r._clicked=!1,r._rangeChanged=!1,r.valueChanged=new x,r.rangeEndChanged=new x,r.rangeChanged=new x,ze(r.hostElement,"wj-inputdate"),r._msk=new Ml(r._tbx),vo()||(r.inputType="tel"),r._tbx.type.match(/^(tel|text|)$/i)||(r.inputType="text"),r.addEventListener(r.hostElement,"wheel",function(c){if(r.handleWheel&&!c.defaultPrevented&&!r.isDroppedDown&&r.containsFocus()&&null!=r.value&&r._canChangeValue()){var u=qe(-c.deltaY,-1,1),d=r.value;r.value=r.selectionMode==hi.Month?K.addMonths(d,u):K.addDays(d,u),r.selectAll(),c.preventDefault()}});var o=r._lbx=new zs(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(c){var u=c.selectedItem,d=K.fromDateTime;if(u&&u.from&&u.to){var h=r.value;r.value=d(u.from,h),r.rangeEnd=d(u.to,h),r._selectAll()}else r._cal.hostElement.style.display=""}}),s=r._cal=new KT(document.createElement("div")),a=r._dropDown;if(ze(a,"wj-inputdate-dropdown"),a.appendChild(o.hostElement),a.appendChild(s.hostElement),r.addEventListener(a,"click",function(){r._clicked=!0,setTimeout(function(){r._clicked=!1},50)},!0),"INPUT"==r._orgTag){var l=r._tbx.getAttribute("value");l&&(s.value=s.rangeEnd=Ce.parseDate(l,"yyyy-MM-dd"))}return r.isRequired=!0,r.initialize(i),r._tbx.value=r._oldText=r._getText(),r._updateState(),s.valueChanged.addHandler(function(c,u){r._refreshText(),r.onValueChanged(u),r._closeOnChange()}),s.rangeEndChanged.addHandler(function(c,u){s._rngMode()&&(r.onRangeEndChanged(u),r._closeOnChange(),s._clearingRangeEnd||r._refreshText())}),s.hostElement.addEventListener("click",function(c){if(s.selectionMode&&!s._rngMode()){var u=c.target,d=s.hitTest(u);(K.sameDate(r.value,d)||te(u,"[wj-part=btn-today]"))&&r._closeOnChange()}}),r}return Qt(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this._cal.value},set:function(e){this._cal.value=e,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){if(e!=this.text){var i=e;(i=(i||"").toString())!=this._tbx.value&&(this._tbx.value=i),i!=this._oldText&&(this._oldText=i),this._commitText(),this.onTextChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(e){e!=this.format&&(this._fmt=k(e),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._sep},set:function(e){e!=this._sep&&(this._sep=k(e,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(e){this._clsOnSel=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){e=M(e),this._handleWheel=e,e||(this.calendar.handleWheel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(e){this._rngs!=e&&(J(null==e||On(e),"Object expected"),this._rngs=e,this._lbx.itemsSource=this._getRanges(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(e){this._showCal=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._cal.min},set:function(e){this._cal.min=Si(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._cal.max},set:function(e){this._cal.max=Si(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(e){this._cal.repeatButtons=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(e){this._cal.showYearPicker=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(e){this._cal.showMonthPicker=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(e){this._cal.showHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){e!=this.selectionMode&&(this._cal.selectionMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(e){this._cal.monthCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(e){e!=this.itemValidator&&(this._cal.itemValidator=Mt(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(e){this._cal.itemFormatter=Mt(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(e))},t.prototype.onRangeChanged=function(e){this._rangeChanged=!1,this.rangeChanged.raise(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},t.prototype.onIsDroppedDownChanging=function(e){if(this.isDroppedDown)(r=this._cal)._rngMode()&&r.value&&!r.rangeEnd&&(r.rangeEnd=r.value);else{var i=this._lbx,r=this._cal,o=i.collectionView,s=i.hostElement.style,a=r.hostElement.style;if(r._rngMode()&&Yt(o)){var l=this._updateRangeSelection();s.display="",a.display=!this._showCal&&l&&l.from&&o.items.some(function(c){return!c.to})?"none":""}else s.display="none",a.display="";r._mthMode()||(r.monthView=!0)}return n.prototype.onIsDroppedDownChanging.call(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e);var i=this.containsFocus();this.isDroppedDown?(i&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},t.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px",this._cal.refresh(),n.prototype._updateDropDown.call(this)},t.prototype._keydown=function(e){if(!(e.defaultPrevented||e.altKey||e.ctrlKey||e.metaKey)){if(this._isHiddenEditor())return;switch(e.keyCode){case E.Enter:this._commitText();break;case E.Escape:this.text=this._getText(),this.selectAll();break;case E.Tab:if(this._cal._rngMode()){var i=this._tbx,r=this._sep,o=i.value,s=o.indexOf(r);if(s>-1){var a=o.length,l=i.selectionStart,c=i.selectionEnd,u=null;i.selectionEnd<=s&&!e.shiftKey?u=0==l&&0==c:e.shiftKey&&i.selectionStart>=s+r.length&&(u=l<a||c<a),null!=u&&(u?xe(i,0,s):xe(i,s+r.length,a),e.preventDefault())}}break;case E.Up:case E.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var d=e.keyCode==E.Up?1:-1,h=this.selectionMode==hi.Month?K.addMonths(this.value,d):K.addDays(this.value,d);this.value=this._fromDateTime(h),this.selectAll(),e.preventDefault()}}}n.prototype._keydown.call(this,e)},t.prototype._expandSelection=function(){if(this._cal._rngMode()){var e=this._tbx,r=e.selectionStart,o=e.selectionEnd,s=this._sep,a=e.value.indexOf(s);a>-1&&r==o&&(o<=a?xe(e,0,a):r>=a+s.length&&xe(e,a+s.length,e.value.length))}else n.prototype._expandSelection.call(this)},t.prototype._refreshText=function(){var e=this._getText();e!=this.text&&(this._tbx.value=this._oldText=e,this.onTextChanged())},t.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},t.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var i=this._cal;(!i._rngMode()||i.value&&i.rangeEnd)&&setTimeout(function(){e.isDroppedDown=!1})}},t.prototype._tryFocus=function(e){var i=e.hostElement;return!(!i||!i.offsetHeight||(i.focus(),0))},t.prototype._clamp=function(e){return this._cal._clamp(e)},t.prototype._getText=function(){var e=Ce.format,i=this._fmt,r=e(this.value,i);return this._cal._rngMode()&&r&&(r+=this._sep+e(this.rangeEnd,i)),r},t.prototype._commitText=function(e){var i=this._tbx.value;if(i!=this._getText()){var r=!1,o=this._fmt,s=this._cal,a=Ce.parseDate;if(i||this.isRequired)if(s._rngMode()){var l=i.split(this._sep);if(2==l.length&&l[0]&&(u=a(l[0],o,this.value))){var c=a(l[1],o,this.value);s.value=this._fromDateTime(u),s.rangeEnd=c&&c>=u?this._fromDateTime(c):u,r=!0}}else{var u;(u=a(i,o,this.value))&&(this.value=this._fromDateTime(u),r=!0)}else this.value=this.rangeEnd=null,r=!0;(r||!this._containsFocus()&&this.onInvalidInput(new ft))&&(this.text=this._getText())}e||this._selectAll()},t.prototype._fromDateTime=function(e){return K.fromDateTime(e,this.value)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=hi.None},t.prototype._isValidDate=function(e){return!(e&&(this._clamp(e)!=e||this.itemValidator&&!this.itemValidator(e)))},t.prototype._getRanges=function(e){var i=[];if(On(e))for(var r in e){var o=e[r];i.push({name:r,from:o?o[0]:null,to:o?o[1]:null})}return new Ji(i,{currentItem:null})},t.prototype._updateRangeSelection=function(){var e=this._lbx,i=-1;if(Yt(e.collectionView))for(var r=this._lbx.collectionView.items,o=K.sameDate,s=0;s<r.length;s++){var a=r[s];if(a.from){if(o(a.from,this.value)&&o(a.to,this.rangeEnd)){i=s;break}}else i=s}return e.selectedIndex=i,e.selectedItem},t}(Us),$8=function(n){function t(e,i){var r=n.call(this,e,{selectionMode:hi.Range,showMonthPicker:"Outside",monthCount:2})||this;return ze(r.hostElement,"wj-inputdaterange"),r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(e){J((e=Xe(e,hi))==hi.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=e},enumerable:!0,configurable:!0}),t}(lf),W8=function(n){function t(e,i){var r=n.call(this,e)||this;return r.valueChanged=new x,ze(r.hostElement,"wj-inputcolor"),r._ePreview=Je('<div class="wj-inputcolorbox"></div>',r.hostElement.firstElementChild),"INPUT"==r._orgTag&&(r._tbx.type="",r._commitText()),r.value="#ffffff",r.isRequired=!0,r.initialize(i),r.addEventListener(r._colorPicker.hostElement,"click",function(o){var s=o.target;s&&"DIV"==s.tagName&&(te(s,'[wj-part="div-pal"]')||te(s,'[wj-part="div-pv"]'))&&s.style.backgroundColor&&(r.isDroppedDown=!1)}),r}return Qt(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){(e=k(e))!=this.text&&(e||!this.isRequired)&&(!e||ii.fromString(e))&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&!this.isTouching&&this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new WT(this._dropDown),G(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){e.value=e._colorPicker.value})},t.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case E.Enter:this._commitText(),this.selectAll();break;case E.Escape:this.text=this.value,this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(ii.fromString(this.text)){var e=this._colorPicker;e.value=this.text,this._value=e.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new ft)&&(this.text=this._value?this._value:"")}},t}(Us),Do=function(n){function t(e,i){var r=n.call(this,e)||this;r._editable=!1,r._trimText=!0,r._handleWheel=!0,r._delKey=0,r._pathHdr=new mn(null),r._bsCollapse=!0,r._fmtItemHandlers=0,r.itemsSourceChanged=new x,r.selectedIndexChanged=new x;var o=r.hostElement;ze(o,"wj-combobox"),r.dropDown.id=xy(o.id+"_dropdown"),r.autoExpandSelection=!1;var s=r._tbx;r.addEventListener(s,"compositionstart",function(){r._composing=!0;var l=s.selectionStart,c=s.selectionEnd;if(c>l){var u=s.value;s.value=u.substring(0,l)+u.substring(c,u.length)}}),r.addEventListener(s,"compositionend",function(){r._composing=!1,r._setText(r.text,!0)}),r.addEventListener(o,"wheel",r._wheel.bind(r)),"SELECT"==r._orgTag&&r._lbx._initFromSelect(o);var a=r._lbx;return a.loadedItems.addHandler(function(l){r.selectedIndex>-1&&(r.selectedIndex=a.selectedIndex)}),r.isRequired=!0,r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=k(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=M(e);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimText",{get:function(){return this._trimText},set:function(e){e!=this._trimText&&(this._trimText=M(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=Mt(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&Be(e)&&(this._lbx.selectedIndex=e);var i=this.getDisplayText(e=this.selectedIndex);this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:null!=e&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown,i=e?parseInt(e.style.maxWidth):null;return isNaN(i)?null:i},set:function(e){var i=this._dropDown.style;e=N(e,!0),i.maxWidth=null==e?"":e+"px",i.minWidth=""},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e,i){void 0===e&&(e=this.selectedIndex),void 0===i&&(i=this._trimText);var r,o=this.collectionView;if(this.headerPath&&e>-1&&Yt(o)){var s=o.items[e];r=null!=(r=s?this._pathHdr.getValue(s):null)?r.toString():"",this.isContentHtml&&(r=Sr(r))}else r=this._lbx.getDisplayText(e);return i?r.trim():r},t.prototype.indexOf=function(e,i){var r=this.collectionView,o=this.caseSensitiveSearch;if(Yt(r)&&null!=e){e=e.toString(),o||(e=e.toLowerCase());var s=this.selectedIndex,a=this.getDisplayText(s);if(i&&(o||(a=a.toLowerCase()),e==a))return s;for(var l=0;l<r.items.length;l++)if(this._lbx.isItemEnabled(l))if(a=this.getDisplayText(l),o||(a=a.toLowerCase()),i){if(a==e)return l}else if(e&&0==a.indexOf(e))return l}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&Yt(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(e){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&Yt(this.collectionView)&&(this.selectedIndex=0),n.prototype.onLostFocus.call(this,e)},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDown||this._hasItems()?n.prototype.onIsDroppedDownChanging.call(this,e):(e.cancel=!0,!1)},t.prototype.onIsDroppedDownChanged=function(e){n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},t.prototype._updateBtn=function(){var e=this.collectionView,i=this._tbx,r=this._hasItems();n.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=e?"":"none",xn(this._btn,r),F(i,"role",r?"combobox":null),F(i,"aria-autocomplete",r?"both":null),this._updateAria()},t.prototype._hasItems=function(){return Yt(this.collectionView)},t.prototype._updateAria=function(){var e=this._tbx,i=this.isDroppedDown,r=this.dropDown?this.dropDown.id:null,o=r&&Yt(this.collectionView);F(e,"aria-owns",o&&i?r:null),F(e,"aria-expanded",o?i:null)},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new zs(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){e._updateBtn();var i=e._lbx.selectedIndex,r=e._lbx.hostElement.children,o=i>-1&&i<r.length?r[i].id:null;F(e._tbx,"aria-activedescendant",o&&o.length?o:null),e.selectedIndex=i,e.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){e._updateBtn()})},t.prototype._wheel=function(e){if(this.handleWheel&&!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var i=this._findNext("",e.deltaY>0?1:-1);i>-1&&(this.selectedIndex=i),e.preventDefault()}},t.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1),n.prototype._dropDownClick.call(this,e)},t.prototype._setText=function(e,i){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var r=this.formatItem.handlerCount;this._fmtItemHandlers!=r&&(this._fmtItemHandlers=r,this._lbx.loadList())}null==e&&(e=""),e=e.toString();var o=this.selectedIndex,s=this.collectionView,a=this._getSelStart(),l=-1,c=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<e.length||!this.containsFocus())&&(i=!0,c=!1),o=this.indexOf(e,i),c&&(o<0&&i&&(o=this.indexOf(e,!1)),o<0&&a>0&&(o=this.indexOf(e.substr(0,a),!1))),o<0&&!this.isEditable&&Yt(s)&&(this.isRequired||e)){var u=this._oldText||"";o=Math.max(0,this.indexOf(u,!1)),a=0;for(var d=0;d<e.length&&d<u.length;d++)if(e[d]!=u[d]){a=d;break}}o>-1&&(l=a,e=this.getDisplayText(o));var h=this._tbx;e!=h.value&&(h.value=e),l>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(l),s&&s.moveCurrentToPosition(o),this._delKey=0,this._settingText=!1,n.prototype._setText.call(this,e,i)}},t.prototype._findNext=function(e,i,r){void 0===r&&(r=this.selectedIndex);var o=this.collectionView,s=o?o.items.length:0,a=this._lbx,l=this.caseSensitiveSearch;if(o&&s&&i){l||(e=e.toLowerCase());for(var c=r+i;c>-1&&c<s;c+=i){var u=this.getDisplayText(c);if(l||(u=u.toLowerCase()),0==u.indexOf(e)&&(!this.dropDown.children[c]||a.isItemEnabled(c)))return c}}return r},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented&&!this.isReadOnly&&!e.altKey&&Yt(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var i=this._getSelStart();switch(e.keyCode){case E.Back:if(this._bsCollapse&&!this.isEditable){var r=this._getSelEnd();i>0&&r==this._tbx.value.length&&Yt(this.collectionView)&&this._setSelRange(i-1,r)}this._delKey=e.keyCode;break;case E.Delete:this._delKey=e.keyCode;break;case E.Up:case E.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),e.keyCode==E.Up?-1:1),this._setSelRange(i,this.text.length),e.preventDefault();break;case E.PageUp:this._lbx._selectPrevPage(),this.selectAll(),e.preventDefault();break;case E.PageDown:this._lbx._selectNextPage(),this.selectAll(),e.preventDefault()}}},t.prototype._updateInputSelection=function(e){var i=this._tbx;this._elRef==i&&this._setSelRange(e,i.value.length)},t.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},t.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},t.prototype._setSelRange=function(e,i){var r=this._tbx;this._elRef!=r||r.readOnly||xe(r,e,i)},t}(Us);Eo("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var q8=function(n){function t(e,i){var r=n.call(this,e)||this;return r._maxHdrItems=2,r._readOnly=!1,r._hdrFmt=null,r.checkedItemsChanged=new x,ze(r.hostElement,"wj-multiselect"),r._tbx.readOnly=!0,r.checkedMemberPath=null,r.removeEventListener(r.dropDown,"click"),r._lbx.itemsChanged.addHandler(function(){r._updateHeader()}),r._lbx.checkedItemsChanged.addHandler(function(){r._updateHeader(),r.onCheckedItemsChanged()}),r.clickAction=Xo.Toggle,r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(e){this._msLbx.showSelectAllCheckbox=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(e){this._msLbx.showFilterInput=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(e){this._msLbx.delay=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(e){this._msLbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(e){this._msLbx.filterInputPlaceholder=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._msLbx.checkOnFilter=M(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(e){this._msLbx.selectAllLabel=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(e){this._msLbx.checkedMemberPath=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=N(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=k(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=Mt(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(e){this._msLbx.checkedItems=null==e?[]:Sn(e),this._updateHeader()},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.dispose=function(){this._lbx.dispose(),n.prototype.dispose.call(this)},t.prototype.onIsDroppedDownChanged=function(e){var i=this;n.prototype.onIsDroppedDownChanged.call(this,e),setTimeout(function(){if(i.isDroppedDown&&i.containsFocus())if(i.showFilterInput&&!i.isTouching)i._msLbx._filter.focus();else{var r=i.listBox;if(r.selectedIndex<0){var o=0,s=r.checkedItems;s.length&&(o=r.collectionView.items.indexOf(s[0])),r.selectedIndex=Math.max(0,o)}r.showSelection(!0),r.focus()}})},t.prototype._createDropDown=function(){var e=Je("<div></div>",this._dropDown);this._msLbx=new qT(e),this._lbx=this._msLbx.listBox,n.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=M(e),ge(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._updateHeader()},t.prototype._setText=function(e,i){},t.prototype._keydown=function(e){n.prototype._keydown.call(this,e),st(this._tbx,"wj-grid-ime")||!e.defaultPrevented&&Yt(this.collectionView)&&e.keyCode>32&&(this.isDroppedDown=!0)},t.prototype._hasItems=function(){var e=this.collectionView,i=e?e.sourceCollection:null;return Yt(e)||i&&i.length&&this.showFilterInput},t.prototype._updateHeader=function(){var e="";if(Pe(this._hdrFormatter))e=this._hdrFormatter(this);else{var i=this.checkedItems;if(i.length>0)if(i.length<=this._maxHdrItems){if(this.headerPath){var r=new mn(this.headerPath);i=i.map(function(a){return r.getValue(a)})}else if(this.displayMemberPath){var o=new mn(this.displayMemberPath);i=i.map(function(a){return o.getValue(a)})}this.isContentHtml&&(i=i.map(function(a){return Sr(a)})),this.trimText&&(i=i.map(function(a){return a?a.toString().trim():""})),e=i.join(", ")}else e=Sl(this.headerFormat||ve.MultiSelect.itemsSelected,{count:i.length})}var s=this.inputElement;e!=s.value&&(s.value=e,this.onTextChanged()),this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(Do),K8=function(n){function t(e,i){var r=n.call(this,e)||this;r._closing=!1,r._cmd=null,r._cmdPath=null,r._cmdParamPath=null,r._subPath=null,r._owner=null,r._isButton=!1,r._openOnHover=!1,r._closeOnLeave=!0,r._subMenu=null,r._hoverEnterBnd=r._hoverEnter.bind(r),r._hoverLeaveBnd=r._hoverLeave.bind(r),r._hoverOverBnd=r._hoverOver.bind(r),r.itemClicked=new x;var o=r.hostElement,s=r._tbx,a=r._lbx,l=r.dropDown;ze(o,"wj-menu"),s.style.display="none",r._hdr=r._elRef=Je('<div wj-part="header" class="wj-form-control"/>'),s.parentElement.insertBefore(r._hdr,r._tbx);var c=r._orgOuter.match(/tabindex="?(-?\d+)"?/i);return o.tabIndex=c?parseInt(c[1]):0,r.isRequired=!1,F(o,"role","menubar",!0),F(s,"role",null),F(s,"aria-autocomplete",null),F(s,"aria-owns",null),F(l,"role","menu"),a.itemRole="menuitem","SELECT"==r._orgTag&&(r.header=o.getAttribute("header"),r._lbx.itemsSource&&(r.commandParameterPath="cmdParam")),r.isContentHtml=!0,r.maxDropDownHeight=500,r.addEventListener(r._hdr,"click",function(u){u.defaultPrevented||(r._clearHover(u),r._isButton?(r.isDroppedDown=!1,r._raiseCommand()):r.isDroppedDown=!r.isDroppedDown)}),a.lostFocus.addHandler(function(){r.containsFocus()||(r.isDroppedDown=!1)}),ze(l,"wj-menu-items"),a.formatItem.addHandler(r._formatMenuItem.bind(r)),r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(e){this._openOnHover=M(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(e){this._closeOnLeave=M(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=ot(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new ft))){var i=this.dropDown,r=this.owner;!r&&e instanceof MouseEvent&&(r=e.target),r instanceof HTMLElement&&(i[R._OWNR_KEY]=r),e instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(e=new ti(e.pageX-pageXOffset-2,e.pageY-pageYOffset-2)),xi(i,e,!1,this.isAnimated),this.onIsDroppedDownChanged(),i.focus()}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new ft)&&(Tr(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var i=this._subMenu;i&&(i.isDroppedDown=!1)}},t.prototype._updateHoverEvents=function(){var e=this.hostElement,i=this.dropDown,r=this.addEventListener.bind(this),o=this.removeEventListener.bind(this),s="mouseleave";o(e,"mouseenter",this._hoverEnterBnd),o(e,s,this._hoverLeaveBnd),o(i,"mouseover",this._hoverOverBnd),o(i,s,this._hoverLeaveBnd),this._openOnHover&&(r(e,"mouseenter",this._hoverEnterBnd),r(i,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(r(e,s,this._hoverLeaveBnd),r(i,s,this._hoverLeaveBnd)))},t.prototype._getSubItems=function(e){var i=this.subItemsPath,r=e&&i?e[i]:null;return Kt(r)&&r.length?r:null},t.prototype._formatMenuItem=function(e,i){var r=i.item;this._getSubItems(i.data)?ze(r,"wj-subitems"):"-"==r.innerHTML&&(r.innerHTML="",ze(r,"wj-separator"))},t.prototype._keydown=function(e){if(!e.defaultPrevented){var i=this._getKeyCode(e);if(this.isDroppedDown)switch(i){case E.Enter:case E.Right:if(this._showSubMenu())return void e.preventDefault();break;case E.Left:var r=R.getControl(this.owner);if(r instanceof t){var o=r.dropDown,s=r.selectedIndex;return(s>-1?o.children[s]:o).focus(),void e.preventDefault()}}i==E.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,e.preventDefault()))}n.prototype._keydown.call(this,e)},t.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){if(this._clearHover(e),this._showSubMenu())return void e.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}n.prototype._dropDownClick.call(this,e)},t.prototype._showSubMenu=function(){var e=this,i=this._getSubItems(this.selectedItem);if(!i)return null;var r=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new ti(r.right,r.top);if(0==r.height)return null;var s=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");s&&(o.x=r.left);var a=this._subMenu;a&&(a.isDroppedDown=!1),a=new t(document.createElement("div"),{owner:this.hostElement,itemsSource:i,itemClicked:function(d,h){e.itemClicked.raise(d,h)},formatItem:function(d,h){e.formatItem.raise(d,h)}});var l=this.collectionView,c=a.collectionView;l&&l.filter&&c&&!c.filter&&(c.filter=l.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach(function(d){a[d]=e[d]});var u=a.dropDown;return F(u,"dir",s?"rtl":null),a.show(o),u[R._OWNR_KEY]=this.dropDown,u.focus(),a},t.prototype._raiseCommand=function(e){var i=this.selectedItem,r=this._getSubItems(i),o=this._getCommand(i);if(o&&!r){var s=this._getCommandParm(i);if(!this._canExecuteCommand(o,s))return;this._executeCommand(o,s)}var a=this.headerPath;if(a){var l=new mn(a).getValue(i);l=null==l?"":l.toString(),this.header=this.isContentHtml?l:Dr(l)}if(this.onItemClicked(e),this.containsFocus()){for(var c=this;c&&c.owner;){var u=R.getControl(c.owner);if(!(u instanceof t))break;c=u}var d=c.owner;if(!d&&c.dropDown&&(d=c.dropDown[R._OWNR_KEY]),c.isDroppedDown=!1,c.focus(),!c.containsFocus()&&d instanceof HTMLElement&&d.offsetHeight)if(ht){var h=document.documentElement,f=h.scrollLeft,p=h.scrollTop;d.focus(),h.scrollLeft=f,h.scrollTop=p}else d.focus()}},t.prototype._getCommand=function(e){return(e&&this._cmdPath?e[this._cmdPath]:null)||this._cmd},t.prototype._getCommandParm=function(e){var i=this._cmdParamPath;return e&&i?e[i]:e},t.prototype._executeCommand=function(e,i){e&&!Pe(e)&&(e=e.executeCommand),Pe(e)&&e(i)},t.prototype._canExecuteCommand=function(e,i){if(e){var r=e.canExecuteCommand;if(Pe(r))return r(i)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var e=this.collectionView.items,i=0;i<e.length;i++){var r=e[i],o=this._getCommand(r);if(o){var s=this._lbx.hostElement.children[i],a=this._getCommandParm(r);ge(s,"wj-state-disabled",!this._canExecuteCommand(o,a))}}},t.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,t._evtHover=e},t.prototype._isTargetDisabled=function(e){return st(e.target,"wj-state-disabled")},t.prototype._hoverEnter=function(e){var i=this;this._clearHover(e),this._toHover=setTimeout(function(){i._toHover=null,i.isDroppedDown=!0},R._HOVER_DELAY)},t.prototype._hoverOver=function(e){var i=this;this._clearHover(e),this._toHover=setTimeout(function(){i._toHover=null;var r=i.listBox.indexOf(e.target);r>-1&&!st(e.target,"wj-state-disabled")&&(i.selectedIndex=r,i._subMenu=i._showSubMenu())},R._HOVER_DELAY)},t.prototype._hoverLeave=function(e){var i=this;this._clearHover(e),this.isDroppedDown&&(this._toHover=setTimeout(function(){var r=(e=t._evtHover)?document.elementFromPoint(e.clientX,e.clientY):null,o=te(r,".wj-listbox.wj-menu-items"),s=i._subMenu;!o&&!oe(i.hostElement,r,!0)&&(i.isDroppedDown=!1,s&&(s.isDroppedDown=!1))},R._LEAVE_DELAY))},t}(Do),cf=function(n){function t(e,i){var r=n.call(this,e)||this;if(r._format="t",r.valueChanged=new x,ze(r.hostElement,"wj-inputtime"),r.isEditable=!0,r._value=K.newDate(),r._min=r._max=null,r._msk=new Ml(r._tbx),vo()||(r._tbx.type="tel"),"INPUT"==r._orgTag){var o=r._tbx.getAttribute("value");o&&(r.value=Ce.parseDate(o,"HH:mm:ss"))}return r.step=15,r.autoExpandSelection=!0,r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=k(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=Si(e,!this.isRequired))&&(e=this._clamp(e)),this._setText(e?Ce.format(e,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(e=K.fromDateTime(e,this.selectedItem.value)),e!=this._value&&!K.equals(e,this._value)&&(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=Si(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=Si(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this.step&&(this._step=N(e,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=k(e),this._tbx.value=Ce.format(this.value,this.format),Yt(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=k(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(e){n.prototype.onItemsSourceChanged.call(this,e),this._hasCustomItems=null!=this.itemsSource},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._msk.refresh(),this._tbx.value=Ce.format(this.value,this.format),this._updateItems())},t.prototype.onSelectedIndexChanged=function(e){if(this.selectedIndex>-1&&!this._settingText){var i=this.value?this.value:K.newDate(),r=null!=this.selectedItem.value?this.selectedItem.value:Ce.parseDate(this.text,this.format,this.value);this.value=K.fromDateTime(i,r)}n.prototype.onSelectedIndexChanged.call(this,e)},t.prototype._clamp=function(e){return null!=this._min&&this._getTime(e)<this._getTime(this._min)&&(e=K.fromDateTime(e,this._min)),null!=this._max&&this._getTime(e)>this._getTime(this._max)&&(e=K.fromDateTime(e,this._max)),e},t.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&Be(this.step)&&this.step>0){var i=K.addMinutes(this.value,this.step*qe(e.deltaY,-1,1));this.value=this._clamp(i),this.selectAll(),e.preventDefault()}n.prototype._wheel.call(this,e)},t.prototype._updateInputSelection=function(e){if(this._delKey)n.prototype._updateInputSelection.call(this,e);else{for(var i=this._tbx.value;e<i.length&&!i[e].match(/[a-z0-9]/i);)e++;xe(this._tbx,e,this._tbx.value.length)}},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],i=new Date(2020,0),r=new Date(2020,0,1,23,59,59),o=this.step;if(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),Be(o)&&o>=1)for(var s=i;s<=r;s=K.addMinutes(s,o))e.push({value:s,text:Ce.format(s,this.format)});var a=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,!a&&this.isRequired||(this.value=a)}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(e){if(n.prototype._keydown.call(this,e),!e.defaultPrevented)switch(e.keyCode){case E.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case E.Escape:this.text=Ce.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?Ce.format(this.value,this.format):"";if(this.text!=e){var i=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:Ce.parseDate(this.text,this.format,this.value);i?(K.sameTime(i,this._clamp(i))||this.onInvalidInput(new ft))&&(this.value=K.fromDateTime(this.value,i)):this.onInvalidInput(new ft)&&(this.text=e)}}else this.value=null},t}(Do);Eo("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var YT=function(n){function t(e,i){var r=n.call(this,e)||this;ze(r.hostElement,"wj-inputdatetime");var o=ve.InputDateTime.ariaLabels;at(r._btn,o.tglDate),at(r._btnTm,o.tglTime),r.value=new Date,r.format="g",r._inputTime=new cf(document.createElement("div"),{valueChanged:function(l){var c=r.rangeEnd;r.value=K.fromDateTime(r.value,l.value),r.calendar._rngMode()&&c&&(r.rangeEnd=K.fromDateTime(c,l.value))},isDroppedDownChanged:function(l){l.listBox.containsFocus()&&r.inputElement.focus(),r._selectAll()}});var s=r.addEventListener.bind(r);r._btnTm=r.hostElement.querySelector('[wj-part="btn-tm"]'),s(r._btnTm,"mousedown",function(l){r._btnclick(l)}),r._ddDate=r._dropDown;var a=r._ddTime=r._inputTime.dropDown;return s(a,"keydown",r._keydown.bind(r),!0),s(a,"blur",function(){r._updateFocusState()},!0),s(a,"click",function(l){l.defaultPrevented||l.target!=a&&r.hostElement.focus()},!0),r.initialize(i),r.text=r._getText(),r}return Qt(t,n),Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e,this._btnTm.style.display=Be(e)&&e>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype._fromDateTime=function(e){return e},t.prototype._btnclick=function(e){var i=te(e.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(i),n.prototype._btnclick.call(this,e)},t.prototype.dispose=function(){this._setDropdown(this._ddDate),n.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(e){void 0===e&&(e=!0),this._inputTime.refresh(),n.prototype.refresh.call(this,e)},t.prototype._updateBtn=function(){n.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var i=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=i,!0},t.prototype._updateDropDown=function(){var e=this._inputTime;this._dropDown==e.dropDown?(this._commitText(),n.prototype._updateDropDown.call(this),e.isRequired=this.isRequired&&null!=this.value,e.value=this.value,this.isDroppedDown&&e.listBox.showSelection()):n.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(lf),QT=function(n){function t(e,i){var r=n.call(this,e)||this;return r._cssMatch="wj-state-match",r._minLength=2,r._maxItems=6,r._itemCount=0,r._beginsWith=!1,r._delay=R._SEARCH_DELAY,r._query="",r._inCallback=!1,r._srchProps=[],ze(r.hostElement,"wj-autocomplete"),r._bsCollapse=!1,r.isEditable=!0,r.isRequired=!1,r.listBox.formatItem.addHandler(r._formatListItem,r),r._itemsSourceFnCallbackBnd=r._itemSourceFunctionCallback.bind(r),r.initialize(i),r}return Qt(t,n),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=N(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(e){this._beginsWith=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=N(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=N(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=k(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=Mt(e),Pe(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=k(e)},enumerable:!0,configurable:!0}),t.prototype._keydown=function(e){if(!e.defaultPrevented&&this.isDroppedDown)switch(e.keyCode){case E.Up:case E.Down:this.selectAll()}n.prototype._keydown.call(this,e)},t.prototype._setText=function(e){var i=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=e&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),e!=this._oldText){var r=this._tbx;r.value!=e&&(r.value=e),this._oldText=e,this.onTextChanged();var o=this.collectionView;if(!e&&o){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,o.filter=null;var s=this.itemsSourceFunction;return void(Pe(s)&&(this.isDroppedDown=!1,s(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)))}}this._toSearch&&clearTimeout(this._toSearch),e!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){i._toSearch=null;var a=i.text.trim();if(a.length>=i._minLength&&a!=i._query){i._query=a;var l=Dr(a=vu(a)),c=i.caseSensitiveSearch?"":"i";i._beginsWith||(c+="g"),i._rxSrch=i._beginsWith?new RegExp("^"+a+".*",c):new RegExp("(?=.*"+a.replace(/ /g,")(?=.*")+")",c),i._rxHighlight=new RegExp("("+l.replace(/\s+/g,"|")+")",c);var u=i.itemsSourceFunction;Pe(u)?u(i._query,i.maxItems,i._itemsSourceFnCallbackBnd):i._updateItems()}},this._delay))}},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var i=yu(e||[]);if(i.moveCurrentToPosition(-1),this.itemsSource=i,this._inCallback=!1,this.containsFocus()){var r=this._tbx,o=r.selectionStart,s=r.selectionEnd,a=this.collectionView;this.isDroppedDown=null!=a&&a.items.length>0,xe(r,o,s),this.refresh()}},t.prototype.onIsDroppedDownChanged=function(e){if(n.prototype.onIsDroppedDownChanged.call(this,e),this.containsFocus()&&!this.isTouching){var i=this.collectionView;if(this.selectedIndex<0&&i){var r=i.items,o=this.text;1==r.length&&r[0]==o?this.selectedIndex=0:xe(this._tbx,o.length)}}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var i=e.items.length,r=this._tbx,o=r.selectionStart,s=r.selectionEnd;if(this.isDroppedDown=i>0&&this.containsFocus(),i||this.isEditable||(this.selectedIndex=-1),1==i&&this.selectedIndex<0){var a=this._getItemText(e.items[0],!1),l=r.value;this.caseSensitiveSearch||(a=a.toLowerCase(),l=l.toLowerCase()),a==l&&(this.selectedIndex=0)}this.isDroppedDown&&xe(r,o,s),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var i=[this._getItemText(e,!1)];this._srchProps&&this._srchProps.forEach(function(o){var s=e[o];null!=s&&i.push(s)}),this.isContentHtml&&(i=i.map(function(o){return o.replace(/(<[^>]*>|&[^;]*;)/g,"")}));for(var r=0;r<i.length;r++)if(this._rxSrch.test(i[r]))return this._itemCount++,!0;return!1},t.prototype._getItemText=function(e,i){var r=e?e.toString():"",o=i&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return o&&(r=null!=(r=o.getValue(e))?r.toString():""),r},t.prototype._formatListItem=function(e,i){var r=this;this._cssMatch&&this._rxHighlight&&(i.item.innerHTML=i.item.innerHTML.replace(this._rxHighlight,function(o,s,a,l){return r._enclosed(l,a,"<",">")||r._enclosed(l,a,"&",";")?o:'<span class="'+r._cssMatch+'">'+o+"</span>"}))},t.prototype._enclosed=function(e,i,r,o){for(var s=i;s>=0&&e[s]!=o;s--)if(e[s]==r)for(var a=i;a<e.length&&e[a]!=r;a++)if(e[a]==o)return!0;return!1},t}(Do),Y8=function(n){function t(e,i){var r=n.call(this,e)||this;return r._selItems=[],r._maxSelItems=null,r._lastInputValue="",r._selPath=new mn(null),r._notAddItm=!1,r.selectedItemsChanged=new x,ze(r.hostElement,"wj-multi-autocomplete"),r._wjTpl=r.hostElement.querySelector(".wj-template"),r._wjInput=r.hostElement.querySelector(".wj-input"),r.showDropDownButton=!1,r.initialize(i),r.addEventListener(r.hostElement,"keyup",r._keyup.bind(r),!0),r.addEventListener(window,"resize",r._adjustInputWidth.bind(r)),r.addEventListener(r._tbx,"focus",function(){r._itemOff()}),r._addHelperInput(),r._initSeltems(),r.listBox.itemsChanged.addHandler(function(){return r.selectedIndex=-1}),r._refreshHeader(),r}return Qt(t,n),Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(e){this._maxSelItems!=e&&(this._maxSelItems=N(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=k(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){if(this._selItems=Sn(e),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var i=0;i<this._selItems.length;i++)this._setSelItem(this._selItems[i],!1);this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,n.prototype.onIsDroppedDownChanged.call(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},t.prototype._keydown=function(e){if(!this.isReadOnly){if(!e.defaultPrevented)switch(e.keyCode){case E.Back:this._lastInputValue=this._tbx.value;break;case E.Enter:this._itemOff(),this._addItem(!0),ht()&&xe(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case E.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,e.preventDefault()):this._updateFocus();break;case E.Space:if(""!==this._tbx.value)return;!this.isDroppedDown&&!this._tbx.disabled&&(this.isDroppedDown=!0,this._clearSelIndex());break;case E.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case E.Left:this._itemOn(!this.rightToLeft);break;case E.Right:this._itemOn(!!this.rightToLeft);break;case E.Up:case E.Down:var i=Oe();if(e.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void e.preventDefault()}else if(this._tbx!==i)return;default:if(e.keyCode===E.Back||e.keyCode===E.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&e.preventDefault()}this._tbx.disabled||n.prototype._keydown.call(this,e)}},t.prototype._updateState=function(){n.prototype._updateState.call(this),this._wjTpl&&(st(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case E.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case E.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),i=0;i<e.length;i++)this._wjTpl.removeChild(e[i]);var r=this.selectedItems;if(r&&0!==r.length){for(i=0;i<r.length;i++)this._insertToken(r[i]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},t.prototype._insertToken=function(e){var i=this._getItemText(e,!0);this.isContentHtml||(i=Dr(i)),this._wjTpl.insertBefore(this._createItem(i),this._wjInput)},t.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},t.prototype._updateFocus=function(){var e=this,i=this._wjTpl.querySelector("."+t._clsActive);i?(ei(i,t._clsActive),setTimeout(function(){e._tbx.focus()})):this._clearSelIndex()},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var i,r,o=this._wjTpl.querySelector("."+t._clsActive),s=!1;(!e||o)&&(o?(r=this._getItemIndex(o))>-1&&(i=this._selItems[r],s=!0):this._selItems.length>0&&(i=this._selItems[this._selItems.length-1],s=!0),s&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,i){if(i){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var r=this._selItems.indexOf(e);this._selItems.splice(r,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,i),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var i=this,r=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");return r.appendChild(o),r.appendChild(s),r.className="wj-token",o.className="wj-token-label",o.innerHTML=e,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="\xd7",r.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(r,"click",function(a){i._helperInput.focus();var l=i._wjTpl.querySelector("."+t._clsActive);l&&ei(l,t._clsActive),ze(r,t._clsActive),a.stopPropagation(),a.preventDefault()}),this.addEventListener(s,"click",function(a){if(!i.isReadOnly){var l=i._getItemIndex(r);l>-1&&i._updateSelItems(i._selItems[l],!1),i._wjTpl.removeChild(r),i._adjustInputWidth(),i._disableInput(!1),i._tbx.focus(),a.stopPropagation(),a.preventDefault()}}),r},t.prototype._itemOn=function(e){var i,r,o,s=Oe();if((this._tbx!=s||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(r=this._wjTpl.querySelector("."+t._clsActive),o=this._getItemIndex(r),e){if(0===o)return;-1===o?(ze(i[i.length-1],t._clsActive),this._helperInput.focus()):(ei(r,t._clsActive),ze(i[o-1],t._clsActive),this._helperInput.focus())}else if(!e){if(-1===o)return;o!==i.length-1?(ei(r,t._clsActive),ze(i[o+1],t._clsActive),this._helperInput.focus()):(ei(r,t._clsActive),this._tbx.focus())}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&ei(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var i=0;i<e.sourceCollection.length;i++)this._getSelItem(i)&&this._selItems.push(e.sourceCollection[i])}},t.prototype._getSelItem=function(e){var i=this.collectionView,r=i?i.sourceCollection[e]:null;return!(!On(r)||!this.selectedMemberPath)&&this._selPath.getValue(r)},t.prototype._setSelItem=function(e,i){On(e)&&this._selPath.getValue(e)!=i&&this._selPath.setValue(e,i)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},t.prototype._disableInput=function(e){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var i=nf(this.hostElement),r=nf(this._tbx),o=getComputedStyle(this._tbx),s=parseInt(o.paddingLeft,10),a=parseInt(o.paddingRight,10);this._tbx.style.width=(this.rightToLeft?r.left+r.width-i.left-s-a-8:i.left+i.width-r.left-s-a-8)+"px"},t.prototype._getItemIndex=function(e){for(var i=this.hostElement.querySelectorAll(".wj-token"),r=0;r<i.length;r++)if(e===i[r])return r;return-1},t._clsActive="wj-token-active",t}(QT);xl("wijmo.input",Cp);var JT,fi,Mi=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){n[n.AutoComplete=0]="AutoComplete",n[n.DropDownList=1]="DropDownList",n[n.RadioButtons=2]="RadioButtons"}(fi||(fi={}));var Y,Cu=function(){function n(t,e,i){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this._serK=!0,this.mapChanged=new x,Kt(t)&&!e&&!i&&(t=t.map(function(r){return{value:r}}),e=i="value"),this._cv=yu(t),this._keyPath=k(e,!1),this._displayPath=k(i,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(n.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(t){this._sortByVal=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serializeKeys",{get:function(){return this._serK},set:function(t){if((t=M(t))!==this._serK){var e=this._map,i=e&&e.size;this._map=null,this._serK=t,i&&this.onMapChanged(Qo.empty)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),n.prototype.getDataItem=function(t){var e=this;if(!this._map){var i=this._cv.sourceCollection,r=new TT(this.serializeKeys);Kt(i)&&this._keyPath&&i.forEach(function(o){var s=o[e._keyPath];r.has(s)||r.set(s,o)}),this._map=r}return this._map.get(t)},n.prototype.getDisplayValue=function(t){var e=this._displayPath,i=this.getDataItem(t);return e&&i?i[e]:t},n.prototype.getKeyValue=function(t,e){var i=this._displayPath,r=this._indexOf(t,i,e,!0);return r<0&&(r=this._indexOf(t,i,e,!1)),r>-1?this._cv.sourceCollection[r][this._keyPath]:null},n.prototype.getDisplayValues=function(t){var e=this;return this._cv&&this._displayPath?this._cv.items.map(function(i){return i[e._displayPath]}):[]},n.prototype.getKeyValues=function(){var t=this;return this._cv&&this._keyPath?this._cv.items.map(function(e){return e[t._keyPath]}):[]},Object.defineProperty(n.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=M(t)},enumerable:!0,configurable:!0}),n.prototype.onMapChanged=function(t){this._map=null,this.mapChanged.raise(this,t)},n.prototype._indexOf=function(t,e,i,r){var o=-1,s=-1;if(this._cv&&e){var a=null!=t?t.toString():"";a&&i&&(t=Sr(a));for(var l=r?a:a.toLowerCase(),c=this._cv.sourceCollection,u=0;u<c.length;u++){var d=c[u],h=d[e];if(i&&le(h)&&(h=Sr(h)),h==t?o=u:r||h.length!=l.length||h.toLowerCase()!=l?null!=h&&h.toString()==a&&(o=u):o=u,o==u){if(!this._cv.filter||this._cv.filter(d))return o;s<0&&(s=o)}}}return s},n}(),$=function(){function n(t,e,i,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===r&&(r=e),this.setRange(t,e,i,r)}return n.prototype.setRange=function(t,e,i,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=t),void 0===r&&(r=e),this._row=Ct(t),this._col=Ct(e),this._row2=Ct(i),this._col2=Ct(r)},Object.defineProperty(n.prototype,"row",{get:function(){return this._row},set:function(t){this._row=Ct(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col",{get:function(){return this._col},set:function(t){this._col=Ct(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=Ct(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=Ct(t)},enumerable:!0,configurable:!0}),n.prototype.clone=function(){return new n(this._row,this._col,this._row2,this._col2)},n.prototype.copy=function(t){this.setRange(t._row,t._col,t._row2,t._col2)},Object.defineProperty(n.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),n.prototype.contains=function(t,e){var i=Di(t,n);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(Jh(t)&&Jh(e))return t>=this.topRow&&t<=this.bottomRow&&e>=this.leftCol&&e<=this.rightCol;throw"contains expects a CellRange or row/column indices."},n.prototype.containsRow=function(t){return Ct(t)>=this.topRow&&t<=this.bottomRow},n.prototype.containsColumn=function(t){return Ct(t)>=this.leftCol&&t<=this.rightCol},n.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},n.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},n.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},n.prototype.getRenderSize=function(t){var e=new Yi(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)e.height+=t.rows[i].renderSize;for(var r=this.leftCol;r<=this.rightCol;r++)e.width+=t.columns[r].renderSize}return e},n.prototype.equals=function(t){return t instanceof n&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},n.prototype.combine=function(t){return t?new n(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},n.prototype.toString=function(){return Sl("({row}, {col})-({row2}, {col2})",this)},n}();!function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.TopLeft=4]="TopLeft",n[n.ColumnFooter=5]="ColumnFooter",n[n.BottomLeft=6]="BottomLeft"}(Y||(Y={}));var Ke,Rl,Jr,pi=function(){function n(t,e,i,r,o){this._offsetY=0,this._rng=new $,this._g=ot(t,Ti),this._ct=Ct(e),this._rows=ot(i,Eu),this._cols=ot(r,hf),this._e=ot(o,HTMLElement),this._vrb=new $}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),n.prototype.getCellData=function(t,e,i){var r,o=this._g,s=this._rows[N(t,!1,!0)],a=null;if(!s)return null;e=this._toIndex(e),r=this._cols[N(e,!1,!0)];var l=o?o._getBindingColumn(this,t,r):r,c=null;if(s instanceof Dt&&s.dataItem instanceof Mr&&!o.childItemsPath&&(c=s.dataItem),l.binding&&s.dataItem&&!c?a=l._binding.getValue(s.dataItem):s._ubv&&(a=s._ubv[r._hash]),null==a)switch(this._ct){case Y.TopLeft:case Y.ColumnHeader:t!=this._rows.length-1&&l==r||(a=l.header);break;case Y.ColumnFooter:if(s instanceof Dt&&l.aggregate!=Et.None){var d=this._g.collectionView;if(d){var h=Di(d,Ji);a=h?h.getAggregate(l.aggregate,l.binding):of(l.aggregate,d.items,l.binding)}}break;case Y.Cell:s instanceof Dt&&(e==this._cols.firstVisibleIndex?a=s.getGroupHeader():c&&l.aggregate!=Et.None&&(a=c.getAggregate(l.aggregate,l.binding,this._g.collectionView)))}if(i){var f=l.dataMap||s.dataMap;this.cellType==Y.Cell&&f&&(a=f.getDisplayValue(a)),a=null!=a?Ce.format(a,l.format||s.format):""}return a},n.prototype.setCellData=function(t,e,i,r,o){void 0===r&&(r=!0),void 0===o&&(o=!0);var s=this._g,a=this._rows[N(t,!1,!0)],l=this._cols[N(this._toIndex(e),!1,!0)],c=We;if(!a)return!1;var u=s?s._getBindingColumn(this,t,l):l,d=u.dataMap||a.dataMap;if(this._ct==Y.Cell){var h=u.getIsRequired(a);if(d&&null!=i){var p=d.getKeyValue(i,u.isContentHtml||a.isContentHtml);if(null==p&&null==d.getDisplayValue(null)){if(d.getDisplayValue(i)==i&&(!d.isEditable||d.displayMemberPath!=d.selectedValuePath)){if(""!=i||h)return!1;i=null}}else i=p}var g,m=u.dataType||a.dataType,y=this.getCellData(t,e,!1);g=m||Vs(y);var _=null==i||""===i&&!d;if(!h&&_)g!=c.String&&(i=null),r=!1;else if(h&&_&&r)return!1;if(r){var v=u.format||a.format;if(v||g!=c.Date||(v="d"),u.mask&&le(i)&&g!=c.String&&(i=i.replace(/_/g,"")),i=js(i,g,v,y),g!=c.Object&&Vs(i)!=g)return!1}}if(a.dataItem&&u.binding){var w=u._binding,D=a.dataItem,T=w.getValue(D);if(i!==T&&(d&&!d.serializeKeys||!K.equals(i,T))){var S=s.collectionView,P=S instanceof Ji&&D!=S.currentEditItem&&S.trackChanges,j=null;if(P&&(j=S._extend({},D)),w.setValue(D,i),P){var B=new Ki(Ft.Change,D,S.items.indexOf(D));S.onCollectionChanged(B),S._trackItemChanged(D,j)}}}else a._ubv||(a._ubv={}),a._ubv[l._hash]=i;return o&&s&&s.invalidate(),!0},n.prototype.getCellBoundingRect=function(t,e,i){var r=this._g,o=this.rows[t],s=this.columns[this._toIndex(e)],a=new ni(s.pos,o.pos,s.renderSize,o.renderSize);if(r.rightToLeft&&(a.left=this.hostElement.clientWidth-a.right,ht()||(a.left-=r._root.offsetWidth-r._root.clientWidth)),!i){var l=this.hostElement.getBoundingClientRect();a.left+=l.left,a.top+=l.top-this._offsetY}return t<this.rows.frozen&&(a.top-=r.scrollPosition.y),e<this.columns.frozen&&(a.left-=r.scrollPosition.x*(r.rightToLeft?-1:1)),a},n.prototype.getCellElement=function(t,e){var i=this.hostElement.children,r=Math.min(t+2,i.length);e=this._toIndex(e);for(var o=0;o<r;o++)for(var s=i[o].children,a=Math.min(e+2,s.length),l=0;l<a;l++){var c=s[l],u=c[n._INDEX_KEY];if(u&&(u.row==t&&u.col==e||u.rng&&u.rng.contains(t,e)))return c}return null},n.prototype.getSelectedState=function(t,e,i){var r=this._g,o=r.selectionMode,s=r._selHdl.selection,a=Ke,l=Rl;if(o==a.None)return l.None;switch(e=this._toIndex(e),this._ct){case Y.Cell:if(i||(i=r.getMergedRange(this,t,e)),i){if(i.contains(s.row,s.col))return r.showMarquee?l.Active:l.Cursor;if(i.intersects(s)&&o!=a.ListBox)return l.Selected;for(var c=i.leftCol;c<=i.rightCol;c++)if(r.columns[c].isSelected)return l.Selected;for(var u=i.topRow;u<=i.bottomRow;u++)if(r.rows[u].isSelected)return l.Selected}if(s.row==t&&s.col==e)return r.showMarquee?l.Active:l.Cursor;if(r.rows[t].isSelected||r.columns[e].isSelected)return l.Selected;if(o==a.MultiRange)for(var d=r._selHdl.extendedSelection,h=0;h<d.length;h++)if(d[h].contains(t,e)||i&&i.intersects(d[h]))return l.Selected;if(i)switch(o){case a.Row:case a.RowRange:if(i.containsRow(s.row))return l.Selected}return o==a.ListBox?l.None:(s=this._getAdjustedSelection(s)).containsRow(t)&&s.containsColumn(e)?l.Selected:l.None;case Y.ColumnHeader:if(r.showSelectedHeaders&sn.Column&&(r.columns[e].isSelected||s.containsColumn(e)||s.intersectsColumn(i))&&(i&&(t=i.bottomRow),t==this.rows.length-1))return l.Selected;break;case Y.RowHeader:if(r.showSelectedHeaders&sn.Row&&(r.rows[t].isSelected||s.containsRow(t)||s.intersectsRow(i))&&(i&&(e=i.rightCol),e==this.columns.length-1))return l.Selected}return l.None},Object.defineProperty(n.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),n.prototype._toIndex=function(t){if(le(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";return t},n.prototype._getAdjustedSelection=function(t){var e=this._g,i=this._rng;switch(e.selectionMode){case Ke.Cell:i.setRange(t.row,t.col,t.row,t.col);break;case Ke.Row:i.setRange(t.row,0,t.row,e.columns.length-1);break;case Ke.RowRange:case Ke.ListBox:i.setRange(t.row,0,t.row2,e.columns.length-1);break;default:i.copy(t)}return i},n.prototype._getOffsetY=function(){return this._offsetY},n.prototype._updateContent=function(t,e,i){var r=this._g,o=this._e,s=this._rows,a=this._cols,l=this._ct;if(l==Y.ColumnHeader||l==Y.ColumnFooter||l==Y.RowHeader){var c=r._ptScrl,u=o.style;l==Y.RowHeader?u.top=c.y+"px":r.rightToLeft?u.right=c.x+"px":u.left=c.x+"px"}this._offsetY!=i&&(t=!1,this._offsetY=i);var d=this._getViewRange(),h=d;if(h.isValid){var f=s.length<=r._vtRows?s.length:0,p=a.length<=r._vtCols?a.length:0;h=new $(Math.max(d.row-f,s.frozen),Math.max(d.col-p,a.frozen),Math.min(d.row2+f,s.length-1),Math.min(d.col2+p,a.length-1))}if(t&&!e&&this._vrb.contains(d)&&!s.frozen&&!a.frozen)return this._activeCell;t&&h.equals(this._vrb)||(e=!1),t&&!e&&this._ct!=Y.TopLeft&&this._reorderCells(h,this._vrb),this._activeCell=null,this._vru=d,this._vrb=h,this._recycle=t;var g=0;this._ct==Y.Cell&&(g=this._renderColHdrRow(h,e));for(var m=0;m<s.frozen&&m<s.length;m++)g=this._renderRow(m,h,e,g);for(m=h.topRow;m<=h.bottomRow&&m>-1;m++)g=this._renderRow(m,h,e,g);for(;o.childElementCount>g;){var y=o.lastElementChild;Tt(y),this._removeExtraCells(y,0)}return this._activeCell},n.prototype._clearCells=function(){for(var t=this.hostElement,e=this._g.cellFactory,i=t.childElementCount-1;i>=0;i--){var r=t.children[i];Tt(r);for(var o=r.childElementCount-1;o>=0;o--)e.disposeCell(r.children[o])}},n.prototype._reorderCells=function(t,e){var i=this;if(this._g._reorderCells&&e.isValid&&t.isValid&&t.intersects(e)){var u,r=function(p,g,m,y,_,v){J(m<0,"Scroll delta must be a negative number");var w,D,T=-m,S=g+(y-_+1),P=p.childElementCount-S;if(P<T?(w=P,D=T-P):(w=T,D=0),w>0){var j=i._createRange(p,S,S+w);j&&p.insertBefore(j.extractContents(),p.children[g])}if(D>0)for(var B=p.children[g],Z=0;Z<D;Z++){var I=document.createElement("div");I.className=v,p.insertBefore(I,B)}};if(t.row!=e.row){var o=this._e;if(0!=(u=t.row-e.row)){var s=this._ct==Y.Cell?1:0,a=o.childElementCount;if(s+=this.rows.frozen,u>0){var l=s,c=Math.min(s+u,a);(f=this._createRange(o,l,c))&&o.appendChild(f.extractContents())}else r(o,s,u,t.row2,e.row,"wj-row")}}if(t.col!=e.col&&(o=this._e,0!=(u=t.col-e.col))){s=this._ct==Y.Cell&&this._g.rowHeaderPath?1:0,s+=this.columns.frozen;for(var d=0;d<o.children.length;d++){var h=o.children[d];if(a=h.children.length,st(h,"wj-row"))if(u>0){var f;l=s,c=Math.min(s+u,a),(f=this._createRange(h,l,c))&&h.appendChild(f.extractContents())}else r(h,s,u,t.col2,e.col,"wj-cell")}}}},n.prototype._createRange=function(t,e,i){if(i>e&&i<=t.children.length&&e>-1){this._docRange||(this._docRange=document.createRange());var r=this._docRange;return r.setStart(t,e),r.setEnd(t,i),r}return null},n.prototype._renderColHdrRow=function(t,e){if(e)return 1;var i=this._e.children[0];i||(i=Je('<div class="wj-row" role="row"></div>',this._e));var r=this._g;F(i,"aria-label",r?r.columnHeaders.rows.ariaLabel:null),F(i,"aria-selected",null);var s=0,a=this._g._getRowHeaderPath();a&&(s=this._renderRowHdrCell(i,-1,a.path));for(var l=0;l<this.columns.frozen&&l<this.columns.length;l++)s=this._renderColHdrCell(i,l,t,e,s);for(l=t.leftCol;l<=t.rightCol&&l>-1;l++)s=this._renderColHdrCell(i,l,t,e,s);return this._removeExtraCells(i,s),1},n.prototype._renderColHdrCell=function(t,e,i,r,o){var s=this.grid,a=this.columns[e];if(a.renderSize<=0)return o;if(r)return o+1;var l=t.children[o];if(l||(l=Je(n._HTML_CELL,t)),F(l,"role","columnheader"),l&&this._recycle&&s._lazyRender){var c=l[n._INDEX_KEY];if(c&&-1==c.row&&c.col==e&&e>=this.columns.frozen)return o+1}if(l.textContent=this.columns[e].header,G(l,{position:"fixed",left:a.pos,top:-32e3,width:a.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),(a.describedById||this.columns.describedById)&&F(l,"aria-describedby",[a.describedById,this.columns.describedById].join(" ").trim()||null),s.allowSorting){var d="none";switch(s._getBindingColumn(this,0,a).currentSort){case"+":d="ascending";break;case"-":d="descending"}F(l,"aria-sort",d)}return s.isReadOnly||(F(l,"aria-readonly",a.isReadOnly),F(l,"aria-required",a.getIsRequired())),l[n._INDEX_KEY]={row:-1,col:e,panel:this},o+1},n.prototype._renderRowHdrCell=function(t,e,i){var r=t.children[0];return r||(r=Je(n._HTML_CELL,t)),r.setAttribute("role",e<0?"columnheader":"rowheader"),r.textContent=i?i.toString():"",G(r,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),r[n._INDEX_KEY]={row:e,col:-1,panel:this},1},n.prototype._renderRow=function(t,e,i,r){var o=this._g,s=this.rows[t];if(s.renderSize<=0)return r;var a=this._e.children[r];if(a||(a=Je('<div class="wj-row"></div>',this._e)),this._ct==Y.Cell){a.setAttribute("role","row");var c=s.isSelected;switch(o.selectionMode){case Ke.Row:case Ke.RowRange:c=c||this._g._selHdl.selection.containsRow(t)}F(a,"aria-selected",!!c||null),F(a,"aria-level",s instanceof Dt?s.level+1:null),F(a,"aria-expanded",s instanceof Dt?!s.isCollapsed:null),this.rows.ariaLabel&&F(a,"aria-label",this.rows.ariaLabel)}var u=0;if(this._ct==Y.Cell){var d=this._g._getRowHeaderPath();d&&(u=this._renderRowHdrCell(a,t,d.getValue(s.dataItem)))}for(var h=0;h<this.columns.frozen&&h<this.columns.length;h++)u=this._renderCell(a,t,h,e,i,u);for(h=e.leftCol;h<=e.rightCol&&h>-1;h++)u=this._renderCell(a,t,h,e,i,u);return this._removeExtraCells(a,u),r+1},n.prototype._renderCell=function(t,e,i,r,o,s){var a=this._g,l=a.getMergedRange(this,e,i);if(l){for(var c=Math.max(r.row,l.row);c<e;c++)if(this.rows[c].renderSize)return s;for(c=Math.max(r.col,l.col);c<i;c++)if(this.columns[c].renderSize)return s;var u=this.columns.frozen;if(u&&l.col<u&&l.col2>=u&&i>l.col)return s}var d=this.columns[i];if(d.renderSize<=0&&(!l||l.getRenderSize(this).width<=0))return s;var h=t.children[s];if(h&&!o&&this._recycle&&a._lazyRender&&!a.activeEditor){var f=h[n._INDEX_KEY];f&&f.row==e&&f.col==i&&f.rng==l&&e>=this.rows.frozen&&i>=this.columns.frozen&&(o=!0)}var p=Rl,g=this.getSelectedState(e,i,l),m=g==p.Cursor||g==p.Active;return h&&o?(ge(h,"wj-state-active",m),ge(h,"wj-state-selected",g==p.Cursor),ge(h,"wj-state-multi-selected",g==p.Selected),F(h,"aria-selected",!(!m&&g==p.None)||null),m&&(this._activeCell=h),s+1):(h||(h=Je(n._HTML_CELL,t)),m&&(this._activeCell=h),this._ct==Y.Cell&&(F(h,"role","gridcell"),F(h,"aria-selected",!(g==p.None&&!m)||null),F(h,"aria-readonly",!a.canEditCell(e,i)||null),F(h,"aria-required",d.getIsRequired())),a.cellFactory.updateCell(this,e,i,h,l),h[n._INDEX_KEY]={row:e,col:i,rng:l,panel:this},s+1)},n.prototype._removeExtraCells=function(t,e){for(var i=this._g.cellFactory;t.childElementCount>e;){var r=t.lastElementChild;Tt(r),i.disposeCell(r)}},n.prototype._getViewRange=function(){var t=this._g,e=t._ptScrl,i=t._szClientSB,r=this._rows,o=this._cols,s=new $(0,0,r.length-1,o.length-1);if(this._ct==Y.Cell||this._ct==Y.RowHeader){var a=-e.y+this._offsetY,l=i.height;(h=Math.min(r.frozen,r.length-1))>0&&(a+=g=r[h-1].pos,l-=g),h>0&&r[h].pos>i.height?s.row=s.row2=-1:(s.row=Math.min(r.length-1,Math.max(h,r.getItemAt(a))),s.row2=Math.max(s.row,r.getItemAt(a+l)));var c=t.hostElement;if(t._clipToScreen&&c){var u=c.getBoundingClientRect(),d=-u.top-t.cells._e.offsetTop;u.top<0&&(s.row=Math.max(s.row,r.getItemAt(d)-1)),u.bottom>innerHeight&&(s.row2=Math.min(s.row2,r.getItemAt(d+innerHeight)+1))}}if(this._ct==Y.Cell||this._ct==Y.ColumnHeader){var h,g,f=-e.x,p=i.width;(h=Math.min(o.frozen,o.length-1))>0&&(f+=g=o[h-1].pos,p-=g),h>0&&o[h].pos>i.width?s.col=s.col2=-1:(s.col=Math.min(o.length-1,Math.max(h,o.getItemAt(f))),s.col2=Math.max(s.col,o.getItemAt(f+p)))}return r.length<=r.frozen&&(s.row=s.row2=-1),o.length<=o.frozen&&(s.col=s.col2=-1),s},n.prototype._getFrozenPos=function(){var t=this._rows.frozen,e=this._cols.frozen,i=t>0?this._rows[t-1]:null,r=e>0?this._cols[e-1]:null;return new ti(r?r.pos+r.renderSize:0,i?i.pos+i.renderSize:0)},n._INDEX_KEY="wj-cell-index",n._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',n}(),et=function(n){function t(e,i,r){var o=n.call(this)||this;return o._p=ot(e,pi,!0),o._rng=ot(i,$,!0),o._data=r,o}return Mi(t,n),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var i=this._p,r=i&&this.col>-1?i.columns[this.col]:null;if(r&&e){var o=i.grid;r=i.cellType===Y.ColumnHeader&&o._hasColumnGroups()?o._getColumnGroup(this.row,this.col):i.grid._getBindingColumn(i,this.row,r)}return r},t}(ft),ZT=function(n){function t(e,i,r,o){void 0===o&&(o=!0);var s=n.call(this,e,i)||this;return s._updateContent=!0,s._cell=ot(r,HTMLElement),s}return Mi(t,n),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateContent",{get:function(){return this._updateContent},enumerable:!0,configurable:!0}),t}(et),uf=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._stayInEditMode=!1,e._refresh=!0,e}return Mi(t,n),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=M(e)},enumerable:!0,configurable:!0}),t}(et);!function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.CellRange=2]="CellRange",n[n.Row=3]="Row",n[n.RowRange=4]="RowRange",n[n.ListBox=5]="ListBox",n[n.MultiRange=6]="MultiRange"}(Ke||(Ke={})),function(n){n[n.None=0]="None",n[n.Selected=1]="Selected",n[n.Cursor=2]="Cursor",n[n.Active=3]="Active"}(Rl||(Rl={})),function(n){n[n.None=0]="None",n[n.Next=1]="Next",n[n.Prev=2]="Prev",n[n.NextPage=3]="NextPage",n[n.PrevPage=4]="PrevPage",n[n.Home=5]="Home",n[n.End=6]="End",n[n.NextCell=7]="NextCell",n[n.PrevCell=8]="PrevCell",n[n.NextEditableCell=9]="NextEditableCell",n[n.PrevEditableCell=10]="PrevEditableCell"}(Jr||(Jr={}));var be,XT=function(){function n(t){this._sel=new $(0,0),this._xSel=new Qi,this._mode=Ke.CellRange,this._g=t,this._e=new et(t.cells,new $(0,0)),this._xSel.collectionChanged.addHandler(function(){t.invalidate()})}return Object.defineProperty(n.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&this._setSelectionMode(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),n.prototype.select=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var r=this._g,o=this._e.range,s=this._sel,a=o,l=!1,c=Ke;if(Be(t)&&le(e)){var u=r.columns.indexOf(e);if(u<0)throw"Invalid column name or binding.";o.setRange(t,u),e=!0}else Be(t)&&Be(e)?(o.setRange(t,e),e=!0):t instanceof $?o.copy(t):J(!1,"CellRange expected");switch(r.selectionMode){case c.Cell:a.row2=a.row,a.col2=a.col;break;case c.Row:a.row2=a.row;break;case c.ListBox:l=!0}var d=a.equals(s);if(d&&l)for(var h=0;h<r.rows.length;h++)if(r.rows[h].isSelected!==a.containsRow(h)){d=!1;break}if(d&&r.isRangeValid(a))return e&&this._showSelection(),!0;var f=R.getControl(te(Oe(),".wj-flexgrid"));if(f&&f.activeEditor&&!f.finishEditing())return!1;var p=this._e;if(p._rng=a,p.cancel=!1,!r.onSelectionChanging(p)&&!i)return!1;l&&r.rows.forEach(function(y,_){y._setFlag(be.Selected,a.containsRow(_),!0)}),a.row=Math.min(a.row,r.rows.length-1),a.row2=Math.min(a.row2,r.rows.length-1),this._sel.copy(a),r.refreshCells(!1,!0,!0),e&&this._showSelection();var g=r.collectionView;if(g){var m=r._getCvIndex(a.row);g.moveCurrentToPosition(m)}return r.onSelectionChanged(p),!0},n.prototype.moveSelection=function(t,e,i){var r=this._g,o=this._sel,s=i&&r.anchorCursor?new $(o.row2,o.col2):new $(o.row,o.col);this._adjustReferenceCell(s,t,e);var a=s.row,l=s.col,c=r.rows,u=r.columns,d=Math.max(0,r._szClient.height-r.columnHeaders.height),h=Jr;switch(e){case h.NextCell:case h.NextEditableCell:(l=u.getNextCell(l,e))==s.col&&(a=c.getNextCell(a,e))>s.row&&(l=u.getNextCell(0,e),l=u.getNextCell(l,e==h.NextCell?h.PrevCell:h.PrevEditableCell)),r.select(a,l);break;case h.PrevCell:case h.PrevEditableCell:(l=u.getNextCell(s.col,e))==s.col&&(a=c.getNextCell(a,e))<s.row&&(l=u.getNextCell(u.length-1,e),l=u.getNextCell(l,e==h.PrevCell?h.NextCell:h.NextEditableCell)),r.select(a,l);break;default:a=c.getNextCell(a,t,d),l=u.getNextCell(l,e,d),i?r.selection=r.anchorCursor?new $(o.row,o.col,a,l):new $(a,l,o.row2,o.col2):r.select(a,l)}},n.prototype._setSelectionMode=function(t){var e=this._g,i=e.rows,r=Ke;if(t==r.ListBox||this._mode==r.ListBox)for(var o=0;o<i.length;o++){var s=t==r.ListBox&&this._sel.containsRow(o);i[o]._setFlag(be.Selected,s,!0)}this._mode=t,this._xSel.clear(),i.length&&(s=this._sel,s=t!=r.None?new $(s.row,s.col):new $,this.select(s,!1,!0),e.invalidate())},n.prototype._expandSelection=function(){var t=this._g,e=t.selectionMode;if(t.expandSelectionOnCopyPaste&&e){var i=this.selection;switch(e){case Ke.Cell:case Ke.Row:break;case Ke.ListBox:this._expandSelectedRows();break;case Ke.RowRange:i=new $(i.topRow,0,i.bottomRow,t.columns.length-1);default:var o=this._expandSelectionRange(i);o&&this.select(o,!1)}}},n.prototype._deselectRange=function(t){var i=this.extendedSelection;if(this.selection.contains(t)){var r=i.length;return this._sel=r?i[r-1]:new $,r&&i.removeAt(r-1),!0}for(var o=0;o<i.length;o++)if(i[o].contains(t))return i.removeAt(o),!0;return!1},n.prototype._expandSelectedRows=function(){J(this.selectionMode==Ke.ListBox,"ListBox mode expected");for(var t=this._g,e=t.selectedRows.map(function(l){return l.index}),i=[],r=0;r<e.length;r++)for(var o=new $(e[r],0,e[r],t.columns.length-1),s=this._expandSelectionRange(o)||o,a=s.topRow;a<=s.bottomRow;a++)-1===i.indexOf(a)&&i.push(a);i.sort(),this._selectRows(i)},n.prototype._expandSelectionRange=function(t){var e=this._g,i=e.cells,r=e.getMergedRange(i,t.topRow,t.leftCol,!1),o=e.getMergedRange(i,t.bottomRow,t.leftCol,!1),s=e.getMergedRange(i,t.topRow,t.rightCol,!1),a=e.getMergedRange(i,t.bottomRow,t.rightCol,!1);return r||o||s||a?(r=r||new $(t.topRow,t.leftCol),o=o||new $(t.bottomRow,t.leftCol),s=s||new $(t.topRow,t.rightCol),a=a||new $(t.bottomRow,t.rightCol),new $(Math.min(r.topRow,o.topRow,s.topRow,a.topRow),Math.min(r.leftCol,o.leftCol,s.leftCol,a.leftCol),Math.max(r.bottomRow,o.bottomRow,s.bottomRow,a.bottomRow),Math.max(r.rightCol,o.rightCol,s.rightCol,a.rightCol))):null},n.prototype._selectRows=function(t){J(this.selectionMode==Ke.ListBox,"ListBox mode expected");for(var e=this._g,i=0,r=!0;i<e.rows.length;i++){var o=e.rows[i],s=t&&t.indexOf(o.index)>-1;s&&r&&(r=!1,this.select(i,this.selection.col)),o.isSelected=s}},n.prototype._showSelection=function(){var t=this._g,e=this._sel;t.anchorCursor?t.scrollIntoView(e.row2,e.col2):t.scrollIntoView(e.row,e.col)},n.prototype._adjustReferenceCell=function(t,e,i){var r=this._g,o=r.getMergedRange(r.cells,t.row,t.col);if(o&&!o.isSingleCell){var s=Jr;switch(e){case s.Next:case s.NextCell:case s.NextEditableCell:t.row=o.bottomRow;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.row=o.topRow}switch(i){case s.Next:case s.NextCell:case s.NextEditableCell:t.col=o.rightCol;break;case s.Prev:case s.PrevCell:case s.PrevEditableCell:t.col=o.leftCol}}},n}();!function(n){n[n.Visible=1]="Visible",n[n.AllowResizing=2]="AllowResizing",n[n.AllowDragging=4]="AllowDragging",n[n.AllowMerging=8]="AllowMerging",n[n.AllowSorting=16]="AllowSorting",n[n.AutoGenerated=32]="AutoGenerated",n[n.Collapsed=64]="Collapsed",n[n.ParentCollapsed=128]="ParentCollapsed",n[n.Selected=256]="Selected",n[n.ReadOnly=512]="ReadOnly",n[n.HtmlContent=1024]="HtmlContent",n[n.WordWrap=2048]="WordWrap",n[n.MultiLine=4096]="MultiLine",n[n.HasTemplate=8192]="HasTemplate",n[n.RowDefault=3]="RowDefault",n[n.ColumnDefault=23]="ColumnDefault"}(be||(be={}));var So,Xi,sn,Zr,df=function(){function n(){this._type=null,this._align=null,this._inpType=null,this._mask=null,this._maxLen=null,this._required=null,this._fmt=null,this._map=null,this._ddCssClass=null,this._cssClass=null,this._cssClassAll=null,this._szMin=null,this._szMax=null,this._sz=null,this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new x}return Object.defineProperty(n.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=k(t);if(this._binding=e?new mn(e):null,!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;i&&i.sourceCollection&&i.sourceCollection.length&&(this._type=Vs(this._binding.getValue(i.sourceCollection[0])))}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var e=k(t);this._bindingSort=e?new mn(e):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataType",{get:function(){return this._type},set:function(t){t=Xe(t,We,!0),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=k(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=k(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=N(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),Kt(t)&&(t=new Cu(t,null,null)),this._map=ot(t,Cu,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMapEditor",{get:function(){return null!=this._mapEditor?this._mapEditor:fi.DropDownList},set:function(t){t!=this._mapEditor&&(this._mapEditor=Xe(t,fi),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showDropDown",{get:function(){return this.dataMapEditor==fi.DropDownList},set:function(t){Zh("showDropDown","dataMapEditor"),this.dataMapEditor=t?fi.DropDownList:fi.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._getFlag(be.Visible)},set:function(t){this._setFlag(be.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isVisible",{get:function(){return!!this._getFlag(be.Visible)&&(!this._getFlag(be.ParentCollapsed)||this instanceof Nt)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=N(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderSize",{get:function(){var t=0,e=this._list;return this.isVisible&&((null==(t=this._sz)||t<0)&&(t=e?e.defaultSize:0),e&&null!=e.minSize&&t<e.minSize&&(t=e.minSize),e&&null!=e.maxSize&&t>e.maxSize&&(t=e.maxSize),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax)),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowResizing",{get:function(){return this._getFlag(be.AllowResizing)},set:function(t){this._setFlag(be.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowDragging",{get:function(){return this._getFlag(be.AllowDragging)},set:function(t){this._setFlag(be.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowMerging",{get:function(){return this._getFlag(be.AllowMerging)},set:function(t){this._setFlag(be.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSelected",{get:function(){return this._getFlag(be.Selected)},set:function(t){if(!!t!=this.isSelected){var e=this.grid;if(e){var i=this instanceof Ar?new $(this.index,-1):new $(-1,this.index),r=new et(e?e.cells:null,i);e.onSelectionChanging(r)&&this._setFlag(be.Selected,t,!0)&&(e.refreshCells(!1,!0,!0),e.onSelectionChanged(r))}else this._setFlag(be.Selected,t)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReadOnly",{get:function(){return this._getFlag(be.ReadOnly)},set:function(t){this._setFlag(be.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=M(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isContentHtml",{get:function(){return this._getFlag(be.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(be.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._getFlag(be.WordWrap)},set:function(t){this._setFlag(be.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiLine",{get:function(){return this._getFlag(be.MultiLine)},set:function(t){this._setFlag(be.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=k(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(t){t!=this._cssClassAll&&(this._cssClassAll=k(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),n.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},n.prototype.onGridChanged=function(t){this.gridChanged.raise(this,t)},n.prototype._setList=function(t){t!=this._list&&(this._list=t,this.onGridChanged())},n.prototype._getFlag=function(t){return 0!=(this._f&t)},n.prototype._setFlag=function(t,e,i){return!!e!=this._getFlag(t)&&(this._f=e?this._f|t:this._f&~t,i||this.onPropertyChanged(),!0)},n}(),on=function(n){function t(e){var i=n.call(this)||this;return i._hdr=null,i._name=null,i._agg=null,i._quickSize=null,i._descById=null,i._tpl=null,i._f=be.ColumnDefault,i._hash=t._ctr.toString(36),t._ctr++,wo(i,e),i}return Mi(t,n),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=N(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=N(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=N(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=M(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(_n(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(be.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&(J(null==e||le(e)||Pe(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag(be.HasTemplate,null!=e&&""!=e),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),null!=e&&(e=ot(e,R),this._edt=new sI(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(be.AllowSorting)},set:function(e){this._setFlag(be.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,i=e?e.sortDescriptions:null,r=i&&i.length?this._getBindingSort():null;if(r)for(var o=0;o<i.length;o++)if(i[o].property==r)return o;return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:Et.None},set:function(e){(e=Xe(e,Et))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=k(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==We.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=We.String||null!=e.dataMap||null!=e.mask&&e.mask.length>0},t.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case We.Boolean:return"center";case We.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case We.Boolean:return"center";case We.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(le(e)){var i=e.length;if(i>0&&"*"==e[i-1]){var r=1==i?1:parseFloat(e);if(r>0&&!isNaN(r))return r}}return null},t._ctr=0,t}(df),Ar=function(n){function t(e){var i=n.call(this)||this;return i._f=be.ColumnDefault,i._data=e||null,i}return Mi(t,n),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(df),Dt=function(n){function t(e){var i=n.call(this,e)||this;return i._level=-1,i.level=e instanceof Mr?e.level:-1,i.isReadOnly=!0,i}return Mi(t,n),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){Ct(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,i=Di(e,t),r=Di(e,Nt);return null!=e&&null==r&&(null==i||i.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(be.Collapsed)},set:function(e){!!e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(M(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,i=e.groupHeaderFormat||ve.FlexGrid.groupHeaderFormat,r=this.dataItem;if(r instanceof Mr&&i&&e.showGroups&&!e.childItemsPath){var o=r.groupDescription.propertyName,s=r.name,a=e.getColumn(o),l=this.isContentHtml;if(a){l=l||a.isContentHtml,a.header&&(o=a.header);var c=a.dataMap;c&&(s=c.getDisplayValue(s)),a.dataType==Vs(s)&&(s=Ce.format(s,a.format))}else o=Xh(o);var u=r.getAggregate(Et.CntAll,null,e.collectionView);return Sl(i,{name:Dr(o),value:l?s:Dr(s),level:r.level,count:u})}return""},t.prototype._setCollapsed=function(e){var i=this,r=this.grid,o=r.rows,s=this.getCellRange(),a=new et(r.cells,new $(this.index,-1));r.onGroupCollapsedChanging(a)&&(r.deferUpdate(function(){o.deferUpdate(function(){i._setFlag(be.Collapsed,e,!0);for(var l=s.topRow+1;l<=s.bottomRow&&l>-1&&l<o.length;l++){o[l]._setFlag(be.ParentCollapsed,e,!0);var c=o[l];c instanceof t&&c.isCollapsed&&(l=c.getCellRange().bottomRow)}})}),r.onGroupCollapsedChanged(a))},t.prototype.getCellRange=function(){for(var e=this._list,i=this.index,r=e.length-1,o=i+1;o<=r;o++){var s=e[o];if(s instanceof t&&s.level<=this.level){r=o-1;break}}return new $(i,0,r,this.grid.columns.length-1)},t}(Ar),zy=function(n){function t(e,i){var r=n.call(this)||this;return r._frozen=0,r._lastFrozen=-1,r._firstVisible=-1,r._vlen=0,r._szDef=28,r._szTot=0,r._szCustom=!1,r._dirty=!1,r._g=ot(e,Ti),r._szDef=N(i,!1,!0),r}return Mi(t,n),Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=N(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=N(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=N(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=N(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var i,r,o=this.length,s=0,a=o-1;s<=a;)if((r=this[i=s+a>>>1])._pos>=e&&i>0)a=i-1;else{if(!(r._pos+r.renderSize<=e&&i<o-1)){for(;i>0&&!this[i].renderSize;)i--;for(;i<o-1&&!this[i].renderSize;)i++;return i}s=i+1}return a},t.prototype.getNextCell=function(e,i,r){var o;switch(void 0===r&&(r=0),i){case Jr.Next:case Jr.NextCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case Jr.NextEditableCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case Jr.Prev:case Jr.PrevCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case Jr.PrevEditableCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case Jr.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case Jr.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case Jr.NextPage:return(o=this.getItemAt(this[e].pos+this[e].renderSize+r))<0?this.getNextCell(e,Jr.End,r):o==e&&o<this.length-1&&this[o+1].renderSize?o+1:o;case Jr.PrevPage:return(o=this.getItemAt(this[e].pos-r))<0?this.getNextCell(e,Jr.Home,r):o==e&&o>0&&this[o-1].renderSize?o-1:o}return e},t.prototype.canMoveElement=function(e,i,r){if(void 0===r&&(r=!0),i==e||e<0||e>=this.length||i>=this.length)return!1;if(r){i<0&&(i=this.length-1);for(var o=Math.min(e,i),s=Math.max(e,i),a=o;a<=s;a++)if(!this[a].allowDragging)return!1}return!(this[i]instanceof Nt)},t.prototype.moveElement=function(e,i,r){if(void 0===r&&(r=!0),this.canMoveElement(e,i,r)){var o=this[e];if(this.removeAt(e),i<0&&(i=this.length),this.insert(i,o),r){var s=this.frozen;e<s&&i>=s?this.frozen--:e>=s&&i<s&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=Ki.reset),this._dirty=!0,this._g.invalidate(),n.prototype.onCollectionChanged.call(this,e)},t.prototype.push=function(e){return e._setList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,i){for(var r=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var a=e;a<e+i&&a<this.length;a++){var l=this[a];l instanceof df&&l._setList(null)}return o.forEach(function(c){return c._setList(r)}),n.prototype.splice.apply(this,[e,i].concat(o))},t.prototype.beginUpdate=function(){this._update(),n.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,i=0,r=void 0,o=void 0,s=0;s<this.length;s++)(o=this[s])._idx=s,o._idxVis=e,o._pos=i,o._setList(this),(r=o.renderSize)>0&&(i+=r,e++,s<this._frozen&&(this._lastFrozen=s)),this._firstVisible<0&&o.visible&&(this._firstVisible=s);return this._vlen=e,this._szTot=i,!0}return!1},t}(Qi),hf=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Mi(t,n),t.prototype.getColumn=function(e){var i=Be(e)?e:this.indexOf(e);return i>-1?this[i]:null},t.prototype.indexOf=function(e){if(e instanceof on)return n.prototype.indexOf.call(this,e);for(var i=0;i<this.length;i++)if(this[i].name==e)return i;for(i=0;i<this.length;i++)if(this[i].binding==e)return i;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=k(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){var i,r=!1,o=0;e-=.5;for(var s=0;s<this.length;s++)(l=this[s]).isVisible&&(l._szStar?(o+=on._parseStarSize(l._szStar),i=l):e-=l.renderWidth);if(i){var a=e;for(s=0;s<this.length;s++){var l;if((l=this[s]).isVisible&&l._szStar){var c=l._sz;l==i&&a>0?c=a:a-=c=Math.max(0,Math.round(on._parseStarSize(l._szStar)/o*e)),c!=l._sz&&(l._sz=c,r=!0)}}return r&&(this._dirty=!0,this._update()),r}return!1},t}(zy),Eu=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._maxLevel=-1,e}return Mi(t,n),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=k(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this;if(n.prototype._update.call(this)){var i=this.grid?this.grid.collectionView:null,r=i?i.items:null,o=0;return this._maxLevel=-1,this.forEach(function(s){s instanceof Dt&&s.level>e._maxLevel&&(e._maxLevel=s.level),s._idxData=-1;var a=s.dataItem;a&&r&&(s._idxData=a===r[o]?o:a===r[o+1]?++o:-1)}),!0}return!1},t}(zy),eI=function(){function n(t){this._updatingCollection=0,this._initialized=!1,this._grid=t,this._initializeColumnGroups(),this._initialized=!0}return Object.defineProperty(n.prototype,"columnGroups",{get:function(){return this._colGroups},enumerable:!0,configurable:!0}),n.prototype.createColumnGroups=function(t){this._initialized=!1,this._createColumnGroups(t),this._initialized=!0},n.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0},n.prototype.getGroupDefinitions=function(){return this._groupDefs},n.prototype.getColumnGroup=function(t,e){return this._getColumnGroup(t,e)},n.prototype.canMoveColumnGroup=function(t,e,i,r){if(t==i&&e==r)return!1;var o=this._grid,s=o.columnHeaders.rows,a=o.columns;if(t<0||t>=s.length||e<0||e>=a.length||i<0||i>=s.length||r<0||r>=a.length)return!1;var l=this._getColumnGroup(t,e),c=this._getColumnGroup(i,r);if(!l||!c||l==c||l.level<c.level&&l._containsGroup(c))return!1;var u=l.parentGroup;return!u||u===c.parentGroup||!u._isCollapseTo(l)},n.prototype.moveColumnGroup=function(t,e,i,r,o){if(this.canMoveColumnGroup(t,e,i,r)){var s=this._getColumnGroup(t,e),a=this._getColumnGroup(i,r);if(!s||!a||s==a||o&&!a.isEmpty)return!1;var l=this._getCollection(s),c=o?a.columns:this._getCollection(a);if(!l||!c)return!1;var u=o?0:c.indexOf(a);return!(u<0||(!o&&l!=c&&r>e&&u++,this._deferCollectionUpdate(function(){if(!l.remove(s))return!1;c.insert(u,s)}),0))}return!1},n.prototype.handleCollectionChange=function(){this._initialized&&!this._updatingCollection&&(this._initialized=!1,this._buildColumnGroups(),this._initialized=!0)},n.prototype.handlePropertyChange=function(t){if(t&&this._initialized){var e=this._grid,i=t._rng,r=t.header;if(r!=t._curr_header)for(var o=i.topRow;o<=i.bottomRow;o++)for(var s=i.leftCol;s<=i.rightCol;s++)e.columnHeaders.setCellData(o,s,r),t._curr_header=r;t.columns.length>0&&e.invalidate()}},n.prototype._initializeColumnGroups=function(){var t=this._grid,e=new $s;this._groupDefs=e,this._colGroups=e,this._colGroups._setOwner(t),this._colGroups._setChangeHandler(this)},n.prototype._createColumnGroups=function(t){this._groupDefs=Sn(t),this._colGroups&&this._colGroups._setOwner(null),this._colGroups=$s._parse(t),this._buildColumnGroups()},n.prototype._buildColumnGroups=function(){var t=this,e=this._grid;this._colGroups._removeChangeHandler(),this._assertColumnGroups(this._colGroups),e.autoGenerateColumns=!1,e.columns.clear(),this._colGroups._setOwner(e),this._colGroups.forEach(function(u){u._beginBuild()});var i=0;this._colGroups.forEach(function(u){t._addColumnGroup(u),i=Math.max(i,u._getMaxLevel())}),this._colGroups.forEach(function(u){u._expandRange(i)});var r=e.columnHeaders.rows;r.clear();for(var o=0;o<=i;o++){var s=new Ar;r.splice(o,0,s),o<i&&(s.cssClassAll="wj-colgroup")}for(o=0;o<r.length;o++)for(var a=0;a<e.columns.length;a++){var l=this._getColumnGroup(o,a);if(l){var c=l.header||Xh(l.binding);e.columnHeaders.setCellData(o,a,c),l._curr_header=l.header}}this._colGroups._setChangeHandler(this),this._colGroups.forEach(function(u){u._checkIfCollapsed()})},n.prototype._getColumnGroup=function(t,e){var i=this._grid;if(t<i.columnHeaders.rows.length&&e<i.columns.length)for(var r=this._colGroups;r;){for(var o=r,s=0;s<r.length;s++){var a=r[s],l=a._rng;if(l.containsColumn(e)){if(l.containsRow(t)||0==a.columns.length)return a;r=a.columns;break}}if(r==o)break}return null},n.prototype._getCollection=function(t){var e=t.parentGroup;return e?e.columns:this._colGroups},n.prototype._assertColumnGroups=function(t){var e=this;J(t instanceof $s,"column groups contain items of invalid collection type"),t.forEach(function(i){J(i instanceof Gs,"column groups contain items of invalid type"),e._assertColumnGroups(i.columns)})},n.prototype._addColumnGroup=function(t){var e=this,i=this._grid;t._rng.col=i.columns.length,0==t.columns.length?i.columns.push(t):t.columns.forEach(function(r){e._addColumnGroup(r)}),t._rng.col2=i.columns.length-1},n.prototype._beginCollectionUpdate=function(){this._updatingCollection++},n.prototype._endCollectionUpdate=function(){this._updatingCollection--,this._updatingCollection<=0&&this.handleCollectionChange()},n.prototype._deferCollectionUpdate=function(t){try{this._beginCollectionUpdate(),t()}finally{this._endCollectionUpdate()}},n}(),Gs=function(n){function t(e,i){var r=n.call(this)||this;r._rng=new $(0,-1),r._lvl=0,r._collapsed=!1,r._cols=new $s,wo(r,e);var o=i&&i.columns;return o&&o.indexOf(r)<0&&o.push(r),r}return Mi(t,n),t.prototype._copy=function(e,i){if("columns"==e){var r=Sn(i);return this._cols=$s._parse(r),!0}return!1},Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._cols.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){var e=this._ownerList,i=e&&e.owner;return i instanceof t?i:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this,i=0;e.parentGroup;)e=e.parentGroup,i++;return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){var i=k(e);this._collTo!=i&&(this._collTo=i,this._updateCollapsedState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var i=this.grid,r=null;e!=this._collapsed&&(i?(r=new et(i.columnHeaders,this._rng,this),i.onColumnGroupCollapsedChanging(r)?this._collapsed=M(e):r=null):this._collapsed=M(e)),this._updateCollapsedState(),i&&r&&i.onColumnGroupCollapsedChanged(r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this._ownerList,i=e&&e.owner;return i instanceof t?i.grid:i instanceof Ti?i:null},enumerable:!0,configurable:!0}),t.prototype._beginBuild=function(){this._lvl=0;for(var e=this.parentGroup;e;e=e.parentGroup)this._lvl++;this._rng=new $(0,-1),this._rng.row=this._rng.row2=this._lvl,this._cols.forEach(function(i){i._beginBuild()})},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this._cols._setChangeHandler(e)},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this._cols._removeChangeHandler()},t.prototype._setOwnerList=function(e){e!=this._ownerList&&(this._ownerList=e)},t.prototype._checkIfCollapsed=function(){var e=this.grid;e&&e.columns&&(this._collapsed?this._updateCollapsedState():this._cols.forEach(function(i){i._checkIfCollapsed()}))},t.prototype._updateCollapsedState=function(){var e=this.grid,i=e?e.columns:null,r=this._rng,o=this._collapsed;if(i){this._cols.forEach(function(d){d instanceof t&&(d._collapsed=o,d._updateCollapsedState())});var s=r.rightCol;if(this.collapseTo)switch(this.collapseTo){case"$first":s=r.leftCol;break;case"$last":s=r.rightCol;break;default:var a=i.getColumn(this.collapseTo),l=i.indexOf(a);a&&r.containsColumn(l)&&(s=l)}for(var c=r.leftCol;c<=r.rightCol;c++)i[c]._setFlag(be.ParentCollapsed,!(!o||c==s))}},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach(function(i){e=Math.max(e,i._getMaxLevel())}),e},t.prototype._expandRange=function(e){var i=e-this._getMaxLevel();i>0&&(this._rng.row2+=i,this._cols.forEach(function(a){a._shiftRange(i)}));for(var r=this.grid.columns,o=this._rng,s=o.col;s<=o.col2;s++)r[s]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach(function(i){i._shiftRange(e)})},t.prototype._containsGroup=function(e){for(var i=0;i<this._cols.length;i++){var r=this._cols[i];if(r==e||r._containsGroup(e))return!0}return!1},t.prototype._isCollapseTo=function(e){var i=this.grid,r=i?i.columns:null;if(!e||!r)return!1;if(this.collapseTo)switch(this.collapseTo){case"$first":case"$last":return!1;default:return e===r.getColumn(this.collapseTo)}return!1},t.prototype.onPropertyChanged=function(){var e=this._changeHdl;e&&e.handlePropertyChange(this),n.prototype.onPropertyChanged.call(this)},t}(on),$s=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Mi(t,n),t.prototype.getColumn=function(e){return Be(e)?this._getColByIdx(e):this._findColByProp("name",e)||this._findColByProp("binding",e)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),t.prototype.push=function(e){return e._setOwnerList(this),n.prototype.push.call(this,e)},t.prototype.splice=function(e,i){for(var r=this,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];for(var a=e;a<e+i&&a<this.length;a++){var l=this[a];l instanceof Gs&&l._setOwnerList(null)}return o.forEach(function(c){return c._setOwnerList(r)}),n.prototype.splice.apply(this,[e,i].concat(o))},t._parse=function(e){var i=null;return e?e instanceof t?i=e:(i=new t,e.forEach(function(r){var o=r instanceof Gs?r:new Gs(r);i.indexOf(o)<0&&i.push(o)})):i=new t,i},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this.forEach(function(i){return i._setChangeHandler(e)})},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this.forEach(function(e){return e._removeChangeHandler()})},t.prototype._setOwner=function(e){this._owner=e,this.forEach(function(i){return i.columns._setOwner(i)})},t.prototype._getColByIdx=function(e){return e>-1&&e<this.length?this[e]:null},t.prototype._findColByProp=function(e,i){for(var r=0;r<this.length;r++){var o=this[r];if(o[e]===i||null!==(o=o.columns._findColByProp(e,i)))return o}return null},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=Ki.reset);var i=this._changeHdl;i&&i.handleCollectionChange(),n.prototype.onCollectionChanged.call(this,e)},t}(Qi);Eo("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.MultiColumn=2]="MultiColumn"}(So||(So={})),function(n){n[n.None=0]="None",n[n.SingleColumn=1]="SingleColumn",n[n.ColumnRange=2]="ColumnRange",n[n.Both=3]="Both"}(Xi||(Xi={})),function(n){n[n.None=0]="None",n[n.Column=1]="Column",n[n.Row=2]="Row",n[n.All=3]="All"}(sn||(sn={})),function(n){n[n.Default=0]="Default",n[n.CSV=1]="CSV",n[n.QuoteAll=2]="QuoteAll",n[n.SkipMerged=4]="SkipMerged",n[n.Unformatted=8]="Unformatted",n[n.InvisibleRows=16]="InvisibleRows",n[n.InvisibleColumns=32]="InvisibleColumns",n[n.InvisibleCells=48]="InvisibleCells"}(Zr||(Zr={}));var Pl,Ti=function(n){function t(e,i){var r=n.call(this,e,null,!0)||this;r._activeCell=null,r._szClient=new Yi(0,0),r._szClientSB=new Yi(0,0),r._offsetY=0,r._cssPage=0,r._ptScrl=new ti(0,0),r._cellPadLeft=3,r._cellPadHorz=3,r._cellPadVert=0,r._clipToScreen=!1,r._autoGenCols=!0,r._autoClipboard=!0,r._xOnCopyPaste=!0,r._autoScroll=!0,r._autoSearch=!1,r._caseSensitive=!1,r._readOnly=!1,r._indent=14,r._autoSizeMode=xo.Both,r._autoHeights=!1,r._quickSize=null,r._hdrVis=sn.All,r._alSorting=So.SingleColumn,r._alPinning=Xi.None,r._alAddNew=!1,r._alDelete=!1,r._alResizing=Rr.Columns,r._alDragging=Xr.Columns,r._alMerging=Pl.None,r._ssHdr=sn.None,r._shSort=!0,r._shGroups=!0,r._shMarquee=!1,r._shPlcHld=!1,r._altStep=1,r._shErr=!0,r._shDropDown=!0,r._valEdt=!0,r._gHdrFmt=null,r._childItemsPath=null,r._sortRowIndex=null,r._editColIndex=null,r._deferResizing=!1,r._pSel=!0,r._pOutline=!0,r._stickyHdr=!1,r._anchorCursor=!1,r._copyHeaders=sn.None,r._bigChecks=!1,r._fzClone=null,r._vt=0,r._vtRows=0,r._vtCols=0,r._lazyRender=!0,r._refreshOnEdit=!0,r._reorderCells=!0,r._touchEdit=!1,r.itemsSourceChanging=new x,r.itemsSourceChanged=new x,r.scrollPositionChanged=new x,r.selectionChanging=new x,r.selectionChanged=new x,r.loadingRows=new x,r.loadedRows=new x,r.updatingLayout=new x,r.updatedLayout=new x,r.resizingColumn=new x,r.resizedColumn=new x,r.autoSizingColumn=new x,r.autoSizedColumn=new x,r.starSizedColumns=new x,r.draggingColumn=new x,r.draggingColumnOver=new x,r.draggedColumn=new x,r.pinningColumn=new x,r.pinnedColumn=new x,r.resizingRow=new x,r.resizedRow=new x,r.autoSizingRow=new x,r.autoSizedRow=new x,r.draggingRow=new x,r.draggingRowOver=new x,r.draggedRow=new x,r.groupCollapsedChanging=new x,r.groupCollapsedChanged=new x,r.columnGroupCollapsedChanging=new x,r.columnGroupCollapsedChanged=new x,r.sortingColumn=new x,r.sortedColumn=new x,r.beginningEdit=new x,r.prepareCellForEdit=new x,r.cellEditEnding=new x,r.cellEditEnded=new x,r.rowEditStarting=new x,r.rowEditStarted=new x,r.rowEditEnding=new x,r.rowEditEnded=new x,r.rowAdded=new x,r.deletingRow=new x,r.deletedRow=new x,r.copying=new x,r.copied=new x,r.pasting=new x,r.pasted=new x,r.pastingCell=new x,r.pastedCell=new x,r.formatItem=new x(function(){r._clearCells()}),r.updatingView=new x,r.updatedView=new x,r._mappedColumns=null;var o=r.hostElement;ht()&&(o.style.borderRadius="0");var s=r.getTemplate();if(r.applyTemplate("wj-control wj-content wj-flexgrid",s,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),G(r._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit"}),G(r._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),G(r._eCt,{position:"absolute"}),G(r._eMarquee,{display:"none"}),G(r._eMarquee.firstChild,{width:"100%",height:"100%"}),G(r._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),G(r._eFocus,{position:"fixed",left:"-32000px"}),G(r._eSz,{position:"relative",visibility:"hidden"}),[r._eRHdr,r._eCFtr,r._eCHdr,r._eBL,r._eTL].forEach(function(l){F(l,"aria-hidden",!0),G(l,{position:"absolute",overflow:"hidden",outline:"none"}),G(l.firstElementChild,{position:"relative"})}),[r._eFocus,r._eMarquee,r._fCt,r._eSz].forEach(function(l){F(l,"aria-hidden",!0)}),vo()||fT()){var a=r._eMarquee;["click","dblclick","mousedown","mouseup"].forEach(function(l){r.addEventListener(a,l,function(c){var u=a.style.display;a.style.display="none";var d=document.elementFromPoint(c.clientX,c.clientY);a.style.display=u;var h=document.createEvent("Event");for(var f in h.initEvent(l,!0,!0),c)try{h[f]=c[f]}catch(p){}d.dispatchEvent(h)})})}return o.tabIndex=-1,r.deferUpdate(function(){var l=r._getDefaultRowHeight();r._rows=new Eu(r,l),r._cols=new hf(r,4*l),r._hdrRows=new Eu(r,l),r._hdrCols=new hf(r,Math.round(1.25*l)),r._ftrRows=new Eu(r,l);var c=Y;r._gpTL=new pi(r,c.TopLeft,r._hdrRows,r._hdrCols,r._eTLCt),r._gpCHdr=new pi(r,c.ColumnHeader,r._hdrRows,r._cols,r._eCHdrCt),r._gpRHdr=new pi(r,c.RowHeader,r._rows,r._hdrCols,r._eRHdrCt),r._gpCells=new pi(r,c.Cell,r._rows,r._cols,r._eCt),r._gpBL=new pi(r,c.BottomLeft,r._ftrRows,r._hdrCols,r._eBLCt),r._gpCFtr=new pi(r,c.ColumnFooter,r._ftrRows,r._cols,r._eCFtrCt),r._hdrRows.push(new Ar),r._hdrCols.push(new on({align:"center"})),r._cf=new St,r._keyHdl=new aI(r),r._mouseHdl=new cI(r),r._edtHdl=new oI(r),r._selHdl=new XT(r),r._addHdl=new tI(r),r._grpHdl=new eI(r),r._mrgMgr=new Gy,r._bndSortConverter=r._sortConverter.bind(r),r._errorTip=new af({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),F(r.cells.hostElement,"role","grid"),r.selectionMode=Ke.CellRange,r._root.tabIndex=-1,r.initialize(i)}),r.addEventListener(r._root,"scroll",function(l){if(r._updateScrollPosition()||r._forceScrollUpdate){var c=r.activeEditor,u=r.activeCell,d=u?u.className:null;r._forceScrollUpdate||r.finishEditing(),r._forceScrollUpdate=!1,r._updateContent(!0);var h=r.activeEditor,f=r.activeCell;h&&f&&c&&d?(h.value=c.value,f.className=d,r._setFocusNoScroll(h)):h&&!f&&r.finishEditing(!0),r.frozenColumns&&setTimeout(function(){var g=parseInt(r.columnHeaders.hostElement.style.left);Math.abs(g-r._ptScrl.x)>1&&r.invalidate()})}}),r.addEventListener(o,"focus",function(l){if(o.tabIndex>-1){var c=l.target;c instanceof HTMLElement&&c.tabIndex<0&&r._setFocus(!0)}},!0),r}return Mi(t,n),t.prototype._handleResize=function(){var e=this;this._rcBounds=null,this.activeEditor&&this.isTouching||this._touchEdit?setTimeout(function(){e.activeEditor||(e._touchEdit=!0,e.startEditing(!0))},50):n.prototype._handleResize.call(this),this._touchEdit=!1},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=Xe(e,sn))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=M(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=Xe(e,sn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,Be(e)?this._vtRows=this._vtCols=N(e):e?Kt(e)&&2==e.length?(this._vtRows=N(e[0]),this._vtCols=N(e[1])):J(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e,i=this._hasColumnGroups(),r=i?Gs:on,o=i?"columnGroups":"columns",s=t._getSerializableProperties(r),a=new r,l=i?this.getColumnGroups():this.columns,c=function(d){var h=[];return d.forEach(function(f){var p={};if(s.forEach(function(m){var y=f[m];y!=a[m]&&_u(y)&&"size"!=m&&(p[m]=y)}),i){var g=f.columns;g.length&&(p.columns=c(g))}h.push(p)}),h},u=c(l);return JSON.stringify(((e={})[o]=u,e))},set:function(e){var i=this,r=JSON.parse(k(e));J(r,"Invalid columnLayout data."),this.columns.deferUpdate(function(){i.columns.clear(),i._hasColumnGroups()&&(i.columnGroups=new $s),i.initialize(r)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups(Sn(e))},enumerable:!0,configurable:!0}),t.prototype.getColumnGroups=function(){return this._grpHdl.columnGroups},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=M(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),ge(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=M(e,!0))!=this.isDisabled){var i=this._e;i&&(xn(i,!e),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){if(M(e)!=this.imeEnabled&&this.finishEditing()){var i=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new Uy(this)),i&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=Xe(e,Rr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=Xe(e,xo)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=M(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return _n(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){_n(e)&&(e=e?So.SingleColumn:So.None),this._alSorting=Xe(e,So)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&(_n(e)&&(e=e?Xi.SingleColumn:Xi.None),this._alPinning=Xe(e,Xi),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=M(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=M(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=Xe(e,Pl))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=Xe(e,sn))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=M(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=M(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=M(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=Ct(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){Zh("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=M(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=ot(e,af,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=Mt(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=M(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=k(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=Xe(e,Xr))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var i=this;if(e!=this._items){var o,r=new ft;if(this.onItemsSourceChanging(r))this._cv&&((o=this._cv).currentChanged.removeHandler(null,this),o.collectionChanged.removeHandler(null,this),o instanceof Ji&&o.sortConverter==this._bndSortConverter&&(o.sortConverter=null),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv&&((o=this._cv).currentChanged.addHandler(function(s,a){return i._cvCurrentChanged(s,a)},this),o.collectionChanged.addHandler(function(s,a){return i._cvCollectionChanged(s,a)},this),o instanceof Ji&&!o.sortConverter&&(o.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this._selHdl._setSelectionMode(this.selectionMode),this.onItemsSourceChanged(r)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return Di(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(J(null==e||Kt(e)||le(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=k(e),this._rowHdrPath=e?new mn(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e,i){if(this._hasColumnGroups()&&i){var r=this.getColumnGroups();return null!==r?r.getColumn(e):null}return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&(Ut(this._fCt,null),this._fzClone=M(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=N(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=N(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var i=this._root,r=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":r=i.scrollWidth-i.clientWidth+e.x;break;case"neg":r=e.x;break;default:r=-e.x}i.scrollLeft=r,i.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=nf(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new Yi(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=ot(e,St,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=Mt(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,i){return this._edtHdl._allowEdit(e,i)},t.prototype.getCellData=function(e,i,r){return this.cells.getCellData(e,i,r)},t.prototype.getCellBoundingRect=function(e,i,r){return this.cells.getCellBoundingRect(e,i,r)},t.prototype.setCellData=function(e,i,r,o,s){return void 0===o&&(o=!0),void 0===s&&(s=!0),this.cells.setCellData(e,i,r,o,s)},t.prototype.hitTest=function(e,i){return Be(e)&&Be(i)&&(e=new ti(e,i)),_n(i)&&i&&(this._rcBounds=null),new Du(this,e)},t.prototype.getClipString=function(e,i,r,o){var s;return J(Be(s=null==i||_n(i)?i?Zr.CSV:Zr.Default:i),"Unexpected value for ClipStringOptions parameter."),this._edtHdl.getClipString(e,s,r,o)},t.prototype.setClipString=function(e,i){this._edtHdl.setClipString(e,i)},t.prototype.focus=function(e){this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,n.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0),n.prototype.refresh.call(this,e),this.finishEditing(),e&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl,this._updateDefaultSizes(),clearTimeout(this._toInv),this._toInv=null),this.refreshCells(e);var i=this._e;i&&(this._szCtl=new Yi(i.offsetWidth,i.offsetHeight))},t.prototype.refreshCells=function(e,i,r){this.isUpdating||(e?this._updateLayout():this._updateContent(i,r))},t.prototype.refreshRange=function(e){for(var i=e.topRow;i<=e.bottomRow;i++)for(var r=e.leftCol;r<=e.rightCol;r++){var o=this.cells.getCellElement(i,r);o&&this.cellFactory.updateCell(this.cells,i,r,o,o[pi._INDEX_KEY].rng)}},t.prototype.autoSizeColumn=function(e,i,r){void 0===i&&(i=!1),void 0===r&&(r=4),this.autoSizeColumns(e,e,i,r)},t.prototype.autoSizeColumns=function(e,i,r,o){var s=this;void 0===r&&(r=!1),void 0===o&&(o=4);var a=0,l=r?this.topLeftCells:this.columnHeaders,c=r?this.bottomLeftCells:this.columnFooters,u=r?this.rowHeaders:this.cells,d=this.viewRange;e=null==e?0:Ct(e),i=null==i?u.columns.length-1:Ct(i),d.row=Math.max(0,d.row-1e3),d.row2=Math.min(d.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){G(s._eCt,{width:s._gpCells.width});for(var h=Je("<div "+t._WJS_MEASURE+'="true"/>',u.hostElement,{visibility:"hidden"}),f=s._getCanvasContext(),p=e;p<=i&&p>-1&&p<u.columns.length;p++){var g=u.columns[p];if(g.isVisible){if(a=0,s.autoSizeMode&xo.Headers){for(var m=0;m<l.rows.length;m++)l.rows[m].isVisible&&(a=Math.max(s._getDesiredWidth(l,m,p,h),a));for(m=0;m<c.rows.length;m++)c.rows[m].isVisible&&(a=Math.max(s._getDesiredWidth(c,m,p,h),a))}if(s.autoSizeMode&xo.Cells&&d.row>-1&&d.row2>-1)if(g._getQuickAutoSize())m=s._getWidestRow(u,d,p,f),a=Math.max(s._getDesiredWidth(u,m,p,h),a);else for(m=d.row;m<=d.row2&&m<u.rows.length;m++)u.rows[m].isVisible&&(a=Math.max(s._getDesiredWidth(u,m,p,h),a));a>0&&(g.width=a+o+2)}}s.cellFactory.disposeCell(h),Tt(h)})},t.prototype.autoSizeRow=function(e,i,r){void 0===i&&(i=!1),void 0===r&&(r=0),this.autoSizeRows(e,e,i,r)},t.prototype.autoSizeRows=function(e,i,r,o){var s=this;void 0===r&&(r=!1),void 0===o&&(o=0);var a=0,l=1==r?this.topLeftCells:null==r?this.bottomLeftCells:this.rowHeaders,c=1==r?this.columnHeaders:null==r?this.columnFooters:this.cells;if(o=N(o),e=null==e?0:Ct(e),(i=null==i?c.rows.length-1:Ct(i))>=e&&this.finishEditing()){G(this._eCt,{width:this._gpCells.width});var u=Je("<div "+t._WJS_MEASURE+'="true"/>',c.hostElement,{visibility:"hidden"});this.rows.deferUpdate(function(){for(var d={},h=s._autoSizeMode,f=xo,p=e;p<=i&&p>-1&&p<c.rows.length;p++)c.rows[p].isVisible&&(a=0,h&f.Headers&&(a=s._getDesiredRowHeight(l,p,u,d)),h&f.Cells&&(a=Math.max(s._getDesiredRowHeight(c,p,u,d),a)),a>0&&(c.rows[p].height=a+o))}),this.cellFactory.disposeCell(u),Tt(u)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=N(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var i=this;this.finishEditing()&&this.deferUpdate(function(){var r=i.rows;r.deferUpdate(function(){for(var o=0;o<r.length;o++){var s=r[o];s instanceof Dt&&(s.isCollapsed=s.level>=e)}})})},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=Xe(e,Ke))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,i){return void 0===i&&(i=!0),this._selHdl.select(e,i)},t.prototype.selectAll=function(){var e=this.rows.length,i=this.columns.length;return!(!e||!i)&&this.select(new $(0,0,e-1,i-1),!1)},t.prototype.getSelectedState=function(e,i){return this.cells.getSelectedState(e,i)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,i=this.selectionMode,r=this.rows.filter(function(s){return s.isSelected});if(0==r.length&&i!=Ke.None){var o=[];this.selectedRanges.forEach(function(s){for(var a=s.topRow;a<=s.bottomRow&&a>-1&&a<e.rows.length;a++)o.indexOf(a)<0&&o.push(a)}),o.sort(),r=o.map(function(s){return e.rows[s]})}return r},set:function(e){var i=this;J(this.selectionMode==Ke.ListBox,"This property can be set only in ListBox mode."),e=Sn(e),this.deferUpdate(function(){for(var r=0,o=!0;r<i.rows.length;r++){var s=i.rows[r],a=e&&e.indexOf(s)>-1;a&&o&&(o=!1,i.select(r,i.selection.col)),s.isSelected=a}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach(function(i){var r=i?i.dataItem:null;r&&e.indexOf(r)<0&&e.push(r)}),e},set:function(e){var i=this;J(this.selectionMode==Ke.ListBox,"This property can be set only in ListBox mode."),e=Sn(e),this.deferUpdate(function(){for(var r=0,o=!0;r<i.rows.length;r++){var s=i.rows[r],a=e&&e.indexOf(s.dataItem)>-1;a&&o&&(o=!1,i.select(r,i.selection.col)),s.isSelected=a}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach(function(i){e.push(i)}),e},set:function(e){if((e=Sn(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==Ke.MultiRange)){var i=this._selHdl.extendedSelection;i.deferUpdate(function(){i.clear();for(var r=1;r<e.length;r++)i.push(e[r])})}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,i,r){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var o=this.scrollPosition,s=this._szClient,a=s.width,l=s.height-this._gpCFtr.rows.getTotalSize(),c=this.cells._getFrozenPos();if((e=Ct(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var u=this._rows[e],d=this._getCssPage(u.pos);if(d!=this._cssPage){for(var h=this._maxOffsetY,f=Math.round(h*d);f>u.pos;d-=.1)f=Math.round(h*d);this._offsetY=f}var p=u.pos-this._offsetY,g=p+u.renderSize;g>l-o.y&&(o.y=Math.max(-p,l-g)),p-c.y<-o.y&&(o.y=-(p-c.y)),d!=this._cssPage&&(this._cssPage=this._getCssPage(-o.y))}if(le(i)&&(i=this.columns.indexOf(i)),(i=Ct(i))>-1&&i<this._cols.length&&i>=this._cols.frozen){var m=this._cols[i],y=m.pos+m.renderSize;y>-o.x+a&&(o.x=Math.max(-m.pos,a-y)),m.pos-c.x<-o.x&&(o.x=-(m.pos-c.x))}if(!o.equals(this._ptScrl))return this.scrollPosition=o,r&&(this._updateScrollPosition(),this._forceScrollUpdate=!1,this.refresh()),!0;if(this._activeCell&&e>-1&&i>-1){var _=this._root,v=_.scrollWidth==_.clientWidth,w=_.scrollHeight==_.clientHeight;if(v||w){var D=this._activeCell.getBoundingClientRect(),T=innerWidth,S=innerHeight,P=D.right<0||D.left>T,j=D.bottom<0||D.top>S;o.x=pageXOffset+(D.left<0?D.left:D.right>T?D.right-T:0),o.y=pageYOffset+(D.top<0?D.top:D.bottom>S?D.bottom-S:0),P&&v&&j&&w?scrollTo(o.x,o.y):P&&v?scrollTo(o.x,document.documentElement.scrollLeft):j&&w&&scrollTo(document.documentElement.scrollTop,o.y)}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,i,r,o,s){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,i,r,o,s)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=ot(e,Gy,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,i,r,o){return void 0===o&&(o=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,i,r,o):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=Xe(e,es)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=Xe(e,es)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return st(this.hostElement,t._WJS_WSPRE)},set:function(e){ge(this.hostElement,t._WJS_WSPRE,M(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=M(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),null!=this._edtHdl._lbx},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._getTabIndex=function(){return this._orgTabIndex},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach(function(i){i._updateContent(!0,!1,i._getOffsetY())}),clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout(function(){if(e._toAutoHeights=null,!e.editRange){var i=e.autoSizeMode,r=xo;i&r.Headers&&(e._autoSizeMode=r.Both,e.autoSizeRows(0,e.columnHeaders.rows.length-1,!0),e._autoSizeMode=i),i&r.Cells&&e.autoSizeRows()}},R._REFRESH_INTERVAL))},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,i,r,o){if(Pe(this.itemValidator)){if(e==this.cells)return this.itemValidator(i,r,o);if(e==this.rowHeaders)for(r=0;r<this.columns.length;r++)if(d=this.itemValidator(i,r,o))return d}var s=this._cv,a=s?s.getError:null;if(Pe(a)){var l=e.rows,c=this.columns,u=l[i].dataItem;if(u&&!(u instanceof Mr))if(e==this.cells)for(;i<l.length&&l[i].dataItem==u;i++)return a(u,this._getBindingColumn(this.cells,i,c[r]).binding,o);else if(e==this.rowHeaders){var d;if(!(d=a(u,null,!1))){for(var h=[];i<l.length&&l[i].dataItem==u;i++)for(r=0;r<c.length;r++)(d=a(u,this._getBindingColumn(this.cells,i,c[r]).binding,!1))&&h.indexOf(d)<0&&h.push(d);if(h.length){var f=this.errorTip;d=h.join(f&&f.isContentHtml?"<br/>":"\n")}}return d}}return null},t.prototype._setAria=function(e,i){F(this.cells.hostElement,"aria-"+e,i)},t.prototype._setFocus=function(e){if(this.hostElement&&(e||!this.containsFocus())){var i=Oe(),r=this.activeEditor,o=this._activeCell,s=this._eFocus,a=this._root,l=this._getTabIndex();r?oe(r,i)||(r.focus(),s.tabIndex=-1):o?!oe(o,i)&&i!=this._root&&(ht()&&st(o,"wj-group")&&(o=o.querySelector("."+St._WJC_COLLAPSE)||o),o.tabIndex=l,this._setFocusNoScroll(o),s.tabIndex=-1):!oe(s,i)&&i!=a&&(s.tabIndex=l,this._setFocusNoScroll(s)),this.containsFocus()||(s.tabIndex=l,this._setFocusNoScroll(s))}},t.prototype._setFocusNoScroll=function(e){if(Oe()!=e){if(mT())e.focus({preventScroll:!0});else{var i=this.scrollPosition,r=e.style,o=r.position;r.position="fixed",e.focus(),r.position=o,this.scrollPosition=i}this._fixScroll()}},t.prototype._updateDefaultSizes=function(){var e=this._getDefaultRowHeight();return this._rows._setDefaultSize(e),this._cols._setDefaultSize(4*e),this._hdrRows._setDefaultSize(e),this._hdrCols._setDefaultSize(Math.round(1.25*e)),this._ftrRows._setDefaultSize(e),e},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,i=this._eFocus,r=null;i.offsetHeight||(r=Je('<div><div class="wj-cell">0</div></div>',document.body),e&&r.setAttribute("class",e.getAttribute("class")),i=r.children[0]);var o=i.offsetHeight;return(isNaN(o)||o<=6)&&(o=28),Tt(r),o},t.prototype._getCollectionView=function(e){return yu(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),i=getComputedStyle(this.hostElement);return e.font=i.fontSize+" "+i.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,i,r,o){for(var s=0,a=0,l=1===this._getRowsPerItem()&&e.columns[r].dataType==We.Boolean,c=i.row;c<=i.row2;c++)if(e.rows[c].isVisible){var u=e.getCellData(c,r,!0),d=o.measureText(u).width,h=this.getMergedRange(e,c,r,!1);if(h&&h.columnSpan>1&&(d/=h.columnSpan),d>a&&(a=d,s=c),l)break;c+=h?h.rowSpan-1:0}return s},t.prototype._getDesiredWidth=function(e,i,r,o){var s=this.getMergedRange(e,i,r,!1),a=o.style;return this.cellFactory.updateCell(e,i,r,o,s),a.width=a.top=a.left="",o.offsetWidth/(s&&s.columnSpan>1?s.columnSpan:1)},t.prototype._getDesiredHeight=function(e,i,r,o){var s=o.style,a=this.getMergedRange(e,i,r,!1),l=a?a.rowSpan:1;return this.cellFactory.updateCell(e,i,r,o,a),o.innerHTML.trim()||(o.innerHTML="&nbsp;"),s.height=s.top=s.left="",o.offsetHeight/l},t.prototype._getDesiredRowHeight=function(e,i,r,o){for(var s=0,a=this._getQuickAutoSize(),l=0;l<e.columns.length;l++)if(e.columns[l].isVisible){var c=this.getMergedRange(e,i,l,!1),u=void 0;if(a){var d={ct:e.cellType,col:l,spr:c&&c.rowSpan>1?c.rowSpan:1,spc:c&&c.columnSpan>1?c.columnSpan:1,data:e.getCellData(i,l,!0)||"1"},h=JSON.stringify(d);null==(u=o[h])&&(u=this._getDesiredHeight(e,i,l,r),o[h]=u)}else u=this._getDesiredHeight(e,i,l,r);s=Math.max(u,s),l+=c?c.columnSpan-1:0}return s},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,i,r,o){var s,a=this;if(o&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach(function(c){(s=a.getColumn(c.property))&&s.dataMap&&(a._mappedColumns||(a._mappedColumns={}),a._mappedColumns[s.binding]=s.dataMap)}),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(s=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&s.dataMap&&(this._mappedColumns[s.binding]=s.dataMap))),this._mappedColumns){var l=this._mappedColumns[e.property];l&&l.sortByDisplayValues&&(r=l.getDisplayValue(r))}return r},t.prototype._bindGrid=function(e){var i=this;this.finishEditing(),this.deferUpdate(function(){var o,s;if(i.autoGenerateColumns&&0==i._lastCount&&Yt(i._cv)&&(e=!0),i.preserveSelectedState&&(o=i._getMap())&&i.rows.forEach(function(p){p.isSelected&&p.dataItem&&o.set(p.dataItem,!0)}),i.preserveOutlineState&&i.rows.maxGroupLevel>-1&&(s=i._getMap()))for(var a=0;a<i.rows.length;a++){var l=i.rows[a];if(l instanceof Dt&&l.isCollapsed&&l.dataItem){var c=l.dataItem;c instanceof Mr&&(c=c._path),s.set(c,!0)}}e&&i.columns.deferUpdate(function(){i._bindColumns()});var u=new ft;i.onLoadingRows(u)&&(i.rows.deferUpdate(function(){i._bindRows()}),i.onLoadedRows(u)),i._selHdl.extendedSelection.clear();var d=0;if(o&&o.size&&i.rows.forEach(function(p){var g=p.dataItem;g&&o.has(g)&&(p.isSelected=!0,d++)}),0==d&&i._lastCount>0&&i.selectionMode==Ke.ListBox){var h=i.selection;for(a=h.topRow;a<=h.bottomRow&&a>-1&&a<i.rows.length;a++)i.rows[a].isSelected=!0}if(s&&s.size&&i.rows.deferUpdate(function(){i.rows.forEach(function(p){if(p instanceof Dt){var g=p.dataItem;g instanceof Mr&&(g=g._path),s.has(g)&&(p.isCollapsed=!0)}})}),!i._lastCount){var f=i._cv;f&&f.items&&(i._lastCount=f.items.length)}}),this._cv&&this._syncSelection(e&&!this._toInv)},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,i){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var r=Ft;if(this.childItemsPath&&i.action!=r.Change)this._bindGrid(!1);else{switch(i.action){case r.Change:return void this.invalidate();case r.Add:if(i.index==this._cv.items.length-1){var o=this.rows.length;return this.rows[o-1]instanceof Nt&&o--,void this.rows.insert(o,new Ar(i.item))}J(!1,"added item should be the last one.");break;case r.Remove:var s=this._findRow(i.item);if(s>-1)return this.rows.removeAt(s),void this._syncSelection();J(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,i){this._syncSelection()},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=Ke.None){var i=this._selHdl.selection,r=i.row>-1&&i.row<this.rows.length?this.rows[i.row]:null,o=r?r.dataItem:null,s=this._cv;if(s instanceof Ji&&s.isUpdating||this.newRowAtTop&&r instanceof Nt)return;if(o instanceof Mr&&(o=null),e||o!=s.currentItem||i.row>=this.rows.length){var a=this.editableCollectionView;if(!this.childItemsPath||!a||!a.currentAddItem){var l=this._getRowIndex(s.currentPosition);(l!=i.row||!this.childItemsPath)&&(i=new $(l,i.col,l,i.col2),this.select(i,!1),this.selectionMode&&!this._updating&&this.scrollIntoView(i.row,-1))}}}},t.prototype._getRowIndex=function(e){if(this._cv){var i=this.rows;if(e>-1){for(var r=this._cv.items[e];e<i.length;e++)if(i[e].dataItem===r)return e;return-1}if(1==i.length&&i[0]instanceof Nt)return 0;var o=this.selection.row,s=o>-1?i[o]:null;return s&&(s instanceof Dt||null==s.dataItem)?o:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var i=0;i<this.rows.length;i++)if(this.rows[i].dataItem==e)return i;return-1},t.prototype._updateLayout=function(){var e=new ft;if(this.onUpdatingLayout(e)){var i=this._hdrVis&sn.Row?this._hdrCols.getTotalSize():0,r=this._hdrVis&sn.Column?this._hdrRows.getTotalSize():0,o=this._ftrRows.getTotalSize(),s=this._rows.getTotalSize()+o;s<1&&(s=1),this._heightReal=s,this._heightBrowser=Math.min(s,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,s-this._heightBrowser);var a=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(a.paddingTop)+parseInt(a.paddingBottom),this._cellPadHorz=parseInt(a.paddingLeft)+parseInt(a.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?a.paddingRight:a.paddingLeft);var l=this._heightBrowser+r-o,c=this._gpCells.width,u=this._heightBrowser;!c&&this.rows.length&&(c=.1),!u&&this.columns.length&&(u=.1),this.rightToLeft?(G(this._eTL,{right:0,top:0,width:i,height:r}),G(this._eCHdr,{right:i,top:0,height:r}),G(this._eRHdr,{right:0,top:r,width:i}),G(this._eCt,{right:i,top:r,width:c,height:u}),G(this._fCt,{right:i,top:r}),G(this._eBL,{right:0,top:l,width:i,height:o}),G(this._eCFtr,{right:i,top:l,height:o})):(G(this._eTL,{left:0,top:0,width:i,height:r}),G(this._eCHdr,{left:i,top:0,height:r}),G(this._eRHdr,{left:0,top:r,width:i}),G(this._eCt,{left:i,top:r,width:c,height:u}),G(this._fCt,{left:i,top:r}),G(this._eBL,{left:0,top:l,width:i,height:o}),G(this._eCFtr,{left:i,top:l,height:o})),this._stickyHdr&&this._updateStickyHeaders();var d=this.frozenRows||this.frozenColumns?"3":"";G([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:d}),ht()&&(this._fCt.style.zIndex=d?"2":"");var h=this._root,f=h.offsetWidth-h.clientWidth,p=h.offsetHeight-h.clientHeight;G(this._eSz,{width:i+f+this._gpCells.width,height:r+p+this._heightBrowser});var g=null;this.columns._updateStarSizes(h.clientWidth-i)&&(g=h.clientWidth,G(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new Yi(h.clientWidth-i,h.clientHeight-r),this._szClientSB=new Yi(h.offsetWidth-i,h.offsetHeight-r),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),G(this._eSz,{width:i+(f=h.offsetWidth-h.clientWidth)+this._gpCells.width,height:r+(p=h.offsetHeight-h.clientHeight)+this._heightBrowser}),this._szClient=new Yi(h.clientWidth-i,h.clientHeight-r),g&&g!=h.clientWidth&&this.columns._updateStarSizes(h.clientWidth-i)&&(G(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),G([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),G([this._eRHdr,this._fCt],{height:this._szClient.height}),o&&(l=Math.min(l,this._szClient.height+r-o),G([this._eBL,this._eCFtr],{top:l})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,i=0;if(this._stickyHdr){for(var r=0,o=null,s=this.hostElement;s;s=s.parentElement)if("inline"!=getComputedStyle(s).display){var a=s.getBoundingClientRect();null==o&&(o=a.top),r=Math.max(r,a.top)}i=-(o=Math.max(0,r-o-1)),e=o>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-i+"px":"",ge(this._eTL,t._WJS_STICKY,e),ge(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS||this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0},t.prototype._scroll=function(e){var i=this;oe(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame(function(){i._afClip=null,i.finishEditing(),i._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){i._afSticky=null;var r=new ft;i.onUpdatingLayout(r)&&(i._updateStickyHeaders(),i.onUpdatedLayout(r))})))},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var i=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>i)return qe(Math.round(e/(this._heightBrowser-i)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,i=e.scrollTop,r=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(r=e.scrollWidth-e.clientWidth-r);var o=new ti(-Math.abs(r),-i);return!this._ptScrl.equals(o)&&(this._ptScrl=o,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,i){var r=this,o=this._root,s=this.hostElement,a=this.cells.hostElement,l=this._activeCell,c=Oe(),u=oe(s,c),d=te(c,".wj-flexgrid")==s?c:null,h=new ft;if(this.onUpdatingView(h)){F(a,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._hasValidation=Pe(this._itemValidator)||this._cv&&Pe(this._cv.getError);var f=!i&&this._errorTip&&this._errorTip._tips.length,p=this._getCssPage(-this._ptScrl.y);p!=this._cssPage&&(this._cssPage=p,this._offsetY=Math.round(this._maxOffsetY*p)),this._updateScrollPosition(),this._updateMarquee();var g=this._gpCells._updateContent(e,i,this._offsetY),m=this._hdrVis;m&sn.Column&&(!i||this._ssHdr&m)&&(this._gpCHdr._updateContent(e,i,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),m&sn.Row&&(!i||this._ssHdr&m)&&(this._gpRHdr._updateContent(e,i,this._offsetY),this._eRHdr.scrollTop=0),m&&!i&&this._gpTL._updateContent(e,i,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,i,0),this._gpCFtr._updateContent(e,i,0)),f&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout(function(){var w=r._errorTip;if(w){w.hide();for(var D=w._tips,T=0;T<D.length;T++){var S=D[T].element;(!S.offsetHeight||!st(S,"wj-state-invalid"))&&(w.setTooltip(S,null),T--)}}},250)),this._useFrozenDiv()&&(this._updateFrozenCells(i),g&&st(g,"wj-frozen")&&(g=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=g,d&&(d!=o&&d!=this._eFocus&&oe(s,d)&&!oe(a,d)?(Oe()!==d&&d.focus(),ht()&&d instanceof HTMLInputElement&&!d.type.match(/checkbox|radio|range/i)&&d.setSelectionRange(d.selectionStart,d.selectionEnd)):this._setFocus(g!==l)),!d&&g&&(g.tabIndex=this.isDisabled?-1:this._orgTabIndex),l&&l!=g&&(l.tabIndex=-1),this._eFocus.tabIndex=null!=g||this.isDisabled?-1:this._orgTabIndex,u&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(h)}},t.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var i=this.hostElement,r=e?e.parentElement:null,o=this.rightToLeft;i&&(i.scrollTop&&(i.scrollTop=0),i.scrollLeft&&!o&&(i.scrollLeft=0)),r&&(r.scrollTop&&(r.scrollTop=0),r.scrollLeft&&!o&&(r.scrollLeft=0))}wl()&&e&&(e.style.transform="",e.style.transform="translateZ(0)")},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var i=this[e];i instanceof pi&&i._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return _n(this._fzClone)?this._fzClone:ht()||Ls()||wl()||cT()},t.prototype._updateFrozenCells=function(e){var i=this._fCt;if(this.frozenRows||this.frozenColumns){var r=this._eCt.querySelectorAll(".wj-frozen");if(e&&i.children.length==r.length){for(var o=0;o<r.length;o++)i.children[o].className=r[o].className;return}if(Ut(i,null),!this.activeEditor){var s=this._errorTip,a=navigator.userAgent.indexOf("MSIE")>=0;for(o=0;o<r.length;o++){var l=r[o];if(te(l,".wj-flexgrid")==this.hostElement){var c=l[pi._INDEX_KEY];if(a){var u="input[type=checkbox]",d=l.querySelector(u);l=l.cloneNode(!0),d&&(l.querySelector(u).checked=d.checked)}else l=l.cloneNode(!0);if(l[pi._INDEX_KEY]=c,s){var h=s.getTooltip(r[o]);h&&s.setTooltip(l,h)}i.appendChild(l)}}}}else Ut(i,null)},t.prototype._updateMarquee=function(){var e=this._eMarquee,i=this._getMarqueeRect();if(i&&i.width&&i.height){var r=e.firstChild,o=e.offsetWidth-r.offsetWidth,s=e.offsetHeight-r.offsetHeight,a=this.cells.hostElement;G(e,{left:i.left+a.offsetLeft-o/2,top:i.top+a.offsetTop-s/2,width:i.width+o,height:i.height+s,display:""})}else e.style.display="none"},t.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var i=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),r=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),s=this.cells.getCellBoundingRect(o-1,0,!0);e.topRow>=o&&i.top<s.bottom&&(i.top=s.bottom),e.bottomRow>=o&&r.bottom<s.bottom&&(r.height=s.bottom-r.top)}if(this.columns.frozen){var a=Math.min(this.columns.length,this.columns.frozen);s=this.cells.getCellBoundingRect(0,a-1,!0),this.rightToLeft?(e.leftCol>=a&&i.right>s.left&&(i.left=s.left-i.width),e.rightCol>=a&&r.left>s.left&&(r.left=s.left)):(e.leftCol>=a&&i.left<s.right&&(i.left=s.right),e.rightCol>=a&&r.right<s.right&&(r.width=s.right-r.left))}return this.rightToLeft?new ni(r.left,i.top,i.right-r.left,r.bottom-i.top):new ni(i.left,i.top,r.right-i.left,r.bottom-i.top)},t.prototype._bindColumns=function(){for(var e=this.columns,i=0;i<e.length;i++)e[i]._getFlag(be.AutoGenerated)&&(e.removeAt(i),i--);var r=this._cv,o=r?r.items:null;o&&o.length&&this.autoGenerateColumns&&this._getColumnTypes(o).forEach(function(s){var a=new on(s);a._setFlag(be.AutoGenerated,!0),a.name=a.binding,a.header=Xh(a.binding);var l=t._defTypeWidth[a.dataType];if(null!=l){if(le(l)){var c=Math.round(parseFloat(l));l=l.indexOf("*")>-1?c*e.defaultSize:c}Be(l)&&l>0&&(a.width=l)}e.push(a)}),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return CT(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if(Yt(e)){var i=e.items[0];this.columns.forEach(function(r){null==r.dataType&&r._binding&&(r.dataType=Vs(r._binding.getValue(i)))})}},t.prototype._getMapEditor=function(e,i){return i.editor?null!=i.editor.isDroppedDown?i.dataMapEditor:null:!e.dataMap||e instanceof Dt?i.dataMap?i.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,i,r){return r},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowsPerItem=function(){return 1},t.prototype._isTransposed=function(){return!1},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var i=e.items,r=e.groups;if(this.childItemsPath)for(var o=0;o<i.length;o++)this._addNode(i,o,0);else if(null!=r&&r.length>0&&this.showGroups)for(o=0;o<r.length;o++)this._addGroup(r[o]);else for(o=0;o<i.length;o++)this._addBoundRow(i,o)}},t.prototype._addBoundRow=function(e,i){var r=new Ar(e[i]),o=this.rows;r._list=o,o[o.length++]=r},t.prototype._addGroupRow=function(e){this.rows.push(new Dt(e))},t.prototype._addNode=function(e,i,r){var o=e[i],s=this.childItemsPath,a=o[Kt(s)?s[r]:s],l=new Dt(o);if(l.level=r,this.rows.push(l),Kt(a))for(var c=0;c<a.length;c++)this._addNode(a,c,r+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var i=e.items,r=0;r<i.length;r++)this._addBoundRow(i,r);else for(r=0;r<e.groups.length;r++)this._addGroup(e.groups[r])},t._getSerializableProperties=function(e){var i=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var s=r[o],a=Object.getOwnPropertyDescriptor(e,s);a&&a.set&&a.get&&"_"!=s[0]&&!s.match(/^(disabled|required|showDropDown)$/)&&i.push(s)}return i},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,i){return this._grpHdl.getColumnGroup(e,i)},t.prototype._canMoveColumnGroup=function(e,i,r,o){return this._grpHdl.canMoveColumnGroup(e,i,r,o)},t.prototype._moveColumnGroup=function(e,i,r,o,s){return this._grpHdl.moveColumnGroup(e,i,r,o,s)},t.prototype._copy=function(e,i){var r=this;if("columns"==e){var o=Sn(i);return o.some(function(s){return null!=s.columns})?this.columnGroups=o:(this.columns.clear(),o.forEach(function(s){var a=new on(s);r.columns.push(a)})),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!st(e,"wj-btn-glyph")&&("true"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i))},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&st(e,St._WJC_CHECKBOX)&&te(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!st(e,"wj-grid-ime")&&oe(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;ht()?e=15e5:Ls()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=Je('<div dir="rtl"><div></div></div>');G(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),G(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var i=e.scrollLeft;e.scrollLeft=-1e3;var r=e.scrollLeft;Tt(e),t._rtlMode=r<0?"neg":i>0?"rev":"std"}return t._rtlMode},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((JT={})[We.Number]="0.714285714*",JT),t.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(R),Uy=function(){function n(t){this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var e=Je('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');G(e,n._cssHidden),tf(e),e.tabIndex=-1,this._tbx=e,this._maskProvider=new Ml(e),t._root.appendChild(e),this._updateImeFocus();var i=t.hostElement,r=t.addEventListener.bind(t),o=this._updateImeFocusAsyncBnd;r(i,"blur",o,!0),r(i,"focus",o),r(e,"compositionstart",this._cmpstartBnd),uT()&&r(i,"keypress",this._keypressBnd),t.selectionChanged.addHandler(o,this),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.cellEditEnding.addHandler(this._cellEditEnding,this)}return n.prototype.dispose=function(){var t=this._g,e=t.hostElement,i=this._tbx,r=t.removeEventListener.bind(t),o=this._updateImeFocusAsyncBnd;r(e,"blur",o),r(e,"focus",o),r(e,"keypress",this._keypressBnd),r(i,"compositionstart",this._cmpstartBnd),t.selectionChanged.removeHandler(o),t.cellEditEnded.removeHandler(this._cellEditEnded),t.cellEditEnding.removeHandler(this._cellEditEnding),Tt(i)},n.prototype._compositionstart=function(t){var e=this._g;if(!e.activeEditor){var i=e._selHdl.selection;if(e.startEditing(!1,i.row,i.col,!1,t)&&e.activeEditor&&"checkbox"!=e.activeEditor.type){var r=e.activeEditor,o=this._tbx,s=e.cells.hostElement,a=e.columns[(i=e.editRange).col].pos+s.offsetLeft,l=e.rows[i.row].pos+s.offsetTop,c=e.getCellBoundingRect(i.row,i.col),u=te(r,".wj-cell");c.width=u.offsetWidth,c.height=u.offsetHeight,i.row<e.frozenRows&&(l+=e._root.scrollTop),i.col<e.frozenColumns&&(a+=e._root.scrollLeft);var d=u.querySelector(".wj-btn.wj-right");d&&(c.width-=d.offsetWidth),"minLength,maxLength,pattern".split(",").forEach(function(_){F(o,_,r.getAttribute(_))});var h=r instanceof HTMLTextAreaElement;F(o,"wrap",h?"soft":"off");var f=getComputedStyle(u),p=f.paddingTop;if(i.rowSpan>1&&!h){var g=parseFloat(f.lineHeight);isNaN(g)&&(g=1.2*parseFloat(f.fontSize)),p=Math.max(0,(c.height-g)/2)+"px"}var m={position:"absolute",left:a,top:l,width:c.width-1,height:c.height-1,paddingTop:p,paddingLeft:f.paddingLeft,paddingRight:f.paddingRight,textAlign:f.textAlign,zIndex:u.style.zIndex};e.rightToLeft&&(m.right=parseInt(u.style.right)+parseInt(e.cells.hostElement.style.right),m.left=""),G(o,m),e._edtHdl._edt=o,o.select();var y=r.value;setTimeout(function(){"\u3000"!=o.value&&" "!=o.value||(o.value=y),xe(o,o.value.length)},20),o.placeholder=r.placeholder,r.placeholder="",r.value=""}}},n.prototype._cellEditEnding=function(){var t=this._maskProvider;t&&t.mask&&t._valueChanged()},n.prototype._cellEditEnded=function(){var t=this._tbx;t.value="",G(t,n._cssHidden),this._updateImeFocus()},n.prototype._keypress=function(t){!t.defaultPrevented&&t.target==this._tbx&&!(t.ctrlKey||t.altKey||t.metaKey||27==t.keyCode||this._g.activeEditor)&&(this._tbx.value="",this._compositionstart(t),t.stopPropagation())},n.prototype._updateImeFocus=function(){var t=this._g,e=this._tbx,i=Oe(),r=t._getTabIndex();if(!t.activeEditor&&te(i,".wj-flexgrid")==t.hostElement)if(this._enableIme()){i!=e&&(t.activeCell&&(t.activeCell.tabIndex=-1),e.tabIndex=r,e.disabled=!1,e.value="",xe(e,0),e.focus());var o=t._selHdl.selection,s=o.isValid?t._getBindingColumn(t.cells,o.row,t.columns[o.col]):null;this._maskProvider.mask=s?s.mask:null}else if(e.tabIndex=-1,e.disabled=!0,e.value="",i==e){e.blur();var a=t.activeCell;a?(a.tabIndex=r,a.focus()):t.focus()}},n.prototype._updateImeFocusAsync=function(){var t=this;this._toFocus&&clearTimeout(this._toFocus),this._toFocus=setTimeout(function(){t._toFocus=null,t._updateImeFocus()},100)},n.prototype._enableIme=function(){var t=this._g,e=t._selHdl.selection;if(!t.canEditCell(e.row,e.col))return!1;var i=e.isValid?t._getBindingColumn(t.cells,e.row,t.columns[e.col]):null;return!(!i||i.editor||i.dataType==We.Boolean||i&&i.dataMap&&i.dataMapEditor==fi.RadioButtons)},n._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},n}(),tI=function(){function n(t){this._nrt=new Nt,this._top=!1,this._keydownBnd=this._keydown.bind(this),this._committing=!1,this._g=t,this._attach()}return Object.defineProperty(n.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){if(t!=this.newRowAtTop){this._top=M(t),this.updateNewRowTemplate();var e=this._g;this._top&&e.selectionMode==Ke.ListBox&&(e.rows.forEach(function(i,r){i._setFlag(be.Selected,0==r,!0)}),e.select(0,e.selection.col))}},enumerable:!0,configurable:!0}),n.prototype.updateNewRowTemplate=function(){var t=this._g,e=t.editableCollectionView,i=t.rows,r=this._nrt,o=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,s=i.indexOf(r),a=this._top?0:i.length-1,l=!1;if(!o&&s>-1){var c=t.selection;c.row==s&&t.select(c.row-1,c.col),i.removeAt(s)}else o&&(s<0?l=!0:s!=a&&(i.removeAt(s),l=!0),l&&(this._top?i.insert(0,r):i.push(r)),r&&(r._ubv=null,r._setFlag(be.ParentCollapsed,!1),this._top&&t.selectionMode==Ke.ListBox||r._setFlag(be.Selected,!1)))},n.prototype._attach=function(){var t=this._g;t&&(t.beginningEdit.addHandler(this._beginningEdit,this),t.pastingCell.addHandler(this._beginningEdit,this),t.rowEditEnded.addHandler(this._rowEditEnded,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},n.prototype._detach=function(){var t=this._g;t&&(t.beginningEdit.removeHandler(this._beginningEdit),t.pastingCell.removeHandler(this._beginningEdit),t.rowEditEnded.removeHandler(this._rowEditEnded),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},n.prototype._keydown=function(t){!t.defaultPrevented&&t.keyCode==E.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},n.prototype._beginningEdit=function(t,e){if(!e.cancel){var i=t.rows[e.row];if(i instanceof Nt){var r=t.editableCollectionView;if(r&&r.canAddNew)if(this._top){if(null==this._nrt.dataItem){var o=null,s=r.sourceCollection,a=r.newItemCreator;o=Pe(a)?a():s&&s.length?new s[0].constructor:{},this._nrt.dataItem=o}}else{o=r.currentAddItem&&r.currentAddItem==i.dataItem?r.currentAddItem:r.addNew(),r.moveCurrentTo(o);var l=this._nrt.isSelected;this.updateNewRowTemplate(),l&&e.row>-1&&(t.rows[e.row].isSelected=!0),t.isUpdating||t.refresh(!0),t.onRowAdded(e)||r.cancelNew()}}}},n.prototype._rowEditEnded=function(t,e){var i=this,r=t.editableCollectionView,o=this._nrt.dataItem;if(r&&!this._committing)if(r.isAddingNew)r.commitNew();else if(o&&!e.cancel){this._committing=!0,this._nrt.dataItem=null;var s=r.addNew();for(var a in o)s[a]=o[a];t.onRowAdded(e)?r.commitNew():r.cancelNew(),setTimeout(function(){t.select(0,t.columns.firstVisibleIndex),i.updateNewRowTemplate()},20),this._committing=!1}},n}(),Nt=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Mi(t,n),t}(Ar);!function(n){n[n.None=0]="None",n[n.Cells=1]="Cells",n[n.ColumnHeaders=2]="ColumnHeaders",n[n.RowHeaders=4]="RowHeaders",n[n.AllHeaders=6]="AllHeaders",n[n.All=7]="All"}(Pl||(Pl={}));var Gy=function(){function n(t){null!=t&&console.error('** WARNING: the "grid" parameter has been deprecated. Please remove it.')}return n.prototype.getMergedRange=function(t,e,i,r){void 0===r&&(r=!0);var o=t.grid,s=t.cellType,a=t.columns,l=t.rows,c=l[e],u=a[i];if(c instanceof Nt||!(c instanceof Ar&&u instanceof on))return null;if(t==o.columnHeaders){var d=o._getColumnGroup(e,i);if(d){var h=d._rng,f=t.columns;return f.isFrozen(h.col)!=f.isFrozen(h.col2)&&(h=h.clone(),f.isFrozen(i)?h.col2=f.frozen-1:h.col=f.frozen),h}}if(o.showGroups&&!o.childItemsPath&&c instanceof Dt&&c.dataItem instanceof Mr&&s==Y.Cell){if(h=new $(e,i),u.aggregate==Et.None){for(;h.col>0&&a[h.col-1].aggregate==Et.None&&h.col!=a.frozen;)h.col--;for(;h.col2<a.length-1&&a[h.col2+1].aggregate==Et.None&&h.col2+1!=a.frozen;)h.col2++}for(;h.col<i&&!a[h.col].visible;)h.col++;return h.isSingleCell?null:h}var p=!1,m=Y;switch(o.allowMerging){case Pl.None:p=!0;break;case Pl.Cells:p=s!=m.Cell;break;case Pl.ColumnHeaders:p=s!=m.ColumnHeader&&s!=m.TopLeft;break;case Pl.RowHeaders:p=s!=m.RowHeader&&s!=m.TopLeft;break;case Pl.AllHeaders:p=s==m.Cell}if(p)return null;if(s==m.Cell){var y=o.editableCollectionView,_=y?y.currentAddItem:null;if(_&&c.dataItem==_)return null}if(a[i].allowMerging){h=new $(e,i);var v=t._vrb,w=0,D=l.length-1;e>=l.frozen?r&&(s==Y.Cell||s==Y.RowHeader)&&o._vtRows<l.length&&v&&(w=v.topRow,D=v.bottomRow):l.length>l.frozen&&(D=l.frozen-1);for(var T=e-1;T>=w&&this._mergeCell(t,T,i,e,i);T--)h.row=T;for(var S=e+1;S<=D&&this._mergeCell(t,e,i,S,i);S++)h.row2=S;for(;h.row<e&&!l[h.row].visible;)h.row++;if(!h.isSingleCell)return h}if(l[e].allowMerging){h=new $(e,i),v=t._vrb;var P=0,j=a.length-1;i>=a.frozen?r&&(s==Y.Cell||s==Y.ColumnHeader)&&o._vtCols<a.length&&v&&(P=v.leftCol,j=v.rightCol):j=a.frozen-1;for(var B=i-1;B>=P&&this._mergeCell(t,e,B,e,i);B--)h.col=B;for(var Z=i+1;Z<=j&&this._mergeCell(t,e,i,e,Z);Z++)h.col2=Z;for(;h.col<i&&!a[h.col].visible;)h.col++;if(!h.isSingleCell)return h}return null},n.prototype._mergeCell=function(t,e,i,r,o){var s=t.rows[e],a=t.rows[r];if(!s||!a||s instanceof Dt||s instanceof Nt||a instanceof Dt||a instanceof Nt)return!1;var l=t.grid.editableCollectionView,c=l?l.currentAddItem:null;return!(c&&(s.dataItem==c||a.dataItem==c)||e!=r&&t.rows.isFrozen(e)!=t.rows.isFrozen(r)||i!=o&&t.columns.isFrozen(i)!=t.columns.isFrozen(o)||e!=r&&(i>0&&(s.allowMerging&&this._mergeCell(t,e,i-1,e,i)||a.allowMerging&&this._mergeCell(t,r,i-1,r,i))||o<t.columns.length-1&&(s.allowMerging&&this._mergeCell(t,e,o,e,o+1)||a.allowMerging&&this._mergeCell(t,r,o,r,o+1))))&&t.getCellData(e,i,!0)==t.getCellData(r,o,!0)},n}(),Du=function(){function n(t,e){var i;if(this._row=-1,this._col=-1,this._edge=0,e instanceof Element){if(te(e,".wj-flexgrid")!=t.hostElement)return;t=e,this._target=e}if(!(t instanceof Element)||t instanceof Ti){if(t instanceof Ti)this._target=t.hostElement,i=this._g=t;else{if(!(t instanceof pi))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,i=this._g=this._p.grid}e instanceof MouseEvent&&(this._target=e.target,"mousedown"==e.type&&(i._rcBounds=null)),e=Dl(e),this._pt=e.clone();var r=i.controlRect,o=i._szClient,s=i.topLeftCells,a=i._eTL,l=i.headersVisibility,c=sn,u=l&c.Row?s.columns.getTotalSize():0,d=l&c.Column?s.rows.getTotalSize():0,h=l&c.Column?d+a.offsetTop:0,f=i._eBL,p=f.offsetHeight;if(e.x-=r.left,e.y-=r.top,i.rightToLeft&&(e.x=r.width-e.x),this._p||e.x>=0&&e.y>=a.offsetTop&&o&&e.x<=o.width+u&&e.y<=o.height+d&&(this._p=e.y<h?e.x<u?i.topLeftCells:i.columnHeaders:e.y<f.offsetTop?e.x<u?i.rowHeaders:i.cells:e.x<u?i.bottomLeftCells:i.columnFooters),null!=this._p){var g=this._p.rows,m=this._p.columns,y=this._p.cellType,_=Y,v=this._p._getFrozenPos(),w=y==_.TopLeft||y==_.ColumnHeader?d:y==_.BottomLeft||y==_.ColumnFooter?p:g.getTotalSize(),D=y==_.TopLeft||y==_.BottomLeft||y==_.RowHeader?u:m.getTotalSize();y==_.RowHeader||y==_.Cell?(e.y-=d,(e.y>v.y||v.y<=0)&&(e.y-=i._ptScrl.y,e.y+=this._p._getOffsetY())):y!=_.BottomLeft&&y!=_.ColumnFooter||(e.y-=f.offsetTop),(y==_.ColumnHeader||y==_.Cell||y==_.ColumnFooter)&&(e.x-=u,(e.x>v.x||v.x<=0)&&(e.x-=i._ptScrl.x)),y!=_.ColumnHeader&&y!=_.TopLeft||(e.y-=h-d),this._edge=0;var T=n._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(e.x-=(T=n._SZEDGE[1])/2),this._row=e.y>w?-1:g.getItemAt(e.y),this._col=e.x>D?-1:m.getItemAt(e.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var S=m[this._col];e.x-S.pos<=T&&(this._edge|=1);var P=S.pos+S.renderSize-e.x;P<=T&&(this._edge|=4,P<=T/2&&(this._edge|=16))}if(this._row>-1){var j=g[this._row];e.y-j.pos<=T&&(this._edge|=2);var B=j.pos+j.renderSize-e.y;B<=T&&(this._edge|=8,B<=T/2&&(this._edge|=32))}}}else{var Z=te(t,".wj-cell"),I=Z?Z[pi._INDEX_KEY]:null;I&&(this._target=t,this._row=I.row,this._col=I.col,this._rng=I.rng,this._p=I.panel,this._g=I.panel.grid)}}return Object.defineProperty(n.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellType",{get:function(){return this._p?this._p.cellType:Y.None},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),n.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(n.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),n.prototype.getColumn=function(t){var e=this._p,i=e&&this._col>-1?e.columns[this._col]:null;if(i&&t){var r=e.grid;i=e.cellType===Y.ColumnHeader&&r._hasColumnGroups()?r._getColumnGroup(this._row,this._col):r._getBindingColumn(e,this._row,i)}return i},Object.defineProperty(n.prototype,"range",{get:function(){return this._rng||(this._rng=new $(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarRight",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"edgeFarBottom",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),n._SZEDGE=[6,30],n}();function ff(){return rf("wijmo.input")}var nI="$WJ-MSKP",St=function(){function n(){}return n.prototype.updateCell=function(t,e,i,r,o,s){var a=t.grid,l=a.rightToLeft,c=t.rows,u=t.columns,d=c[e],h=u[i],f=e,p=i,g=d instanceof Dt?d:null,m=d instanceof Nt?d:null,y=h.renderWidth,_=d.renderHeight,v=t.cellType,w="wj-cell",D="",T={display:""},S=Y;0!=s&&r.firstElementChild&&(1==r.childNodes.length&&"checkbox"==r.firstElementChild.type||(r.textContent="")),o&&!o.isSingleCell&&(f=o.row2,p=o.col2,h=u[i=o.col],g=(d=c[e=o.row])instanceof Dt?d:null,_=(ce=o.getRenderSize(t)).height,y=ce.width);var P=a._getBindingColumn(t,e,h),j=P.dataType||d.dataType,B=P.dataMap||d.dataMap,Z=v==S.Cell?a._getMapEditor(d,P):null,I=v==S.RowHeader||v==S.Cell&&(!g||a.childItemsPath),Q=I&&Z==fi.RadioButtons,Ue=j==We.Boolean&&!B,Vt=P.isContentHtml||d.isContentHtml,O=h.pos,L=d.pos,W=a._ptScrl;if(a._useFrozenDiv()&&v==S.Cell&&!a.editRange)i<u.frozen&&f>=c.frozen?L+=W.y:e<c.frozen&&p>=u.frozen&&(O+=W.x);else{var ce=a._szClient;f<c.frozen&&(L=Math.min(L,ce.height),_=Math.min(_,Math.max(0,ce.height-L)),L-=W.y),p<u.frozen&&(O=Math.min(O,ce.width),y=Math.min(y,Math.max(0,ce.width-O)),O-=W.x)}l?T.right=O+"px":T.left=O+"px",f>=c.frozen&&(L-=t._getOffsetY()),T.top=L+"px",T.width=y+"px",T.height=_+"px",T.zIndex="",(e<c.frozen||i<u.frozen)&&(T.zIndex=e<c.frozen&&i<u.frozen?2:1);var Ge=!1,kn=a.alternatingRowStep;if(kn&&(!o||o.row==o.row2)&&(Ge=d.visibleIndex%(kn+1)==0,1==kn&&(Ge=!Ge)),v==S.Cell)g&&(w+=" wj-group"),Ge&&(w+=" wj-alt"),(e<c.frozen||i<u.frozen)&&(w+=" wj-frozen"),m&&(w+=" wj-new"),d.cssClass&&(w+=" "+d.cssClass),P.cssClass&&(w+=" "+P.cssClass);else{w+=" wj-header",Ge&&(w+=" wj-header-alt"),d.cssClass&&v==S.ColumnHeader&&(w+=" "+d.cssClass),P.cssClass&&v==S.RowHeader&&(w+=" "+P.cssClass);var ln=!1;v!=S.ColumnHeader&&v!=S.TopLeft||a.allowResizing&Rr.Columns&&(ln=null!=a._mouseHdl._getResizeCol(t,p)),ln||v!=S.RowHeader||a.allowResizing&Rr.Rows&&(ln=null!=a._mouseHdl._getResizeRow(t,f)),ln&&(w+=" wj-big-header")}d.cssClassAll&&(w+=" "+d.cssClassAll),P.cssClassAll&&(w+=" "+P.cssClassAll);var yn=Rl,ct=t.getSelectedState(e,i,o);switch(ct!=yn.None&&v==S.Cell&&!Ue&&a.editRange&&a.editRange.contains(e,i)&&(ct=yn.None),ct){case yn.Active:w+=" wj-state-active";break;case yn.Cursor:w+=" wj-state-selected wj-state-active";break;case yn.Selected:w+=" wj-state-multi-selected"}f==c._lastFrozen&&(w+=" wj-frozen-row"),p==u._lastFrozen&&(w+=" wj-frozen-col"),(P.wordWrap||d.wordWrap)&&(w+=" wj-wrap"),(P.multiLine||d.multiLine)&&(w+=" wj-multiline");var $l=P.getAlignment(d);$l&&(D=" wj-align-"+$l);var Fn=v,Or=a._isTransposed(),Un=(Fn==S.ColumnHeader&&!Or||Fn==S.RowHeader&&Or)&&a._hasColumnGroups()?a._getColumnGroup(e,i):null;if(Un&&Un.align&&(D=" wj-align-"+Un.align),T.paddingLeft=T.paddingRight=T.paddingTop=T.paddingBottom="",v==S.Cell&&a.rows.maxGroupLevel>-1&&i==u.firstVisibleIndex&&a.treeIndent){var kr=g?Math.max(0,g.level):c.maxGroupLevel+1,ls=Math.min(a.treeIndent*kr+a._cellPadLeft,y-a._cellPadHorz)+"px";l?T.paddingRight=ls:T.paddingLeft=ls}y<=a._cellPadHorz&&null==r.getAttribute(Ti._WJS_MEASURE)&&(T.paddingLeft=T.paddingRight=0);var Wl=v==S.Cell&&i==u.firstVisibleIndex&&g&&g.hasChildren&&!$y(a,e,i);if(Wl&&(D=""),0!=s){var mp=t.getCellData(e,i,!1),gi=t.getCellData(e,i,!0);if(Wl){var y7=function(n){var i=Je('<button class="wj-btn wj-btn-glyph '+St._WJC_COLLAPSE+'" type="button" tabindex="-1">'+Ol((n.isCollapsed?"":"down-")+(n.grid.rightToLeft?"left":"right"))+"</button>");return at(i,ve.FlexGrid.ariaLabels.toggleGroup),F(i,"aria-expanded",!n.isCollapsed),i}(g);gi=g.getGroupHeader()||Dr(gi),r.innerHTML=y7.outerHTML+" "+gi}else if(v!=S.ColumnHeader||f!=a._getSortRowIndex()&&P==h){if(v!=S.RowHeader||gi||!function(){var ql=!1;if(i==a._getEditColumnIndex()){var bp=a.editableCollectionView,wp=bp?bp.currentEditItem:null;gi=r.innerHTML=wp&&d.dataItem==wp?Ol("pencil"):d instanceof Nt?Ol("asterisk"):"",ql=!0}var Bu=P._tpl;return Bu&&(iI(Bu,r,mp,gi,d,P),ql=!0),ql}())if(v!=S.Cell||j!=We.Boolean||B||g&&!_n(mp))if(v==S.Cell&&!Q&&$y(a,e,i)){var _p=P.inputType||d.inputType;if(_p||(_p=j!=We.Number||B?"text":"tel"),!B&&!P.mask&&!d.mask){var sP=t.getCellData(e,i,!1);Be(sP)&&(gi=function(n,t){var e=Ce._parseNumericFormat(t=t||"n");switch(e.spec){case"d":case"x":break;case"e":t=t.replace(/[0-9]/g,"");break;default:t="p"==e.spec?"P15":"r",e.scale&&(t+=Array(e.scale/3+1).join(","))}return Ce.formatNumber(n,t,!0)}(sP,P.format||d.format))}r.innerHTML=(P.multiLine||d.multiLine)&&"checkbox"!=_p?'<textarea wrap="soft"></textarea>':'<input type="'+_p+'"/>';var Pi=r.children[0];ze(Pi,"wj-grid-editor wj-form-control"),tf(Pi),Vt&&B&&!B.isEditable&&(gi=Sr(gi)),Pi.value=gi,Pi.tabIndex=-1,Pi.required=P.getIsRequired(d),F(Pi,"aria-required",Pi.required);var aP=P.maxLength||d.maxLength;aP&&(Pi.maxLength=aP),Pi.style.textAlign=P.getAlignment(d);var lP=P.mask||d.mask;lP&&(Pi[nI]=new Ml(Pi,lP)),a.showPlaceholders&&(Pi.placeholder=P.header),a._edtHdl._edt=Pi}else{if(Q){var cP=[],v7=t.getCellData(e,i,!1);B.getDisplayValues(d.dataItem).forEach(function(ql){var bp=B.getKeyValue(ql)==v7?" checked":"",wp=a.isReadOnly||d.isReadOnly||h.isReadOnly?" disabled":"",Bu=Dr(ql);cP.push('<label><input type="radio" tabindex="-1"'+bp+wp+' value="'+Bu+'"><span>'+Bu+"</span></label>")}),r.innerHTML=cP.join(" "),w+=" "+n._WJC_RADIOMAP}var uP=I?P._tpl:null;if(uP?iI(uP,r,mp,gi,d,P):Q||(v==S.Cell&&Vt?r.innerHTML=gi:r.textContent=gi||""),Un&&Un.collapseTo){var Db=Un._rng;if(Db&&(v==S.ColumnHeader&&Db.columnSpan>1||v==S.RowHeader&&Db.rowSpan>1)){var dP=Un.isCollapsed;r.innerHTML='<div role="button" class="'+n._WJC_COLLAPSE+'">'+Ol(dP?"plus":"minus")+"</div>&nbsp;"+r.innerHTML,dP&&ze(r,"wj-state-collapsed")}}}else{var ra=r.firstChild;a._isNativeCheckbox(ra)||(r.innerHTML='<label><input type="checkbox" class="'+n._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',ra=r.querySelector("input")),Hs(ra,mp),ra.disabled=!a.canEditCell(e,i),ra.disabled&&(ra.style.cursor="default"),a.editRange&&a.editRange.contains(e,i)&&(a._edtHdl._edt=ra)}}else{r.innerHTML=Dr(gi);var hP=P.currentSort;hP&&a.showSort&&(w+=" wj-sort-"+("+"==hP?"asc":"desc"),r.innerHTML+="&nbsp;"+function(n){var t=Ol("+"==n.currentSort?"up":"down"),e=n.grid.collectionView;if(e&&e.sortDescriptions.length>1){var i=n.currentSortIndex;i>-1&&(t+='<span class="wj-sort-index">'+(i+1)+"</span>")}return t}(P)),a.allowPinning&&oe(a.hostElement,r)&&function(n,t){var i=Je(rI(St._WJC_PIN,"pin"));ge(i,"wj-state-pinned",t),F(i,"aria-pressed",t),n.insertBefore(i,n.firstChild)}(r,i<a.frozenColumns)}if(Z==fi.DropDownList&&a.showDropDown&&a.canEditCell(e,i)&&ff()){var b7=function(){var n=St._ddBtn;return n||(at(n=St._ddBtn=Je(St._tplDdBtn),ve.FlexGrid.ariaLabels.toggleDropDown),F(n,"aria-expanded",!1)),n.cloneNode(!0)}();r.insertBefore(b7,r.firstChild),$y(a,e,i)&&(w+=" wj-hasdropdown")}}v!=S.RowHeader&&v!=S.ColumnHeader||F(r,"draggable",(v==S.RowHeader?!g&&!m&&d.allowDragging&&0!=(a.allowDragging&Xr.Rows):(Un||h).allowDragging&&0!=(a.allowDragging&Xr.Columns))?"true":null),r.className!=(w+=D)&&(r.className=w);var fP=r.style;for(var yp in T)fP[yp]!==T[yp]&&(fP[yp]=T[yp]);if(a._edtHdl._edt&&a._edtHdl._edt.parentElement==r){var Sb=a._root,pP=Sb.getBoundingClientRect(),vp=r.getBoundingClientRect(),gP=pP.top+Sb.clientHeight-vp.top,mP=pP.left+Sb.clientWidth-vp.left;vp.height>gP&&(r.style.height=gP+"px"),vp.width>mP&&(r.style.width=mP+"px")}if((v==S.Cell||v==S.RowHeader)&&a._getShowErrors()){var C7=a._getError(t,e,i,!1);a._edtHdl._setCellError(r,C7)}if(a.itemFormatter&&a.itemFormatter(t,e,i,r),a.formatItem.hasHandlers){var oa=n._fmtItemArgs;oa?(oa._p=t,oa._rng.setRange(e,i,f,p),oa._cell=r):oa=n._fmtItemArgs=new ZT(t,new $(e,i,f,p),r),oa._updateContent=!1!==s,a.onFormatItem(oa)}},n.prototype.disposeCell=function(t){},n.prototype.getEditorValue=function(t){var e=t._edtHdl._edt;if(e instanceof HTMLInputElement)switch(e.type){case"checkbox":return e.checked;case"radio":return e.value}if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var i=e[nI],r=i?i._applyMask():e.value,o=e.maxLength;if(Be(o)&&o>-1&&r.length>o){var s=ve.Globalize.numberFormat["%"]||"%",a=r.length&&r[r.length-1]==s;r=r.substr(0,o),a&&r.indexOf(s)<0&&(r+=s)}return r}return null},n._WJC_RADIOMAP="wj-radio-map",n._WJC_CHECKBOX="wj-cell-check",n._WJC_COLLAPSE="wj-elem-collapse",n._WJC_DROPDOWN="wj-elem-dropdown",n._WJC_PIN="wj-elem-pin",n._tplDdBtn=rI(n._WJC_DROPDOWN,"down"),n._tplCtx={row:null,col:null,value:null,text:null,item:null},n}();function iI(n,t,e,i,r,o){var s=St._tplCtx;s.value=e,s.text=i,s.item=r.dataItem,s.row=r,s.col=o;var a=le(n)?DT(n,s):n(s,t);null!=a&&(t.innerHTML=a)}function $y(n,t,e){return n.editRange&&n.editRange.contains(t,e)}function Ol(n){return'<span class="wj-glyph-'+n+'"></span>'}function rI(n,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",n).replace("{glyph}",Ol(t))}var es,oI=function(){function n(t){var e=this;this._rng=null,this._edt=null,this._edItem=null,this._edtCanceled=!1,this._list=null,this._fullEdit=!1,this._evtInput=null,this._evtChange=null,this._cstEdtValue=null,this._validating=!1,this._g=t,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),t.selectionChanging.addHandler(function(r,o){if(e.finishEditing()){var s=t._selHdl.selection.row;if(s!=o.row){var a=t.rows.length;(s>-1&&s<a?t.rows[s].dataItem:null)!=(o.row>-1&&o.row<a?t.rows[o.row].dataItem:null)&&e._commitRowEdits()}}else o.cancel=!0}),t.lostFocus.addHandler(function(){var r=Oe();r&&"fixed"==getComputedStyle(r).position?e.finishEditing():e._commitRowEdits()});var i=t.hostElement;t.addEventListener(i,"mousedown",function(r){if(!r.defaultPrevented&&0==r.button&&!t._mouseHdl._szRowCol){var o=t.hitTest(r);o.cellType!=Y.Cell&&o.cellType!=Y.None&&(e.finishEditing()||e.finishEditing(!0))}},!0),t.addEventListener(i,"compositionend",this._keypress.bind(this))}return n.prototype.startEditing=function(t,e,i,r,o){void 0===t&&(t=!0);var s=this._g,a=s._selHdl.selection;if(e=N(e,!0,!0),i=le(i)?s.columns.indexOf(i):N(i,!0,!0),null==e&&(e=a.row),null==i&&(i=a.col),null==r&&(r=!0),!this._allowEdit(e,i))return!1;var l=s.getMergedRange(s.cells,e,i,!1);l||(l=new $(e,i));var c=s.rows[e].dataItem;if(s.scrollIntoView(l.row,l.col,!0),!s.select(l,!0)||!s.rows[e]||c!=s.rows[e].dataItem)return!1;if(this.activeEditor){if(l.equals(this._rng))return!0;if(!this.finishEditing())return!1}var u=new et(s.cells,l,o);if(!s.onBeginningEdit(u))return!1;var d=s.editableCollectionView,h=!1;d&&((h=(c=s.rows[e].dataItem)!=d.currentEditItem)&&s.onRowEditStarting(u),d.editItem(c),h&&(s.onRowEditStarted(u),this._edItem=c));var f=s.rows[e],p=s._getBindingColumn(s.cells,e,s.columns[i]),g=p.dataMap||f.dataMap,m=fi.RadioButtons,y=f.dataMap&&f.dataMapEditor==m||p.dataMap&&p.dataMapEditor==m;if(this._fullEdit=M(t),this._rng=l,this._list=null,g&&!y&&!p.editor){var _=g.getDisplayValues(c);(p.isContentHtml||f.isContentHtml)&&(_=_.map(function(I){return Sr(I)})),this._list=_}if(y){var v=s._activeCell||s.hostElement.querySelector(".wj-cell.wj-state-active");if(v){var w=o?o.target:null;w instanceof HTMLSpanElement&&(w=te(w,"label")),w instanceof HTMLLabelElement&&(w=w.querySelector("input")),this._edt=w instanceof HTMLInputElement?w:v.querySelector("input"),this._updateRowHeaderCell(e)}}else l.isSingleCell?this._updateEditorCell(e,i,h):s.refresh(!1);var D=this._edt;if(D){if("checkbox"==D.type||"radio"==D.type)this._fullEdit=!1;else if(r){var T=0,S=D.value.length,P=!1,j=ve.Globalize.numberFormat["%"]||"%",B=s.getCellData(e,i,!1);if(Be(B)?P=D.value.indexOf(j)>-1:null==B&&(P=/^p/i.test(p.format))&&D.value.indexOf(j)<0&&(D.value+=j),P){var Z=D.value;for(T=0,S=Z.length;S>0&&(Z[S-1]==j||" "==Z[S-1]);)S--;for(;T<S&&Z[T]==j;)T++}o&&"keydown"==o.type&&o.keyCode==E.Space&&(T=S),xe(D,T,S),ht()&&"right"==D.style.textAlign&&(D.style.paddingRight="1px")}s.onPrepareCellForEdit(u)}return r&&!s.containsFocus()&&s.focus(),null!=D&&!D.disabled&&!D.readOnly},n.prototype.finishEditing=function(t){var e=this._edt;if(!e)return this._removeListBox(),!0;var i=this._g,r=this._rng,o=new uf(i.cells,r),s=i.containsFocus();if(!t){var a=i.hostElement.querySelector(".wj-control.wj-state-focused");if(a){var l=R.getControl(a);l&&l.containsFocus()&&l.onLostFocus(o)}}if(o.cancel=t,!t&&i.validateEdits&&(_=this._getValidationError())){o.cancel=!0;var c=i.cells.getCellElement(r.row,r.col);c&&(this._setCellError(c,_),o.stayInEditMode=!0)}if(this._cstEdtValue=null,o.data=i.cells.getCellData(r.topRow,r.leftCol,!1),!i.onCellEditEnding(o)&&o.stayInEditMode)return s?setTimeout(function(){e.select()}):e.select(),this._fullEdit=!0,!1;if(!o.cancel){for(var u=this._cstEdtValue,d=u&&!Jo(u.value)?u.value:i.cellFactory.getEditorValue(i),h=r.topRow;h<=r.bottomRow&&h<i.rows.length;h++)for(var f=r.leftCol;f<=r.rightCol&&f<i.columns.length;f++){var _,p=i._getBindingColumn(i.cells,h,i.columns[f]),g=i.rows[h],m=p&&p.dataMap||g&&g.dataMap;if(!i.cells.setCellData(h,f,d,!m||m.serializeKeys,!1)&&i.validateEdits&&(_=this._getValidationError(!0))){o.cancel=!0;var v=i.cells.getCellElement(r.row,r.col);return v&&(this._setCellError(v,_),o.stayInEditMode=!0),!1}}e.value==this._edtValue&&e.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._edtCanceled=o.cancel,this._removeListBox();var w=te(e,".wj-cell");return oe(w,Oe())&&i._setFocusNoScroll(w),!o.cancel&&o.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(r.row,r.col,!1),s&&i.focus(),i.onCellEditEnded(o),!0},n.prototype._setCustomEditorValue=function(t){this._cstEdtValue={value:t}},n.prototype._setCellError=function(t,e){var i=this._g;""==e&&(e=null),ge(t,"wj-state-invalid",null!=e);var r=i.errorTip,o=i.activeEditor;r?(r.setTooltip(t,e),o&&oe(t,o)&&F(o,"title","")):F(t,"title",e),o&&t==i.activeCell&&!oe(t,o)&&r&&r.setTooltip(o,e)},Object.defineProperty(n.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),n.prototype.getClipString=function(t,e,i,r){var o,s=this,a=this._g,l=a.selectionMode,c=[],u=0!=(e&Zr.CSV),d=u?"\r\n":"\n",h=u?",":"\t",f=0!=(e&Zr.InvisibleRows),p=Ke,g=null!=t;if(!t&&l!=p.ListBox)for(var m=a.rows,y=0;y<m.length;y++)if(m[y].isSelected){l=p.ListBox;break}if(!t)switch(a._selHdl._expandSelection(),t=a.selection,l){case p.Row:case p.RowRange:case p.ListBox:t.col=0,t.col2=a.columns.length-1;break;case p.MultiRange:var _=a.selectedRanges;if(_.length>1){var v=this._sameCols(_),w=this._sameRows(_);if(v||w){(_=_.slice()).sort(function(I,Q){return I.topRow-Q.topRow||I.leftCol-Q.leftCol});for(var D=0;D<_.length;D++)for(var T=_[D],S=D+1;S<_.length;S++)T.contains(_[S])&&(_.splice(S,1),S--);if(v){var P=[];return _.forEach(function(I){P.push(s.getClipString(I,e,i,r)),i=!1}),P.join(d)}var j;if(w)return _.forEach(function(I){var Q=s.getClipString(I,e,i,r).split(d);null==j?(j=Q,r=!1):Q.forEach(function(Ue,Vt){j[Vt]+=h+Ue})}),j.join(d)}}}if(i&&t.col>-1&&t.col2>-1&&(o=a.columnHeaders).rows.forEach(function(I,Q){if(f||I.isVisible){var Ue=s._getRowClipString(o,Q,t,e,r);c.push(Ue)}}),t.row>-1&&t.row2>-1)if(o=a.cells,l!=p.ListBox||g){for(J(t.bottomRow<o.rows.length,"Row index must be less than the number of rows."),D=t.topRow;D<=t.bottomRow;D++)if(f||o.rows[D].isVisible){var Z=this._getRowClipString(o,D,t,e,r);c.push(Z)}}else o.rows.forEach(function(I,Q){if(I.isSelected&&(f||I.isVisible)){var Ue=s._getRowClipString(o,Q,t,e,r);c.push(Ue)}});return c.join(d)},n.prototype._getRowClipString=function(t,e,i,r,o){var s=[],a=t.rows[e],c=0!=(r&Zr.CSV),u=0!=(r&Zr.InvisibleColumns),d=0==(r&Zr.Unformatted),h=0!=(r&Zr.SkipMerged);if(a.isVisible){if(o)for(var f=t.cellType==Y.ColumnHeader?t.grid.topLeftCells:t.grid.rowHeaders,p=0;p<f.columns.length;p++)if(u||f.columns[p].isVisible){var g=f.getCellData(e,p,!0);h&&this._skipMergedCell(t,null,e,p)&&(g=""),s.push(this._getCellClipString(g,r))}if(i.col>-1&&i.col2>-1)for(J(i.rightCol<t.columns.length,"Column index must be less than the number of columns."),p=i.leftCol;p<=i.rightCol;p++)(u||t.columns[p].isVisible)&&(!(g=t.getCellData(e,p,d))&&a instanceof Dt&&p==t.columns.firstVisibleIndex&&(g=Sr(a.getGroupHeader())),h&&this._skipMergedCell(t,null,e,p)&&(g=""),s.push(this._getCellClipString(g,r)))}return s.join(c?",":"\t")},n.prototype._skipMergedCell=function(t,e,i,r){var o=t.grid.getMergedRange(t,i,r,!1);return!(!o||(e&&(o.row=Math.max(e.topRow,o.row),o.col=Math.max(e.leftCol,o.col)),o.row==i&&o.col==r))},n.prototype._getCellClipString=function(t,e){le(t)||(t=yt(t)?t.toJSON():null!=t?t.toString():""),t=t.replace(/\t/g," ");var i=0!=(e&Zr.QuoteAll);return(i=i||/\n|^"|"$/.test(t))||0==(e&Zr.CSV)||(i=t.indexOf(",")>-1),i&&(t='"'+(t=t.replace(/"/g,'""'))+'"'),t},n.prototype._sameRows=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].topRow!=e.topRow||t[i].bottomRow!=e.bottomRow)return!1;return!0},n.prototype._sameCols=function(t){for(var e=t[0],i=1;i<t.length;i++)if(t[i].leftCol!=e.leftCol||t[i].rightCol!=e.rightCol)return!1;return!0},n.prototype.setClipString=function(t,e){var i=this,r=this._g,o=r.editableCollectionView,s=null==e,a=Ke;if(s)switch(r._selHdl._expandSelection(),e=r.selection,r.selectionMode){case a.Row:case a.RowRange:case a.ListBox:e.col=0,e.col2=r.columns.length-1;break;case a.MultiRange:var l=r.selectedRanges;if(l.length>1)return o&&o.beginUpdate(),l.forEach(function(D){r.setClipString(t,D)}),o&&o.endUpdate(),void(r.selectedRanges=l)}e=ot(e,$);var c=this._parseClipString(k(t));!s&&c.length>e.rowSpan&&(c=c.slice(0,e.rowSpan)),this._expandClipRows(c,e);var u=s?new $(e.topRow,e.leftCol,e.topRow+c.length-1,e.leftCol+c[0].length-1):e,d=new et(r.cells,u,t);if(!r.onPasting(d))return!1;u=new $(e.topRow,e.leftCol);var h=new et(r.cells,new $(e.topRow,-1)),f=!1,p=0,g=e.topRow,m=r.rows,y=r.columns,_=this._deferPaste(e,c.length);if(r.deferUpdate(function(){var D=-1;o&&_&&(D=o.currentPosition,o.beginUpdate());for(var T=0;T<c.length&&g<m.length;T++,g++){var S=m[g];if(S.isVisible){var P=S.dataItem,j=o?o.currentEditItem:null;j&&P!=j&&(r.onRowEditEnding(h),r.onRowEditEnded(h)),P!=j&&(h._rng.setRange(g,-1),r.onRowEditStarting(h),r.onRowEditStarted(h)),S instanceof Nt&&o&&(_&&(S.dataItem=o.addNew()),h._rng.setRange(r.newRowAtTop?0:g+p,-1),r.onRowEditStarting(h),r.onRowEditStarted(h));for(var B=c[T],Z=e.leftCol,I=0;I<B.length&&Z<y.length;I++,Z++){var Q=y[Z];if(Q.isVisible){if(i._allowEdit(g,Z)){var Ue=B[I],Vt=Ue.length;Vt>1&&'"'==Ue[0]&&'"'==Ue[Vt-1]&&Ue.indexOf("\n")>-1&&(Ue=Ue.substr(1,Vt-2));var O=Q.maxLength||S.maxLength;O&&(Ue=Ue.substr(0,O));var L=new et(r.cells,new $(g+p,Z),Ue);if(r.onPastingCell(L)){o&&(o.editItem(P),i._edItem=o.currentEditItem);var W=r.getCellData(g,Z,!1);r.setCellData(g,Z,L.data)&&(L.data=W,r.onPastedCell(L),f=!0)}u.row2=Math.max(u.row2,g+p),u.col2=Math.max(u.col2,Z)}}else I--}if(i._edItem&&o instanceof Ji){var ce=new Ki(Ft.Change,i._edItem,g);o.onCollectionChanged(ce)}S instanceof Nt&&o&&_&&(S.dataItem=null,f?(h._rng.setRange(r.newRowAtTop?0:g+p,-1),r.onRowEditEnding(h),r.onRowEditEnded(h),g--,p++,o.commitNew()):o.cancelNew())}else T--}if(o)if(_)o.currentEditItem&&(o.commitEdit(),r.onRowEditEnding(h),r.onRowEditEnded(h)),o.moveCurrentToPosition(D),o.endUpdate(!0);else{var Ge=o.currentAddItem;!Ge&&0==e.row&&r.newRowAtTop&&m[0]instanceof Nt&&(Ge=m[0].dataItem),Ge&&(o.editItem(Ge),i._edItem=Ge)}u.rowSpan>1&&0==u.topRow&&m[0]instanceof Nt&&(u.row=u.row2=0),r.select(u)}),r.onPasted(d),f&&te(r.hostElement,"form")){var v=document.createEvent("HTMLEvents"),w=Je("<input>",r.hostElement);v.initEvent("change",!0,!1),w.dispatchEvent(v),Tt(w)}},n.prototype._deferPaste=function(t,e){var i=this._g.rows,r=i.length;return e>1&&(r>1&&i[0].dataItem!=i[1].dataItem||1==r&&i[0]instanceof Nt)},n.prototype._parseClipString=function(t){t=(t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"");var e=0,i=0,r=[];for(e=0;e<t.length;e++){var o='"'==t[e],s=!1,a=!1;for(i=e;i<t.length&&!a;i++){var l=t[i];switch(l){case'"':o&&(s=!s);break;case"\t":case"\n":s||(this._parseClipCell(r,t,e,i,"\n"==l),e=i,i==t.length-1&&(e=i+1),a=!0)}}if(i==t.length){this._parseClipCell(r,t,e,i,!1);break}}return 0==r.length&&r.push([""]),r},n.prototype._parseClipCell=function(t,e,i,r,o){t.length||t.push([]);var s=e.substr(i,r-i),a=s.length;a>2&&'"'==s[0]&&'"'==s[a-1]&&s.indexOf('""')>-1?s=(s=s.substr(1,a-2)).replace(/""/g,'"'):"\t"==s&&(s=""),t[t.length-1].push(s),o&&t.push([])},n.prototype._expandClipRows=function(t,e){for(var i=t.length,r=0,o=0;o<i;o++)r=Math.max(r,t[o].length);for(var s=this._g,a=0,l=0,c=e.topRow;c<=e.bottomRow;c++)s.rows[c].isVisible&&a++;for(var u=e.leftCol;u<=e.rightCol;u++)s.columns[u].isVisible&&l++;if((a>1||l>1)&&(1==a&&(a=i),1==l&&(l=r),l%r==0&&a%i==0)){for(u=r;u<l;u++)for(c=0;c<i;c++)t[c].push(t[c%i][u%r]);for(c=i;c<a;c++)t.push(t[c%i])}},n.prototype._updateEditorCell=function(t,e,i){var r=this._g,o=r.cells.getCellElement(t,e),s=r._useFrozenDiv()&&(t<r.frozenRows||e<r.frozenColumns);!o||s||r._hasPendingUpdates()?r.refresh(!1):r.onUpdatingView(new ft)&&(this._updateCell(o),(i||r._getHasValidation())&&this._updateRowHeaderCell(t),r.onUpdatedView())},n.prototype._updateRowHeaderCell=function(t){var e=this._g;if(e.headersVisibility&sn.Row){var i=e.rowHeaders,r=e._getEditColumnIndex(),o=i.getCellElement(t,r);o&&this._updateCell(o)}},n.prototype._updateCell=function(t){var e=new Du(t,null),i=Ti._WJS_UPDATING;e.panel&&(ze(t,i),e.grid.cellFactory.updateCell(e.panel,e.row,e.col,t,e.range),ei(t,i))},n.prototype._getValidationError=function(t){var e=this,i=this._g,r="";if(i&&this._rng&&!this._validating){var o=this._rng.row,s=this._rng.col,a=i.activeEditor,l=i.cellFactory.getEditorValue(i),c=i.getCellData(o,s,!1);if(t&&(r=i._getError(i.cells,o,s,!0)),!r&&i._getHasValidation()){if(a&&(r=a.validationMessage),!r){var d=i.rows[o];!i._getBindingColumn(i.cells,o,i.columns[s]).getIsRequired(d)||null!=l&&""!==l||(r=this._getRequiredMsg())}!r&&i.setCellData(o,s,l,!0,!1)&&(r=i._getError(i.cells,o,s,!1),i.setCellData(o,s,c,!1,!1))}if(!r){var h=R.getControl(te(a,".wj-control"));if(h&&h!=i&&h.invalidInput.hasHandlers){var f=function(m,y){y.cancel&&(r=i._getError(i.cells,o,s,!0)||e._getBadInputMsg(),y.cancel=!1)};this._validating=!0;var p=a.value;if(h.invalidInput.addHandler(f),h._containsFocus()){var g=te(h.hostElement,".wj-cell");g&&g.focus()}h.onLostFocus(),h.invalidInput.removeHandler(f),a.value=p,a.select(),this._validating=!1}}}return r},n.prototype._getRequiredMsg=function(){if(!n._msgRequired){var t=document.createElement("input");t.required=!0,n._msgRequired=t.validationMessage}return n._msgRequired},n.prototype._getBadInputMsg=function(){if(!n._msgBadInput){var t=document.createElement("input");t.pattern="x",t.value="a",n._msgBadInput=t.validationMessage||"Bad Input"}return n._msgBadInput},n.prototype._allowEdit=function(t,e){var i=this._g;if(i.isReadOnly||i.selectionMode==Ke.None||i.collectionView&&!i.editableCollectionView)return!1;if(null!=t){if(t<0||t>=i.rows.length)return!1;var r=i.rows[t];if(!r||r.isReadOnly||!r.isVisible)return!1}if(null!=e){if(e<0||e>=i.columns.length)return!1;var o=i._getBindingColumn(i.cells,t,i.columns[e]);if(!o||o.isReadOnly||!o.isVisible)return!1}return!0},n.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var e=t.editableCollectionView;if(e&&(e.currentEditItem||e.currentAddItem)){var i=new et(t.cells,t.selection);t.onRowEditEnding(i),e.commitEdit(),t.onRowEditEnded(i)}this._edItem=null}},n.prototype._keydown=function(t){var e=this._edt;switch(t.keyCode){case E.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case E.F4:return this._toggleListBox(t),t.preventDefault(),!0;case E.Space:return e&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&(Hs(e,e.indeterminate||!e.checked),this.finishEditing(),t.preventDefault()),!0;case E.Enter:if(t.preventDefault(),e&&t.altKey){var i=t.target;if(i instanceof HTMLTextAreaElement&&"soft"==i.wrap){i.style.setProperty("ime-mode","auto","important");var r=i.value,o=i.selectionStart,s=i.selectionEnd;i.value=r.substr(0,o)+"\n"+r.substr(s),xe(i,o+1),i.style.imeMode=""}return!0}return e&&this._lbx?(this._toggleListBox(t),!0):!this.finishEditing();case E.Tab:return t.preventDefault(),!this.finishEditing();case E.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case E.Up:case E.Down:case E.Left:case E.Right:case E.PageUp:case E.PageDown:case E.Home:case E.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case E.Up:case E.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(this._fullEdit)switch(t.keyCode){case E.PageUp:case E.PageDown:t.preventDefault()}else if(this.finishEditing())return!1}return!0},n.prototype._keydownListBox=function(t){var e=!0;if(this._lbx)switch(t.keyCode){case E.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case E.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case E.Home:case E.PageUp:this._lbx.selectedIndex=0;break;case E.End:case E.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:e=!1}return!!e&&(t.preventDefault(),!0)},n.prototype._keypress=function(t){if("AltLeft"!=t.code&&"AltRight"!=t.code){var e=this._edt,i=t.charCode||32,r=this._list;if(e&&"checkbox"!=e.type&&Oe()==e&&r&&r.length>0&&i>=32){var o=e.selectionStart,s=e.value.substr(0,o);t.target==e&&t.charCode&&(s+=String.fromCharCode(t.charCode),o++);var a=this._findString(r,s,!0);if(a<0&&!this._g.caseSensitiveSearch&&(a=this._findString(r,s,!1)),a>-1){var l=this._lbx;l&&(l.selectedIndex=a),e.value=r[a],xe(e,o,e.value.length),e.dispatchEvent(this._evtInput),t.preventDefault&&t.preventDefault()}}}else t.preventDefault()},n.prototype._findString=function(t,e,i){i||(e=e.toLowerCase());for(var r=0;r<t.length;r++){var o=t[r];if(null!=o&&(o=o.toString(),i||(o=o.toLowerCase()),0==o.indexOf(e)))return r}return-1},n.prototype._toggleListBox=function(t,e){var i=this._g,r=i._selHdl.selection,o=i.isTouching;if(e||(e=r),this._lbx&&(this._removeListBox(),r.intersects(e)))return i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0;if(!e.isValid)return!1;var s=i.rows[e.row],a=i._getBindingColumn(i.cells,e.row,i.columns[e.col]),l=s.dataMap||a.dataMap,c=i._getMapEditor(s,a);if(!l||c!=fi.DropDownList||!ff()||null!=a.editor||!e.intersects(i.editRange)&&!this.startEditing(!0,e.row,e.col,!o,t))return!1;var u=this._lbx=this._createListBox();return requestAnimationFrame(function(){return u.showSelection()}),o&&u.focus(),!0},n.prototype._createListBox=function(){var t=this,e=this._g,i=e.activeEditor,r=this._rng,o=e.rows[r.row],s=e._getBindingColumn(e.cells,r.row,e.columns[r.col]),a=s.isContentHtml||o.isContentHtml,l=s.dataMap||o.dataMap,c=s.dropDownCssClass||o.dropDownCssClass,u=document.createElement("div");this._removeListBox(),ze(u,"wj-dropdown-panel wj-grid-listbox"),ze(u,c);var d=i?i.value:e.getCellData(r.row,r.col,!0),h=new zs(u,{maxHeight:4*o.renderHeight,isContentHtml:a,itemsSource:l.getDisplayValues(o.dataItem),selectedValue:d});h.addEventListener(u,"keydown",function(g){switch(g.keyCode){case E.Enter:case E.Escape:t._removeListBox(),e.focus()}}),h.addEventListener(u,"click",function(){t._removeListBox(),e.focus(),t.finishEditing()}),h.gotFocus.addHandler(function(){h.containsFocus()&&i&&i.focus()}),h.selectedIndexChanged.addHandler(function(){var g=e.activeEditor;g&&(g.value=t._list[h.selectedIndex],g.dispatchEvent(t._evtInput),xe(g,0,g.value.length))});var f=e.cells.getCellElement(r.row,r.col);return f?(xi(u,f,!1,!1,!1),F(f.querySelector("."+St._WJC_DROPDOWN),"aria-expanded",!0)):(xi(u,e.getCellBoundingRect(r.row,r.col)),u[R._OWNR_KEY]=e.hostElement),h},n.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,Tr(t.hostElement,function(){t.dispose()}))},n._msgRequired="",n._msgBadInput="",n}(),sI=function(){function n(t,e){this._col=ot(t,on),this._ctl=e,this._tbx=e.hostElement.querySelector("input"),J(this._col instanceof on,"Invalid Column"),J(this._ctl instanceof R,"Invalid edit control"),J(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var i=this._ctl;this._prop=Jo(i.value)?Jo(i.checkedItems)?Jo(i.text)?null:"text":"checkedItems":"value",J(null!=this._prop,"value, text properties not found in editor");var r=ff();r&&(this._isDropDown=i instanceof r.DropDown,this._isComboBox=i instanceof r.ComboBox,this._isAutoComplete=i instanceof r.AutoComplete,this._isInputDateTime=i instanceof r.InputDateTime,this._isInputMask=i instanceof r.InputMask),this._updateFocusBnd=this._updateFocus.bind(this),this._keypressBnd=this._keypress.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._connect(),this._col.gridChanged.addHandler(this._connect,this),this._hideEditor(),this._updateFocus()}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},n.prototype._connect=function(){var t=this._col?this._col.grid:null;if(t!=this._g&&(this._disconnect(),t)){var e=t.hostElement,i=t.addEventListener.bind(t),r=this._updateFocusBnd;this._g=t,i(e,"keydown",this._keydownBnd,!0),i(e,"keypress",this._keypressBnd,!0),i(e,"mousedown",this._mousedownBnd,!0),i(e,"mouseup",r,!0),i(e,"blur",r,!0),i(e,"focus",r),i(this._tbx,"compositionstart",this._cmpstartBnd),t.selectionChanged.addHandler(r,this),t.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}},n.prototype._disconnect=function(){var t=this._g;if(t){var e=t.hostElement,i=t.removeEventListener.bind(t),r=this._updateFocusBnd;i(e,"keydown",this._keydownBnd),i(e,"keypress",this._keypressBnd),i(e,"mousedown",this._mousedownBnd),i(e,"mouseup",r),i(e,"blur",r),i(e,"focus",r),i(this._tbx,"compositionstart",this._cmpstartBnd),t.selectionChanged.removeHandler(r,this),t.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),t.cellEditEnding.removeHandler(this._cellEditEnding,this),t.cellEditEnded.removeHandler(this._cellEditEnded,this),this._g=null}},n.prototype._prepareCellForEdit=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,r=this._ctl,o=this._tbx,s=this._prop,a=e.range,l=e.data,c=l?l.type:"",u=i.getCellData(a.row,a.col,"text"==s||this._isInputMask),d=!1;switch(this._isComboBox&&(this._isAutoComplete&&(r._oldText=""),r.isRequired||(r.selectedIndex=-1,o.value=""),this._isInputDateTime&&r._setDropdown(r._ddDate)),"checkedItems"==s&&(r.showFilterInput&&(r.showFilterInput=!1,r.showFilterInput=!0),(null==u||0==u.length)&&(r[s]=[],r.selectedIndex=0)),(null!=u||!r.isRequired)&&(r[s]=u,this._isAutoComplete&&(clearTimeout(r._toSearch),u&&(r.selectedIndex=r._findNext(u,1,-1)))),c){case"keydown":case"mousedown":if((Jo(l.keyCode)||l.keyCode==E.F4||l.altKey)&&(d=this._isDropDown,this._isAutoComplete&&(null==u||le(u)))){var h=r.collectionView;h&&((h.filter||r._rxHighlight)&&(r._rxHighlight=null,h.filter=null),r.selectedIndex=u?r._findNext(u,1,-1):-1)}}i.showPlaceholders&&!r.placeholder&&(o.placeholder=this._col.header),this._showEditor(),i._edtHdl._fullEdit=!0,0==c.indexOf("key")&&32==l.keyCode&&(xe(o,o.value.length),l.preventDefault()),ht()&&("keypress"==c&&l.key?(setTimeout(function(){o.value=l.key,xe(o,1);var p=document.createEvent("HTMLEvents");p.initEvent("input",!0,!1),o.dispatchEvent(p)}),l.preventDefault()):"compositionstart"==c&&xe(o,o.value.length)),this._isDropDown&&(r.isDroppedDown=d)}},n.prototype._cellEditEnding=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var i=this.grid,r=this._ctl,o=this._prop;if(this._isAutoComplete){var s=r.selectedIndex;if(Be(s)&&s<0){var a=r.collectionView;a&&1==a.items.length?r.selectedIndex=0:this._col.isRequired&&(e.cancel=!0)}}!e.cancel&&o&&i._edtHdl._setCustomEditorValue(r[o])}},n.prototype._cellEditEnded=function(t,e){this._hideEditor(),this._updateFocus()},n.prototype._cmpstart=function(t){var e=this;ht()?setTimeout(function(){e._activateEditor(t)}):this._activateEditor(t)},n.prototype._keypress=function(t){t.defaultPrevented||this.grid.activeEditor||!this._checkColumn(t.target)||t.ctrlKey||t.altKey||t.metaKey||27==t.keyCode||this._activateEditor(t)},n.prototype._keydown=function(t){if(!t.defaultPrevented&&this._checkColumn(t.target))if(this.grid.activeEditor){if(t.keyCode==E.Enter&&this._isDropDown){var e=this._ctl;e.isDroppedDown&&(e.isDroppedDown=!1,t.preventDefault(),t.stopImmediatePropagation())}}else if(this._isDropDown){var i=t.keyCode;switch(i){case E.F4:case E.Up:case E.Down:(i==E.F4||t.altKey)&&(this._activateEditor(t),t.preventDefault())}}},n.prototype._checkColumn=function(t){if(oe(t,this._tbx)){var e=this._g,i=e._selHdl.selection;return e._getBindingColumn(e.cells,i.row,e.columns[i.col])==this._col}return!1},n.prototype._mousedown=function(t){if(!t.defaultPrevented&&0==t.button&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this._isDropDown&&di(t.target,St._WJC_DROPDOWN)){var e=this.grid,i=e.hitTest(t);i.getColumn(!0)==this._col&&(e.select(i.range),e.refresh(),this._activateEditor(t),t.preventDefault())}},n.prototype._activateEditor=function(t){var e=this.grid;if(!e.activeEditor){var i=e._selHdl.selection;if(i.isValid)return e.startEditing(!0,i.row,i.col,!0,t)}return!1},n.prototype._showEditor=function(){var t=this.grid,e=t.activeEditor,i=te(e,".wj-cell");if(i){var r=this._tbx,o=this._ctl.hostElement;G(o,n._cssVisible),ge(r,"wj-grid-ime",!1),i.innerHTML="",i.appendChild(o),t._edtHdl._edt=r,r.select(),r.focus(),e.value=""}},n.prototype._hideEditor=function(){var t=this.grid,e=this._ctl.hostElement,i=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),i.setCustomValidity("");var r=i.value;i.value=r+" ",i.value=r,G(e,n._cssHidden),ge(i,"wj-grid-ime",!0),t&&e.parentElement!=t._root&&t._root.appendChild(e)},n.prototype._updateFocus=function(){var t=this.grid;if(t&&!t.activeEditor){var e=t.hostElement,i=".wj-flexgrid",r=this._tbx,o=Oe(),s=t._getTabIndex();if(te(o,i)==e)if(te(r,i)!=e)this._hideEditor();else{var a=t._selHdl.selection,l=t._getBindingColumn(t.cells,a.row,t.columns[a.col]);l&&l==this._col&&t.canEditCell(a.row,a.col)?(r.tabIndex=s,r.select(),r.focus()):r.tabIndex>-1&&(r.tabIndex=-1,o==r&&t.focus(!0))}}},n._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},n._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},n}();!function(n){n[n.None=0]="None",n[n.MoveDown=1]="MoveDown",n[n.MoveAcross=2]="MoveAcross",n[n.Cycle=3]="Cycle",n[n.CycleOut=4]="CycleOut",n[n.CycleEditable=5]="CycleEditable"}(es||(es={}));var Rr,xo,Xr,aI=function(){function n(t){this._kaTab=es.None,this._kaEnter=es.MoveDown,this._g=t;var e=t.hostElement;t.addEventListener(e,"keypress",this._keypress.bind(this)),t.addEventListener(e,"keydown",this._keydown.bind(this))}return n.prototype._keydown=function(t){var e=this._g,i=e._edtHdl,r=e.selection,o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=t.altKey,l=t.target,c=t.char||t.key,u=!0;if(!o&&!a&&c&&1==c.length&&te(l,".wj-cell")&&l.firstElementChild&&(" "!=c||!s)){var d=l.querySelectorAll("."+St._WJC_RADIOMAP+" label input");if(d&&d.length){for(var h=-1,f=0;f<d.length;f++)if(d[f].checked){h=f;break}for(c=c.toLowerCase(),f=0;f<d.length;f++){var p=d[(h+f+1)%d.length];if(" "==c||p.value.toLowerCase()[0]==c)return p.click(),void t.preventDefault()}}}if(!e._wantsInput(l)){var g=Di(e.rows[r.row],Dt),m=e.editableCollectionView,y=e._getKeyCode(t),_=Jr,v=Ke,w=t.defaultPrevented&&!(l instanceof HTMLInputElement);if((e.isRangeValid(r)&&!w||o&&65==y)&&(!e.activeEditor||!i._keydown(t)||e._isNativeCheckbox(e.activeEditor))){if(e.autoClipboard){if(o&&(67==y||45==y)){var D=new et(e.cells,r);if(e.onCopying(D)){var j=e.getClipString(null,!1,0!=(e.copyHeaders&sn.Column),0!=(e.copyHeaders&sn.Row))+"\r\n";e._eFocus.focus(),Fy.copy(j),e.onCopied(D)}return void t.stopPropagation()}if(o&&86==y||s&&45==y)return e.isReadOnly||Fy.paste(function(I){e.setClipString(I)}),void t.stopPropagation()}switch((s||o)&&"Space"==t.code&&(y=E.Space),y){case E.Space:if(s&&r.isValid)switch(e.selectionMode){case v.CellRange:case v.MultiRange:case v.Row:case v.RowRange:case v.ListBox:e.select(new $(r.row,0,r.row,e.columns.length-1),!1)}else if(o&&r.isValid)switch(e.selectionMode){case v.CellRange:case v.MultiRange:e.select(new $(0,r.col,e.rows.length-1,r.col),!1)}else(u=this._startEditing(!0,t))&&setTimeout(function(){var I=e.activeEditor;I&&(I.disabled||I.readOnly&&!te(I,".wj-control")?e.finishEditing():"checkbox"==I.type&&(Hs(I,I.indeterminate||!I.checked),e.finishEditing()))}),u=!0;break;case 65:if(o)switch(e.selectionMode){case v.None:case v.Cell:break;default:e.selectAll()}else u=!1;break;case E.Left:o||a?u=!1:r.isValid&&0==r.leftCol&&g&&!g.isCollapsed&&g.hasChildren?g.isCollapsed=!0:this._moveSel(_.None,o?_.Home:_.Prev,s);break;case E.Right:o||t.altKey?u=!1:r.isValid&&0==r.leftCol&&g&&g.isCollapsed?g.isCollapsed=!1:this._moveSel(_.None,o?_.End:_.Next,s);break;case E.Up:o?u=!1:t.altKey&&i._toggleListBox(t)?u=!0:this._moveSel(_.Prev,_.None,s);break;case E.Down:o?u=!1:t.altKey&&i._toggleListBox(t)?u=!0:this._moveSel(_.Next,_.None,s);break;case E.PageUp:if(this._moveSel(t.altKey?_.Home:_.PrevPage,_.None,s),e.rows.frozen&&e.selection.row<e.rows.frozen){var B=e.scrollPosition;B.y&&(e.scrollPosition=new ti(B.x,0))}break;case E.PageDown:this._moveSel(t.altKey?_.End:_.NextPage,_.None,s);break;case E.Home:this._moveSel(o?_.Home:_.None,_.Home,s);break;case E.End:this._moveSel(o?_.End:_.None,_.End,s);break;case E.Tab:u=this._performKeyAction(e.keyActionTab,s);break;case E.Enter:u=this._performKeyAction(e.keyActionEnter,s),!s&&m&&null!=m.currentEditItem&&i._commitRowEdits();break;case E.Escape:if(u=!1,m&&(m.currentAddItem||m.currentEditItem)){var Z=new et(e.cells,e.selection);Z.cancel=!0,e.onRowEditEnding(Z),m.currentAddItem&&m.cancelNew(),m.currentEditItem&&m.cancelEdit(),e.onRowEditEnded(Z),u=!0}e._mouseHdl.resetMouseState();break;case E.Delete:case E.Back:u=this._deleteSel(t);break;case E.F2:u=this._startEditing(!0,t);break;case E.F4:u=i._toggleListBox(t);break;default:u=!1}u&&(e.containsFocus()||e.focus(),t.preventDefault(),t.stopPropagation())}}},n.prototype._performKeyAction=function(t,e){var r=Jr;switch(t){case es.MoveDown:return this._moveSel(e?r.Prev:r.Next,r.None,!1),!0;case es.MoveAcross:return this._moveSel(r.None,e?r.Prev:r.Next,!1),!0;case es.Cycle:return this._moveSel(r.None,e?r.PrevCell:r.NextCell,!1),!0;case es.CycleEditable:return this._moveSel(r.None,e?r.PrevEditableCell:r.NextEditableCell,!1),!0;case es.CycleOut:var o=this._g.selection;return this._moveSel(r.None,e?r.PrevCell:r.NextCell,!1),!o.equals(this._g.selection)}return!1},n.prototype._keypress=function(t){var e=this,i=this._g;if(!i._wantsInput(t.target)&&!t.defaultPrevented){var r=i._edtHdl;if(i.activeEditor)r._keypress(t);else if(t.charCode>E.Space&&"AltLeft"!=t.code&&"AltRight"!=t.code)if(this._startEditing(!1,t)&&i.activeEditor){var o=Oe();if(o instanceof HTMLInputElement&&"checkbox"!=o.type||o instanceof HTMLTextAreaElement){var s=i._selHdl.selection,a=i.getCellData(s.row,s.col,!0),l=i.getCellData(s.row,s.col,!1),c=ve.Globalize.numberFormat["%"]||"%",u=String.fromCharCode(t.charCode),d=Be(l)&&a.indexOf(c)>-1||""==a&&o.value==c;o.value=d?u+c:u,xe(o,1),o.dispatchEvent(r._evtInput),r._keypress(t),r._edtValue=o.value!=a?o.value:null,t.preventDefault()}}else if(i.autoSearch){var h=!1;if(s=i._selHdl.selection,t.charCode>32||32==t.charCode&&this._search){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},R._SEARCH_DELAY);var f=this._findNext(s.row,s.col);f<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],f=this._findNext(s.row,s.col)),f>-1&&(h=!0,i.select(f,s.col))}h||(this._search="")}}},n.prototype._findNext=function(t,e){var i=this._g,r=i.rows.length;(t<0||1==this._search.length)&&t++;var o=this._search,s=i.caseSensitiveSearch;s||(o=o.toLowerCase());for(var a=i.columns[e].isContentHtml,l=0;l<r;l++){var c=(t+l)%r,u=i.getCellData(c,e,!0).trim();if(a&&(u=Sr(u)),s||(u=u.toLowerCase()),0==u.indexOf(o))return c}return-1},n.prototype._moveSel=function(t,e,i){var r=this._g;r.selectionMode!=Ke.None&&r._selHdl.moveSelection(t,e,i)},n.prototype._deleteSel=function(t){var e=this,i=this._g,r=i.rows,o=i.editableCollectionView,s=i.selection,a=[],l=new $,c=new uf(i.cells,l,t),u=Ke;if(!i._edtHdl._allowEdit())return!1;if(i.allowDelete&&(null==o||o.canRemove&&!o.isAddingNew&&!o.isEditingItem)&&0==(a=r.filter(function(g){return g.isSelected})).length)switch(i.selectionMode){case u.CellRange:case u.MultiRange:var d=i._getDeleteColumnIndex();i.selectedRanges.forEach(function(g){if(g.leftCol==d&&g.rightCol==i.columns.length-1)for(var m=g.topRow;m>-1&&m<=g.bottomRow;m++){var y=r[m];a.indexOf(y)<0&&a.push(y)}});break;case u.Row:s.topRow>-1&&a.push(r[s.topRow]);break;case u.RowRange:for(var h=s.topRow;h>-1&&h<=s.bottomRow;h++)a.push(r[h])}if(a.length>0){var f=0;if(i.deferUpdate(function(){o&&o.beginUpdate();for(var g=a.length-1;g>=0;g--){var m=a[g];m instanceof Nt||(l.setRange(m.index,-1),i.onDeletingRow(c)&&(o&&m.dataItem?o.remove(m.dataItem):i.rows.removeAt(m.index),f++,i.onDeletedRow(c)))}o&&o.endUpdate(!1)}),f>0){var p=s.topRow;for(p=Math.min(p,i.rows.length-1);p>0&&i.rows[p]instanceof Nt;)p--;s.row=s.row2=p,i.select(s,!1),i.childItemsPath&&o&&o.refresh()}return!0}return 0==a.length&&(i.deferUpdate(function(){var g=i.scrollPosition,m=-1;a=r.filter(function(w){return w.isSelected});var y=i.selectedRanges.length>1||a.length>1||s.isValid&&r[s.row].dataItem!=r[s.row2].dataItem;if(o&&o.beginUpdate(),a.length){var _=new $(0,0,0,i.columns.length-1);a.forEach(function(w){_.row=_.row2=w.index,e._deleteRange(t,_),m=_.bottomRow})}else e._deleteRange(t,s),m=s.bottomRow,i.selectionMode==u.MultiRange&&i._selHdl.extendedSelection.forEach(function(w){e._deleteRange(t,w),m=w.bottomRow});if(i.select(s,!1),i.scrollPosition=g,o){if(y&&o.currentEditItem){o.commitEdit();var v=new et(i.cells,new $(m,-1));i.onRowEditEnding(v),i.onRowEditEnded(v)}o.endUpdate(!1)}}),!0)},n.prototype._deleteRange=function(t,e){for(var i=this._g,r=i.editableCollectionView,o=new $,s=new uf(i.cells,o,t),a=new et(i.cells,new $(e.topRow,-1)),l=e.topRow;l<=e.bottomRow;l++){var c=i.rows[l];if(!c.isReadOnly)for(var u=e.leftCol;u<=e.rightCol;u++){var d=i._getBindingColumn(i.cells,l,i.columns[u]);if(!d.getIsRequired(c)&&!d.isReadOnly&&i.getCellData(l,u,!0)&&(o.setRange(l,u),s.cancel=!1,i.onBeginningEdit(s))){var h=c.dataItem,f=r?r.currentEditItem:null;f&&h!=f&&(i.onRowEditEnding(a),i.onRowEditEnded(a)),h!=f&&(a._rng.setRange(l,-1),i.onRowEditStarting(a),i.onRowEditStarted(a)),r&&(r.editItem(h),i._edtHdl._edItem=h),i.setCellData(l,u,"",!0,!1),i.onCellEditEnding(s),i.onCellEditEnded(s)}}}},n.prototype._startEditing=function(t,e,i,r){return this._g._edtHdl.startEditing(t,i,r,!0,e)},n}(),lI="wj-state-dragsrc",Wy="wj-flexgrid";!function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both",n[n.ColumnsAllCells=4|n.Columns]="ColumnsAllCells",n[n.RowsAllCells=4|n.Rows]="RowsAllCells",n[n.BothAllCells=4|n.Both]="BothAllCells"}(Rr||(Rr={})),function(n){n[n.None=0]="None",n[n.Headers=1]="Headers",n[n.Cells=2]="Cells",n[n.Both=3]="Both"}(xo||(xo={})),function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both"}(Xr||(Xr={}));var cI=function(){function n(t){var e=this,i=t.hostElement,r=t.addEventListener.bind(t),o=t.removeEventListener.bind(t);this._g=t,this._dvMarker=Je('<div class="wj-marker">&nbsp;</div>'),r(i,"mousedown",function(l){if(t._rcBounds=null,!l.defaultPrevented&&0==l.button){var c=l.target;if(!t.containsFocus()){var u=c instanceof HTMLElement&&c.tabIndex>-1?c:t._eFocus;t._setFocusNoScroll(u)}setTimeout(function(){l.defaultPrevented||t.focus()});var d=di(c,Wy);if(d&&d!=t.hostElement||!t.activeEditor&&t._isInputElement(c)&&!e._hasRadioMap(l)&&!t._isNativeCheckbox(c)){var h=t.hitTest(l),f=Y;switch(h.cellType){case f.Cell:t.select(h.range,!1),c instanceof HTMLElement&&"root"!=c.getAttribute("wj-part")&&c.focus();break;case f.ColumnHeader:case f.ColumnFooter:t.scrollIntoView(-1,h.col);break;case f.RowHeader:t.scrollIntoView(h.row,-1)}return void(ht()&&h.cellType!=f.Cell&&t._isInputElement(c)&&c.focus())}var p=document;o(p,"mousemove"),o(p,"mouseup"),r(p,"mousemove",s),r(p,"mouseup",a),e._isDown=!0,e._mousedown(l)}});var s=function(l){e._mousemove(l)},a=function(l){e._isDown=!1,o(document,"mousemove"),o(document,"mouseup"),e._mouseup(l)};r(i,"mouseenter",function(l){t._rcBounds=null}),r(i,"mousemove",this._hover.bind(this)),r(i,"dblclick",this._dblclick.bind(this)),r(i,"click",this._click.bind(this)),r(i,"selectstart",function(l){t._isInputElement(l.target)||l.preventDefault()}),r(i,"wheel",function(l){if(!l.defaultPrevented&&l.deltaY&&!l.ctrlKey&&!l.metaKey){var c=t._root,u=l.deltaY;if((l.shiftKey?c.scrollWidth>c.clientWidth:c.scrollHeight>c.clientHeight)&&di(l.target,Wy)==t.hostElement){switch(l.deltaMode){case 1:u=t.rows.defaultSize*(u<0?-1:1);break;case 2:u=(l.shiftKey?c.clientWidth:c.clientHeight)*(u<0?-1:1);break;case 0:default:wl()&&(u=qe(u,-150,150))}t.containsFocus()||t._eFocus.focus(),t.finishEditing(!1)&&(l.shiftKey?c.scrollLeft+=u:c.scrollTop+=u),l.preventDefault(),l.stopImmediatePropagation()}}}),r(i,"dragstart",this._dragstart.bind(this)),r(i,"dragover",this._dragover.bind(this)),r(i,"dragleave",this._dragover.bind(this)),r(i,"drop",this._drop.bind(this)),r(i,"dragend",this._dragend.bind(this))}return n.prototype.resetMouseState=function(){var t=this._g,e=t.hostElement;this._updating&&(this._updating=!1,t.endUpdate()),this._dragSrc&&ei(this._dragSrc,lI),this._showDragMarker(null),e&&(e.style.cursor=""),wl()&&this._szRowCol&&t.invalidate(),t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._szRowCol=null,this._szArgs=null,t._rcBounds=null},n.prototype._mousedown=function(t){var e=this._g,i=t.target,r=e.hitTest(t),o=r.cellType,s=Y,a=t.ctrlKey||t.metaKey;if(this._selDown=e.selection,this._ignoreClick=!1,r.panel==e.cells){if(di(i,St._WJC_DROPDOWN)){var l=e.hitTest(i);return e._edtHdl._toggleListBox(t,l.range),t.preventDefault(),void(this._ignoreClick=!0)}var c=e.editRange;if(c&&c.contains(r.range))return}var u=Oe();if(i!=u||!e._isInputElement(i))if(o!=s.None)if(this._htDown=r,this._eMouse=t,null==this._szRowCol){var d=e.allowResizing,h=Rr;if((o==s.RowHeader||o==s.TopLeft)&&r.edgeBottom&&d&h.Rows&&this._getResizeRowHt(r))this._ignoreClick=!0;else if((o==s.ColumnHeader||o==s.TopLeft)&&r.edgeRight&&d&h.Columns&&this._getResizeColHt(r))this._ignoreClick=!0;else{var f=e.allowDragging,p=Xr;switch(o){case s.Cell:case s.RowHeader:a&&e.selectionMode==Ke.ListBox&&(this._lbSelState=e.rows[r.row].isSelected,te(i,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(t,t.shiftKey),o==s.RowHeader&&!(f&p.Rows)&&(t.preventDefault(),e.focus());break;case s.ColumnHeader:e.allowSorting||f&p.Columns||te(i,"button")||this._mouseSelect(t,t.shiftKey)}}}else{var g=e._eFocus;u!=g&&(g.tabIndex=0,g.focus()),this._ignoreClick=!0,this._handleResizing(t)}else e.finishEditing(),i!=e._root&&i!=e._fCt&&e._edtHdl._commitRowEdits()},n.prototype._mousemove=function(t){if(this._htDown&&!t.defaultPrevented){if(0==t.buttons&&this._eMouse&&t.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else{var e=this._g,i=e.allowDragging,r=Xr;switch(this._htDown.cellType){case Y.Cell:this._mouseSelect(t,!0);break;case Y.RowHeader:i&r.Rows||this._mouseSelect(t,!0);break;case Y.ColumnHeader:i&r.Columns||e.allowSorting||this._mouseSelect(t,!0)}}}},n.prototype._mouseup=function(t){var e=this._g;if(!e.isTouching||!(this._dragSrc||t.target instanceof HTMLHtmlElement)){var i=e.hitTest(t),r=this._htDown;if(r&&!t.defaultPrevented&&(this._szArgs&&this._finishResizing(t),!this._szArgs&&i.panel==r.panel&&i.row==r.row&&i.col==r.col)){var o=i.getColumn();if(o&&(!o._getFlag(be.HasTemplate)||o.cellTemplate)){var s=i.target;if(s!=r.target&&s instanceof HTMLElement){if(r.target instanceof HTMLInputElement){var a=i.point,l=r.point;Math.abs(a.x-l.x)+Math.abs(a.y-l.y)<10&&(s=s.querySelector("input")||s)}var c=document.createEvent("Event");for(var u in c.initEvent("click",!0,!0),t)/Key$|X$|Y$|^button|^(x|y|which)$/.test(u)&&(c[u]=t[u]);s.dispatchEvent(c)}}}this.resetMouseState()}},n.prototype._click=function(t){if(this._ignoreClick&&(this._ignoreClick=!1,t.preventDefault()),!t.defaultPrevented){var e=this._g,i=t.target,r=e.hitTest(i),o=Di(i,HTMLInputElement),s="input."+St._WJC_CHECKBOX;if(!o){var a=te(i,"label");a&&(o=a.querySelector(s))}if(!o&&e.bigCheckboxes&&(o=i.querySelector(s)),o!=e.activeEditor&&e._isNativeCheckbox(o)){if(r.panel==e.cells){var l=e.getCellData(r.row,r.col,!1);e.startEditing(!1,r.row,r.col,!1,t)?(e.activeEditor.checked=!l,e.finishEditing(),e.focus()):o.checked=l}return}if(this._hasRadioMap(t))return void this._handleClick(t);var c=t.ctrlKey||t.metaKey;if(e.rows.maxGroupLevel>-1&&di(i,St._WJC_COLLAPSE)){var u=e.rows[r.row];if(r.panel==e.cells&&u instanceof Dt)return void(c?e.collapseGroupsToLevel(u.isCollapsed?u.level+1:u.level):u.isCollapsed=!u.isCollapsed)}if(!c&&!t.shiftKey&&!e.activeEditor&&r.panel==e.cells){var d=e._selHdl.selection;if(d.equals(this._selDown)&&r.range.contains(d))return void e.startEditing(!0,null,null,!0,t)}this._handleClick(t)}},n.prototype._handleClick=function(t){var e=this._g,i=t.target,r=e.hitTest(i),o=t.ctrlKey||t.metaKey,s=r.panel;if(!t.defaultPrevented&&r.grid==e){if(s==e.cells&&this._hasRadioMap(t)){var a=te(i,"label"),l=a&&a.querySelector("input");return void(l&&!l.disabled&&e.startEditing(!1,r.row,r.col,!1,t)&&e.finishEditing()&&(e._edtHdl._edtCanceled?t.preventDefault():e.setCellData(r.row,r.col,a.textContent,!0,e.refreshOnEdit)))}if(!e._isInputElement(i)){if(s==e.topLeftCells){switch(e.selectionMode){case Ke.None:case Ke.Cell:break;default:e.selectAll()}return}if(s==e.columnHeaders){if(e.allowPinning&&di(i,St._WJC_PIN))this._clickPin(t,r);else if(!e._isTransposed()&&di(t.target,St._WJC_COLLAPSE)){if(p=e._getColumnGroup(r.row,r.col))if(o)for(var u=p.isCollapsed,d=p.level,h=[],f=0;f<e.columns.length;f++)(p=e._getColumnGroup(r.row,f))&&p.collapseTo&&p.level==d&&h.indexOf(p)<0&&(h.push(p),p.isCollapsed=!u);else p.isCollapsed=!p.isCollapsed}else i instanceof HTMLSpanElement&&i.parentElement instanceof HTMLLabelElement&&(i=i.parentElement.querySelector("input")),i instanceof HTMLInputElement||this._clickSort(t,r),e.focus();return}if(s==e.rowHeaders){var p;if(e._isTransposed()&&di(t.target,St._WJC_COLLAPSE)&&(p=e._getColumnGroup(r.row,r.col)))if(o){u=p.isCollapsed,d=p.level,h=[];for(var g=0;g<e.rows.length;g++)(p=e._getColumnGroup(g,r.col))&&p.collapseTo&&p.level==d&&h.indexOf(p)<0&&(h.push(p),p.isCollapsed=!u)}else p.isCollapsed=!p.isCollapsed;return}if(s==e.cells){if(r.row<0)return void this._clickSort(t,r);if(di(i,St._WJC_COLLAPSE)){var m=e.rows[r.row];return void(m instanceof Dt&&(o?e.collapseGroupsToLevel(m.isCollapsed?m.level+1:m.level):m.isCollapsed=!m.isCollapsed))}di(i,St._WJC_DROPDOWN)&&e._edtHdl._toggleListBox(t,r.range)}}}},n.prototype._hasRadioMap=function(t){var e=t.target;if(te(e,"label")){var i=di(e,St._WJC_RADIOMAP);return di(i,Wy)==this._g.hostElement}return!1},n.prototype._clickSort=function(t,e){var i=this._g,r=i.allowSorting,o=i.collectionView,s=o?o.sortDescriptions:null,a=t.ctrlKey||t.metaKey,l=t.shiftKey;if(o&&o.canSort&&r!=So.None){var c=e.panel.columns[e.col],u=i._getBindingColumn(e.panel,e.row,c),d=u?u._getBindingSort():null;if(u.allowSorting&&d){if(c==u){var h=i.getMergedRange(e.panel,e.row,e.col,!1);if(h&&h.columnSpan>1)return}var f=new et(e.panel,e.range,t);if(i.onSortingColumn(f)){i._edtHdl._commitRowEdits();for(var p=-1,g=null,m=0;m<s.length;m++)if(s[m].property==d){p=m,g=s[m];break}s.deferUpdate(function(){if(a&&l)s.clear();else if(g){var y=a;!y&&i.isTouching&&(y=0==g.ascending),y?s.removeAt(p):s[p]=new bo(d,!g.ascending)}else{r!=So.MultiColumn&&s.clear();var _=new bo(d,!0);s.push(_)}}),i.onSortedColumn(f)}}}},n.prototype._clickPin=function(t,e){var i=this._g,r=i.columns,o=r.frozen,s=i.allowPinning;s==Xi.Both&&(s=t.shiftKey?Xi.ColumnRange:Xi.SingleColumn);var a=new et(i.cells,e.range);i.onPinningColumn(a)&&(s==Xi.SingleColumn&&(e.col>=o?(r.moveElement(e.col,o,!1),r.frozen++):(r.moveElement(e.col,o-1,!1),r.frozen--)),s==Xi.ColumnRange&&(r.frozen=e.col+1!=o?e.col+1:0),i.onPinnedColumn(a))},n.prototype._dblclick=function(t){if(!t.defaultPrevented){var e,i=this._g,r=i.hitTest(t),o=t.ctrlKey||t.metaKey,s=r.range,a=r.cellType,l=Y,c=i.selection,u=i.allowResizing,d=Rr;if(r.edgeRight&&u&d.Columns){if(a==l.TopLeft)r.panel.columns[r.col].allowResizing&&(e=new et(r.panel,new $(-1,r.col)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(this._ignoreClick=!0,i.autoSizeColumn(r.col,!0),i.onAutoSizedColumn(e),i.onResizedColumn(e),t.preventDefault()));else if(a==l.ColumnHeader||4&u){a==l.ColumnHeader&&o&&c.containsColumn(r.col)&&(s=c);for(var h=a==l.RowHeader||a==l.BottomLeft,f=s.leftCol;f<=s.rightCol;f++)r.panel.columns[f].allowResizing&&(e=new et(r.panel,new $(-1,f)),i.onAutoSizingColumn(e)&&i.onResizingColumn(e)&&(this._ignoreClick=!0,i.autoSizeColumn(f,h),i.onResizedColumn(e),i.onAutoSizedColumn(e),t.preventDefault()))}this.resetMouseState()}else if(r.edgeBottom&&u&d.Rows){if(a==l.TopLeft||a==l.BottomLeft)r.getRow().allowResizing&&(h=a==l.TopLeft||null,e=new et(r.panel,new $(r.row,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(this._ignoreClick=!0,i.autoSizeRow(r.row,h),i.onResizedRow(e),i.onAutoSizedRow(e),t.preventDefault()));else if(a==l.RowHeader||4&u){var p=r.panel;h=p==i.columnHeaders||p==i.columnFooters&&null,o&&c.containsRow(r.row)&&p==i.cells&&(s=c);for(var g=s.topRow;g<=s.bottomRow;g++)p.rows[g].allowResizing&&(e=new et(p,new $(g,-1)),i.onAutoSizingRow(e)&&i.onResizingRow(e)&&(this._ignoreClick=!0,i.autoSizeRow(g,h),i.onResizedRow(e),i.onAutoSizedRow(e),t.preventDefault()))}this.resetMouseState()}}},n.prototype._hover=function(t){if(!this._isDown){var e=this._g,i=e.hitTest(t),r="";return this._szRowCol=this._getResizeColHt(i)||this._getResizeRowHt(i),this._szRowCol instanceof on?r="col-resize":this._szRowCol instanceof Ar&&(r="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,e.hostElement.style.cursor=r,i}return null},n.prototype._getResizeColHt=function(t){var e,i=this._g.allowResizing,r=t.cellType;return i&Rr.Columns&&(r==Y.ColumnHeader||r==Y.TopLeft||4&i)&&(t.edgeRight&&(e=t.getColumn()),t.edgeFarRight&&(e=this._getResizeCol(t.panel,t.col)||t.getColumn()),t.edgeLeft&&(e=this._getResizeCol(t.panel,t.col,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeRowHt=function(t){var e,i=this._g.allowResizing,o=t.cellType;return i&Rr.Rows&&(o==Y.RowHeader||o==Y.TopLeft||4&i)&&(t.edgeBottom&&(e=t.getRow()),t.edgeFarBottom&&(e=this._getResizeRow(t.panel,t.row)||t.getRow()),t.edgeTop&&(e=this._getResizeRow(t.panel,t.row,!0)||e)),e&&e.allowResizing?e:null},n.prototype._getResizeCol=function(t,e,i){void 0===i&&(i=!1);var r=this._g,o=t.columns;if(i){for(var s=e-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);if(o==r.columns&&0!=(r.headersVisibility&sn.Row))for(s=(o=r.rowHeaders.columns).length-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);return null}for(s=e+1;s<o.length;s++)if((a=o[s]).isVisible)return this._asResizable(a);if(e==o.length-1&&o==r.rowHeaders.columns)for(o=r.columns,s=0;s<o.length;s++){var a;if((a=o[s]).isVisible)return this._asResizable(a)}return null},n.prototype._getResizeRow=function(t,e,i){void 0===i&&(i=!1);var r=this._g,o=t.rows;if(i){for(var s=e-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);if(o==r.rows&&0!=(r.headersVisibility&sn.Column))for(s=(o=r.columnHeaders.rows).length-1;s>=0;s--)if((a=o[s]).isVisible)return this._asResizable(a);return null}for(s=e+1;s<o.length;s++)if((a=o[s]).isVisible)return this._asResizable(a);if(e==o.length-1&&o==r.columnHeaders.rows)for(o=r.rows,s=0;s<o.length;s++){var a;if((a=o[s]).isVisible)return this._asResizable(a)}return null},n.prototype._asResizable=function(t){return 0==t.renderSize&&t.allowResizing?t:null},n.prototype._mouseSelect=function(t,e){var i=this,r=this._g;if(t&&this._htDown&&this._htDown.panel&&r.selectionMode!=Ke.None){var o=new Du(this._htDown.panel,t);this._handleSelection(o,e),!vo()&&t.button>=0&&t.target!=r._root&&((o=new Du(r,t)).panel||setTimeout(function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,e)},100))}},n.prototype._handleResizing=function(t){"mousedown"==t.type&&(wl()?F(t.target,"draggable",null):t.preventDefault());var e=this._szRowCol;if(e instanceof on){var i=this._g,r=Dl(t).x,o=Math.round(Math.max(n._SZ_MIN,this._szStart+(r-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(e.renderSize!=o){if(null==this._szArgs){var s=i.rowHeaders.columns.indexOf(e)>-1?i.rowHeaders:i.cells;this._szArgs=new et(s,new $(-1,e.index))}this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):e.width=o)}}var a=this._szRowCol;if(a instanceof Ar){i=this._g;var l=Dl(t).y;o=Math.round(Math.max(n._SZ_MIN,this._szStart+(l-this._htDown.point.y))),a.renderSize!=o&&(null==this._szArgs&&(s=i.columnHeaders.rows.indexOf(a)>-1?i.columnHeaders:i.columnFooters.rows.indexOf(a)>-1?i.columnFooters:i.cells,this._szArgs=new et(s,new $(a.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):a.height=o))}this._szArgs&&t.preventDefault()},n.prototype._dragstart=function(t){var e=this._g,i=this._htDown,r=Xr,o=Y;if(i){if(this._dragSrc=null,this._htDrag=null,this._chldColGrpMarker=!1,!this._szRowCol){var s=new et(i.panel,i.range),a=e.allowDragging,l=i.cellType,c=i.panel.rows,u=i.getColumn(!0);if(u&&u.allowDragging&&(l==o.ColumnHeader||l==o.TopLeft)&&a&r.Columns&&(e.onDraggingColumn(s)?this._dragSrc=t.target:t.preventDefault()),!this._dragSrc&&i.row>-1&&c[i.row].allowDragging){var d=c[i.row];d instanceof Dt||d instanceof Nt||l==o.RowHeader&&a&r.Rows&&(e.onDraggingRow(s)?this._dragSrc=t.target:t.preventDefault())}}this._dragSrc&&t.dataTransfer&&!t.defaultPrevented&&(this._htDrag=i,_T(t.dataTransfer,"move"),t.stopPropagation(),ze(this._dragSrc,lI),e.beginUpdate(),this._updating=!0)}},n.prototype._dragend=function(t){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},n.prototype._dragover=function(t){var e=this._g,i=this._hitTest(t),r=this._dragSrc?this._htDrag:null,o=Y,s=!1;if(r&&i.cellType==r.cellType){var a=new et(i.panel,i.range,r);i.cellType==o.ColumnHeader&&e._hasColumnGroups()?(a.cancel=!e._canMoveColumnGroup(r.row,r.col,i.row,i.col),s=e.onDraggingColumnOver(a)):i.cellType==o.ColumnHeader?(a.cancel=!e.columns.canMoveElement(r.col,i.col),s=e.onDraggingColumnOver(a)):i.cellType==o.RowHeader?(a.cancel=!e.rows.canMoveElement(r.row,i.row),s=e.onDraggingRowOver(a)):i.cellType==o.TopLeft&&(a.cancel=!e.topLeftCells.columns.canMoveElement(r.col,i.col),s=e.onDraggingColumnOver(a))}if(s?(t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation(),this._showDragMarker(i)):this._showDragMarker(null),r&&e.autoScroll){var l=e.controlRect,c=e.scrollPosition,u=R._DRAG_SCROLL_EDGE,d=R._DRAG_SCROLL_STEP;r.panel==e.columnHeaders?(t.pageX-l.left<u&&(c.x+=d),l.right-t.pageX<u&&(c.x-=d)):r.panel==e.rowHeaders&&(t.pageY-l.top<u&&(c.y+=d),l.bottom-t.pageY<u&&(c.y-=d)),c.equals(e._ptScrl)||(e.scrollPosition=c,e._rcBounds=null)}},n.prototype._drop=function(t){var e=this._g,i=this._hitTest(t),r=this._dragSrc?this._htDrag:null,o=Y;if(r&&i.cellType==r.cellType){var s=e.selection,a=new et(i.panel,i.range,r);i.cellType==o.ColumnHeader&&e._hasColumnGroups()?(e._moveColumnGroup(r.row,r.col,i.row,i.col,this._chldColGrpMarker),e.select(s.row,i.col),e.onDraggedColumn(a)):i.cellType==o.ColumnHeader?(e.columns.moveElement(r.col,i.col),e.select(s.row,i.col),e.onDraggedColumn(a)):i.cellType==o.RowHeader?(e.rows.moveElement(r.row,i.row),e.select(i.row,s.col),e.onDraggedRow(a)):i.cellType==o.TopLeft&&(e.topLeftCells.columns.moveElement(r.col,i.col),e.onDraggedColumn(a))}this.resetMouseState()},n.prototype._hitTest=function(t){var e=this._g;return e._rcBounds=null,e.hitTest(t)},n.prototype._showResizeMarker=function(t){var e,i=this._g,r=i._ptScrl,o=this._szArgs.panel.cellType,s=Y,a=this._dvMarker,l=i.cells.hostElement;a.parentElement!=l&&l.appendChild(a),this._szRowCol instanceof on?(e={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},o!=s.TopLeft&&o!=s.RowHeader||(e.left-=i._eTL.offsetWidth+r.x),o==s.Cell&&this._szRowCol.index<i.frozenColumns&&(e.left-=r.x),i.rightToLeft&&(e.left=l.clientWidth-e.left-e.width)):(e={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},o!=s.TopLeft&&o!=s.ColumnHeader||(e.top-=i._eTL.offsetHeight+r.y),o==s.Cell&&this._szRowCol.index<i.frozenRows&&(e.top-=r.y)),G(a,e)},n.prototype._showDragMarker=function(t){var e=this._dvMarker;if(t&&t.panel){if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var i=t.panel.hostElement;e.parentElement!=i&&i.appendChild(e);var r=this._g,o=r._ptScrl,s=Y,a={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case s.ColumnHeader:var l=r._getColumnGroup(t.row,t.col);if(l){var c=l._rng,u=t.panel.rows,d=t.panel.columns;if(l.isEmpty&&null===l.binding){var h=u[c.bottomRow],f=d[c.leftCol],p=r.rightToLeft,g=p?e.parentElement.clientWidth-t.point.x:t.point.x,m=Math.max(f.renderWidth/5,n._SZ_MAX_COLGRP_EDGE),v=this._htDown&&t.col>this._htDown.col;if(!v&&g>f.pos+m||v&&g<f.pos+f.renderWidth-m){a.top=h.pos-a.height/2+h.renderHeight,a.left=p?e.parentElement.clientWidth-f.pos-f.renderWidth:f.pos,a.width=f.renderWidth,this._chldColGrpMarker=!0;break}}this._chldColGrpMarker=!1,a.top=0,a.height=0;for(var w=0;w<c.topRow;w++)a.top+=u[w].renderHeight;for(w=c.topRow;w<=c.bottomRow;w++)a.height+=u[w].renderHeight;if(a.left=0,this._htDown&&t.col>this._htDown.col){var D=d[c.rightCol];a.left=D.pos-a.width/2+D.renderWidth}else a.left=d[c.leftCol].pos-a.width/2;r.rightToLeft&&(a.left=e.parentElement.clientWidth-a.left-a.width);break}case s.TopLeft:case s.ColumnHeader:var S=t.panel.columns[t.col];a.left=S.pos-a.width/2,a.height=t.panel.height,this._htDown&&t.col>this._htDown.col&&(a.left+=S.renderWidth),t.cellType==s.ColumnHeader&&t.col<r.frozenColumns&&(a.left-=o.x),r.rightToLeft&&(a.left=e.parentElement.clientWidth-a.left-a.width);break;case s.RowHeader:var P=t.getRow();a.top=P.pos-a.height/2,a.width=t.panel.width,t.row>this._htDown.row&&(a.top+=P.renderHeight),t.row<r.frozenRows&&(a.top-=o.y)}G(e,a)}}else Tt(e),this._rngTarget=null},n.prototype._finishResizing=function(t){var e=this._g,i=e.selection,r=this._szArgs,o=this._eMouse,s=o&&(o.ctrlKey||o.metaKey),a=Y;if(r&&!r.cancel){if(r.col>-1){var l=r.col,c=Dl(t).x,u=Math.round(Math.max(n._SZ_MIN,this._szStart+(c-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(r.panel.columns[l].width=Math.round(u),e.onResizedColumn(r),s&&this._htDown.cellType==a.ColumnHeader&&i.containsColumn(l))for(var d=i.leftCol;d<=i.rightCol;d++)e.columns[d].allowResizing&&d!=l&&(r=new et(e.cells,new $(-1,d)),e.onResizingColumn(r)&&(e.columns[d].size=e.columns[l].size,e.onResizedColumn(r)));t.preventDefault()}if(r.row>-1){var h=r.row,f=Dl(t).y;if(u=Math.round(Math.max(n._SZ_MIN,this._szStart+(f-this._htDown.point.y))),r.getRow().height=Math.round(u),e.onResizedRow(r),s&&this._htDown.cellType==a.RowHeader&&i.containsRow(h))for(var p=i.topRow;p<=i.bottomRow;p++)e.rows[p].allowResizing&&p!=h&&(r=new et(e.cells,new $(p,-1)),e.onResizingRow(r)&&(e.rows[p].size=e.rows[h].size,e.onResizedRow(r)));t.preventDefault()}}},n.prototype._handleSelection=function(t,e){var i=this._g,r=i._selHdl.selection,o=new $(t.row,t.col),s=Y,a=Ke;if(o.isValid)if(null==this._lbSelState){switch(t.cellType){case s.RowHeader:o.col=0,o.col2=i.columns.length-1;break;case s.ColumnHeader:switch(i.selectionMode){case a.Row:case a.Cell:o.row=o.row2=r.row,e=!1;break;default:o.row=0,o.row2=i.rows.length-1}}if(e&&(i.anchorCursor?(o.row=r.row,o.col=r.col):(o.row2=r.row2,o.col2=r.col2),!o.isValid)){var l=this._htDown;l&&(o=new $(l.row,l.col))}if(i.selectionMode==Ke.MultiRange){var c=i._mouseHdl._eMouse,u=c&&(c.ctrlKey||c.metaKey),d=i._selHdl,h=d.selection,f=d.extendedSelection,p=t.panel!=i.cells;te(c.target,".wj-elem-collapse")&&(u=!1),u?!e&&d._deselectRange(o)?d.selection.isValid&&(o=null):h.isValid&&(p||!h.intersects(o))&&(p?this._splitRange(h):[h.clone()]).forEach(function(m){for(var y=!1,_=0;_<f.length&&!y;_++)f[_].equals(m)&&(y=!0);y||f.push(m)}):f.clear()}if(o)switch(i.select(o,!1),t.cellType){case s.RowHeader:i.scrollIntoView(t.row,-1);break;case s.ColumnHeader:i.scrollIntoView(-1,t.col);break;default:i.scrollIntoView(t.row,t.col)}else{var g=new et(i.cells,new $(t.row,t.col));i.onSelectionChanging(g),i.onSelectionChanged(g),i.invalidate()}}else i.rows[t.row].isSelected=!this._lbSelState,i.scrollIntoView(t.row,t.col)},n.prototype._splitRange=function(t){var e=this._g,i=e.columns.length,r=e.rows.length,o=[];if(t.columnSpan==i)for(var s=t.topRow;s<=t.bottomRow;s++)o.push(new $(s,0,s,i-1));else if(t.rowSpan==r)for(var a=t.leftCol;a<=t.rightCol;a++)o.push(new $(0,a,r-1,a));else o.push(t.clone());return o},n._SZ_MIN=0,n._SZ_MAX_COLGRP_EDGE=50,n}();xl("wijmo.grid",zu);let nq=1;const iq=Promise.resolve(),pf={};function uI(n){return n in pf&&(delete pf[n],!0)}const dI={setImmediate(n){const t=nq++;return pf[t]=!0,iq.then(()=>uI(t)&&n()),t},clearImmediate(n){uI(n)}};class rq extends ut{constructor(t,e){super()}schedule(t,e=0){return this}}class gf extends rq{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let hI=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Pr extends hI{constructor(t,e=hI.now){super(t,()=>Pr.delegate&&Pr.delegate!==this?Pr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Pr.delegate&&Pr.delegate!==this?Pr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const fI=new class extends Pr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this.active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends gf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=dI.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(dI.clearImmediate(e),t.scheduled=void 0)}}),qy=new class extends Pr{}(class extends gf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}}),cq=qy;function Ky(n,t){return new Ne(t?e=>t.schedule(uq,0,{error:n,subscriber:e}):e=>e.error(n))}function uq({error:n,subscriber:t}){t.error(n)}class er{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return ee(this.value);case"E":return Ky(this.error);case"C":return Oh()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new er("N",t):er.undefinedValueNotification}static createError(t){return new er("E",void 0,t)}static createComplete(){return er.completeNotification}}er.completeNotification=new er("C"),er.undefinedValueNotification=new er("N",void 0);class mf extends lt{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(mf.dispatch,this.delay,new hq(t,this.destination)))}_next(t){this.scheduleMessage(er.createNext(t))}_error(t){this.scheduleMessage(er.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(er.createComplete()),this.unsubscribe()}}class hq{constructor(t,e){this.notification=t,this.destination=e}}class Yy extends Ee{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new fq(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;let s;if(this.closed)throw new cs;if(this.isStopped||this.hasError?s=ut.EMPTY:(this.observers.push(t),s=new Ab(this,t)),r&&t.add(t=new mf(t,r)),e)for(let a=0;a<o&&!t.closed;a++)t.next(i[a]);else for(let a=0;a<o&&!t.closed;a++)t.next(i[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||cq).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,o=r.length;let s=0;for(;s<o&&!(t-r[s].time<i);)s++;return o>e&&(s=Math.max(s,o-e)),s>0&&r.splice(0,s),r}}class fq{constructor(t,e){this.time=t,this.value=e}}function _f(n){return!!n&&(n instanceof Ne||"function"==typeof n.lift&&"function"==typeof n.subscribe)}class gq{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new mq(t,this.observables,this.project))}}class mq extends eM{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++)this.add(tM(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const o=r.indexOf(i);-1!==o&&r.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function Lt(n){return t=>t.lift(new _q(n))}class _q{constructor(t){this.notifier=t}call(t,e){const i=new yq(t),r=Zl(this.notifier,new Ql(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class yq extends Jl{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function yf(n,t){return e=>e.lift(new vq(n,t))}class vq{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new bq(t,this.compare,this.keySelector))}}class bq extends lt{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function Qy(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,s,o=0,a=!1,l=!1;return function(u){let d;o++,!r||a?(a=!1,r=new Yy(n,t,i),d=r.subscribe(this),s=u.subscribe({next(h){r.next(h)},error(h){a=!0,r.error(h)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):d=r.subscribe(this),this.add(()=>{o--,d.unsubscribe(),d=void 0,s&&!l&&e&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}function pI(){return n=>new Ne(t=>{let e,i;const r=new ut;return r.add(n.subscribe({complete:()=>{e&&t.next(i),t.complete()},error:o=>{t.error(o)},next:o=>{i=o,e||(e=fI.schedule(()=>{t.next(i),e=void 0}),r.add(e))}})),r})}const Cq=new q("@ngrx/component-store Initial State");let Eq=(()=>{class n{constructor(e){this.destroySubject$=new Yy(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new Yy(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(i=>i),e&&this.initState(e)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(e){return i=>{let r;const s=(_f(i)?i:ee(i)).pipe(Ps(a=>this.isInitialized?Ip([a],qy).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new gq(n,e))}}(this.stateSubject$)):Ky(new Error(this.notInitializedErrorMessage))),Lt(this.destroy$)).subscribe({next:([a,l])=>{this.stateSubject$.next(e(l,a))},error:a=>{r=a,this.stateSubject$.error(a)}});if(r)throw r;return s}}initState(e){Ip([e],qy).subscribe(i=>{this.isInitialized=!0,this.stateSubject$.next(i)})}setState(e){"function"!=typeof e?this.initState(e):this.updater(e)()}patchState(e){const i="function"==typeof e?e(this.get()):e;this.updater((r,o)=>Object.assign(Object.assign({},r),o))(i)}get(e){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let i;return this.stateSubject$.pipe(mo(1)).subscribe(r=>{i=e?e(r):r}),i}select(...e){const{observables:i,projector:r,config:o}=function(n){const t=Array.from(n);let i,e={debounce:!1};const r=t.pop();return"function"!=typeof r?(e=Object.assign(Object.assign({},e),r),i=t.pop()):i=r,{observables:t,projector:i,config:e}}(e);let s;return s=0===i.length?this.stateSubject$.pipe(o.debounce?pI():a=>a,me(r)):J_(i).pipe(o.debounce?pI():a=>a,me(a=>r(...a))),s.pipe(yf(),Qy({refCount:!0,bufferSize:1}),Lt(this.destroy$))}effect(e){const i=new Ee;return e(i).pipe(Lt(this.destroy$)).subscribe(),r=>(_f(r)?r:ee(r)).pipe(Lt(this.destroy$)).subscribe(s=>{i.next(s)})}}return n.\u0275fac=function(e){return new(e||n)(C(Cq,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Sq=(()=>{class n extends Eq{constructor(){super({gridData:[{id:15,product:"\u30d4\u30e5\u30a2\u30c7\u30df\u30b0\u30e9\u30b9\u30bd\u30fc\u30b9",date:"2017/01/10",amount:6e3},{id:17,product:"\u3060\u3057\u3053\u3093\u3076",date:"2017/01/08",amount:14500},{id:18,product:"\u30d4\u30ea\u30ab\u30e9\u30bf\u30d0\u30b9\u30b3",date:"2017/01/12",amount:4e3},{id:84,product:"\u306a\u307e\u308f\u3055\u3073",date:"2017/01/21",amount:8e3},{id:15,product:"\u30d4\u30e5\u30a2\u30c7\u30df\u30b0\u30e9\u30b9\u30bd\u30fc\u30b9",date:"2017/01/10",amount:6e3},{id:17,product:"\u3060\u3057\u3053\u3093\u3076",date:"2017/01/08",amount:14500},{id:18,product:"\u30d4\u30ea\u30ab\u30e9\u30bf\u30d0\u30b9\u30b3",date:"2017/01/12",amount:4e3},{id:84,product:"\u306a\u307e\u308f\u3055\u3073",date:"2017/01/21",amount:8e3},{id:15,product:"\u30d4\u30e5\u30a2\u30c7\u30df\u30b0\u30e9\u30b9\u30bd\u30fc\u30b9",date:"2017/01/10",amount:6e3},{id:17,product:"\u3060\u3057\u3053\u3093\u3076",date:"2017/01/08",amount:14500},{id:18,product:"\u30d4\u30ea\u30ab\u30e9\u30bf\u30d0\u30b9\u30b3",date:"2017/01/12",amount:4e3},{id:84,product:"\u306a\u307e\u308f\u3055\u3073",date:"2017/01/21",amount:8e3},{id:15,product:"\u30d4\u30e5\u30a2\u30c7\u30df\u30b0\u30e9\u30b9\u30bd\u30fc\u30b9",date:"2017/01/10",amount:6e3},{id:17,product:"\u3060\u3057\u3053\u3093\u3076",date:"2017/01/08",amount:14500},{id:18,product:"\u30d4\u30ea\u30ab\u30e9\u30bf\u30d0\u30b9\u30b3",date:"2017/01/12",amount:4e3},{id:84,product:"\u306a\u307e\u308f\u3055\u3073",date:"2017/01/21",amount:8e3},{id:15,product:"\u30d4\u30e5\u30a2\u30c7\u30df\u30b0\u30e9\u30b9\u30bd\u30fc\u30b9",date:"2017/01/10",amount:6e3},{id:17,product:"\u3060\u3057\u3053\u3093\u3076",date:"2017/01/08",amount:14500},{id:18,product:"\u30d4\u30ea\u30ab\u30e9\u30bf\u30d0\u30b9\u30b3",date:"2017/01/12",amount:4e3},{id:84,product:"\u306a\u307e\u308f\u3055\u3073",date:"2017/01/21",amount:8e3},{id:15,product:"\u30d4\u30e5\u30a2\u30c7\u30df\u30b0\u30e9\u30b9\u30bd\u30fc\u30b9",date:"2017/01/10",amount:6e3},{id:17,product:"\u3060\u3057\u3053\u3093\u3076",date:"2017/01/08",amount:14500},{id:18,product:"\u30d4\u30ea\u30ab\u30e9\u30bf\u30d0\u30b9\u30b3",date:"2017/01/12",amount:4e3},{id:84,product:"\u306a\u307e\u308f\u3055\u3073",date:"2017/01/21",amount:8e3}]}),this.gridData$=this.select(e=>e.gridData)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vf(n,t){return new Ne(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const l=In(n[a]);let c=!1;e.add(l.subscribe({next:u=>{c||(c=!0,s++),r[a]=u},error:u=>e.error(u),complete:()=>{o++,(o===i||!c)&&(s===i&&e.next(t?t.reduce((u,d,h)=>(u[d]=r[h],u),{}):r),e.complete())}}))}})}const tr=new q("NgValueAccessor");var v4=function(){function n(){}return n.asyncBindings=!0,n}(),b4=function(){function n(t){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(t)}return n.prototype.resolveChangeEventMap=function(t){var e=this.changeEventMap,i=t.outputs,r=t.changeEvents||{};if(e.splice(0,e.length),this.allImplEvents=[],i&&i.length){var o=i.map(function(h){return h.split(":")}).map(function(h){return{implName:h[0].trim(),exposeName:h[1]&&h[1].trim()}});this.allImplEvents=o.map(function(h){return h.implName});for(var s=0,a=o.filter(function(h){return h.implName&&h.exposeName});s<a.length;s++){var l=a[s];if(Fl.getWjEventName(l.implName)){var c={eventImpl:l.implName,event:l.exposeName},u=r[l.exposeName];u&&u.length&&(c.props=u.map(function(h){return{prop:h,evExposed:Fl.getChangeEventNameExposed(h),evImpl:Fl.getChangeEventNameImplemented(h)}})),e.push(c)}}for(var d in r)d.indexOf(".")>-1&&(c={eventImpl:null,event:d,props:r[d].map(function(h){return{prop:h,evExposed:Fl.getChangeEventNameExposed(h),evImpl:Fl.getChangeEventNameImplemented(h)}})},e.push(c))}},n}(),Ii=function(){function n(t,e,i,r){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.nzRun=function(l){return l()},this.directive=t,this.elementRef=e,this.injector=i;var o=this.nz=i.get(ae);o&&(this.nzRun=o.run.bind(o)),this.injectedParent=r;var s=this.typeData=t.constructor[n.directiveTypeDataProp];null==s.siblingId&&(s.siblingId=++n.siblingDirId+"");var a=t.constructor[n.directiveResolvedTypeDataProp];a?this.resolvedTypeData=a:t.constructor[n.directiveResolvedTypeDataProp]=a=this.resolvedTypeData=new b4(s),t[n.BehaviourRefProp]=this,i[n.BehaviourRefProp]=this,t[n.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&e.nativeElement.setAttribute(n.siblingDirIdAttr,s.siblingId),this.subscribeToEvents(!1)}return n.getHostElement=function(t,e){return n.ngZone=e.get(ae),t.nativeElement},n.attach=function(t,e,i,r){return new n(t,e,i,r)},n.getZone=function(t){var e=n.getBehavior(t);return e&&e.nz||n.ngZone},n.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},n.prototype.ngAfterViewInit=function(){var t=this;this.directive[n.isInitializedPropAttr]=!0,setTimeout(function(){t.isDestroyed||t.directive[n.initializedEventAttr].emit(void 0)})},n.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var t=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){var e=this.parentBehavior.directive,i=this._getParentProp();if(!this.parentBehavior.isDestroyed&&e&&i&&t){var r=e[i];if(Kt(r)&&r){var o=r.indexOf(t);o>=0&&r.splice(o,1)}}}if(t instanceof R&&t.hostElement){var s=this.elementRef.nativeElement,a=s&&s.parentNode,l=a?Array.prototype.indexOf.call(a.childNodes,s):-1;t.dispose(),l>-1&&Array.prototype.indexOf.call(a.childNodes,s)<0&&(s.textContent="",l<a.childNodes.length&&a.replaceChild(s,a.childNodes[l]))}this.injector[n.BehaviourRefProp]=null}},n.instantiateTemplate=function(t,e,i,r,o){void 0===r&&(r=!1),void 0===o&&(o={});var s,a=e.createEmbeddedView(i,o,e.length),l=a.rootNodes;if(r&&1===l.length)s=l[0];else{s=document.createElement("div");for(var c=0,u=l;c<u.length;c++)s.appendChild(u[c])}return t&&t.appendChild(s),{viewRef:a,rootElement:s}},n.prototype.getPropChangeEvent=function(t){var e=this.typeData.changeEvents;if(e)for(var i in e)if(e[i].indexOf(t)>-1)return i;return null},n.prototype._createEvents=function(){for(var t=0,e=this.resolvedTypeData.allImplEvents;t<e.length;t++)this.directive[e[t]]=new rt(!1)},n.prototype.subscribeToEvents=function(t){var e=this.resolvedTypeData.changeEventMap;t=!!t;for(var i=0,r=e;i<r.length;i++)t!==(a=r[i]).event.indexOf(".")<0&&this.addHandlers(a);if(t)for(var o=0,s=e;o<s.length;o++){var a=s[o];this.triggerPropChangeEvents(a,!0)}},n.prototype.addHandlers=function(t){var e=this,i=this.directive;n.evaluatePath(i,t.event).addHandler(function(r,o){e.nzRun(function(){e.isInitialized&&e.triggerPropChangeEvents(t),t.eventImpl&&e._triggerEvent(i[t.eventImpl],o,t.props&&t.props.length>0)})})},n.prototype.triggerPropChangeEvents=function(t,e){void 0===e&&(e=!0);var i=this.directive;if(t.props&&t.props.length)for(var r=0,o=t.props;r<o.length;r++){var s=o[r];this._triggerEvent(i[s.evImpl],i[s.prop],e)}},n.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=n.getBehavior(this.injectedParent))},n.prototype._isAsyncBinding=function(){var t=this.directive[n.asyncBindingUpdatePropAttr];return null==t?v4.asyncBindings:t},n.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},n.prototype._isParentInitializer=function(){return null!=this.directive[n.parPropAttr]},n.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},n.prototype._getParentProp=function(){return this.directive[n.parPropAttr]},n.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},n.prototype._useParentObj=function(){return!1},n.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},n.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var t=this.parentBehavior.directive,e=this._getParentProp(),i=this.directive;if(this._isParentInitializer()){this._getParentProp();var r=t[e];if(Kt(r)){var o=this._isHostElement(),s=o?this._getSiblingIndex():-1;(s<0||s>=r.length)&&(s=r.length),r.splice(s,0,i),o&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else t[e]=i}this._isParentReferencer()&&!this._parentInCtor()&&(i[this._getParentReferenceProperty()]=t)}},n.prototype._getSiblingIndex=function(){var t=this.elementRef.nativeElement,e=t.parentElement;if(!e)return-1;for(var i=e.childNodes,r=-1,o=this.typeData.siblingId,s=0;s<i.length;s++){var a=i[s];if(1==a.nodeType&&a.getAttribute(n.siblingDirIdAttr)==o&&(++r,a===t))return r}return-1},n.prototype._siblingInserted=function(t){if(t.target===this.elementRef.nativeElement){var e=this._getSiblingIndex(),i=this.parentBehavior.directive[this._getParentProp()],r=this.directive,o=i.indexOf(r);e>=0&&o>=0&&e!==o&&(i.splice(o,1),e=Math.min(e,i.length),i.splice(e,0,r))}},n.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},n.prototype._triggerEvent=function(t,e,i){var r=this;i&&this._isAsyncBinding()?(this._pendingEvents.push({event:t,args:e}),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout(function(){r._triggerPendingEvents(!1)},0))):t.emit(e)},n.prototype._triggerPendingEvents=function(t){if(null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null),!this.isDestroyed){var e=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var i=0,r=e;i<r.length;i++){var o=r[i];o.event.emit(o.args)}t&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}},n.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},n.evaluatePath=function(t,e){return this._pathBinding.path=e,this._pathBinding.getValue(t)},n.getBehavior=function(t){return t?t[n.BehaviourRefProp]:null},n.directiveTypeDataProp="meta",n.directiveResolvedTypeDataProp="_wjResolvedMeta",n.BehaviourRefProp="_wjBehaviour",n.parPropAttr="wjProperty",n.wjModelPropAttr="wjModelProperty",n.initializedEventAttr="initialized",n.isInitializedPropAttr="isInitialized",n.siblingDirIdAttr="wj-directive-id",n.asyncBindingUpdatePropAttr="asyncBindings",n.siblingDirId=0,n.wijmoComponentProviderId="WjComponent",n.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0,pointerenter:!0,pointerleave:!0,pointerout:!0,mouseover:!0,mouseenter:!0,mouseleave:!0,mouseout:!0},n._pathBinding=new mn(""),n.\u0275fac=function(e){!function(){throw new Error("invalid")}()},n.\u0275dir=U({type:n}),n}(),Fl=function(){function n(){}return n.initEvents=function(t,e){for(var i=[],r=0,o=e;r<o.length;r++){var s=o[r],a=s.props;if(s.event&&s.eventImpl&&i.push(s.eventImpl+":"+s.event),a&&a.length)for(var l=0,c=a;l<c.length;l++){var u=c[l];i.push(u.evImpl+":"+u.evExposed)}}return i},n.getChangeEventNameImplemented=function(t){return n.getChangeEventNameExposed(t)+n.changeEventImplementSuffix},n.getChangeEventNameExposed=function(t){return t+"Change"},n.getWjEventNameImplemented=function(t){return t+n.wjEventImplementSuffix},n.getWjEventName=function(t){if(t){var e=n.wjEventImplementSuffix,i=t.length-e.length;if(i>0&&t.substr(i)===e)return t.substr(0,i)}return null},n.getBaseType=function(t){var e;return t&&(e=Object.getPrototypeOf(t.prototype))&&e.constructor},n.getAnnotations=function(t){return Reflect.getMetadata("annotations",t)},n.getAnnotation=function(t,e){if(e&&t)for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o instanceof e)return o}return null},n.getTypeAnnotation=function(t,e,i){for(var r=t;r;r=i?null:n.getBaseType(r)){var o=n.getAnnotation(n.getAnnotations(r),e);if(o)return o}return null},n.equals=function(t,e){return t!=t&&e!=e||K.equals(t,e)||t===e},n._copy=function(t,e,i,r,o){if(t&&e)for(var s in e)if(r||"_"!==s[0]){var a=e[s];if(!o||o(s,a)){var l=t[s];Kt(a)?t[s]=(!Kt(l)||i?[]:l).concat(a):void 0!==a&&(t[s]=a)}}},n.changeEventImplementSuffix="PC",n.wjEventImplementSuffix="Ng",n}(),w4=function(){function n(t){this._writeQnt=0,this._isSubscribed=!1,this._dirUpdateQnt=0,this._onChange=function(e){},this._onTouched=function(){},this._directive=t,this._behavior=Ii.getBehavior(t)}return n.prototype.writeValue=function(t){var e=this;this._modelValue=t,++this._writeQnt,this._directive.isInitialized?(this._ensureInitEhUnsubscribed(),this._updateDirective()):this._dirInitEh||(this._dirInitEh=this._directive.initialized.subscribe(function(){e._updateDirective(),e._ensureInitEhUnsubscribed()}))},n.prototype.registerOnChange=function(t){this._onChange=t},n.prototype.registerOnTouched=function(t){this._onTouched=t},n.prototype.setDisabledState=function(t){var e=this._directive;e instanceof R&&(e.isDisabled=t)},n.prototype._updateDirective=function(){if(!this._isFirstChange()||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var t=this._modelValue;""===t&&(t=null),this._dirUpdateQnt++;try{this._directive[this._ngModelProp]=t}finally{this._dirUpdateQnt--}}this._ensureSubscribed()}},n.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var t=this._directive;if(t){this._ensureNgModelProp();var e=this._ngModelProp=t[Ii.wjModelPropAttr];if(e){var i=this._behavior.getPropChangeEvent(e);i&&t[i].addHandler(this._dirValChgEh,this)}t instanceof R&&t.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},n.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[Ii.wjModelPropAttr])},n.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},n.prototype._isFirstChange=function(){return this._writeQnt<2},n.prototype._dirValChgEh=function(t,e){if(this._onChange&&this._directive&&this._ngModelProp){var i=this._directive[this._ngModelProp],r=this._modelValue;""===r&&(r=null),(!(this._dirUpdateQnt>0&&gA(r)&&gA(i)||Fl.equals(r,i))||Kt(i))&&(this._modelValue=i,this._onChange(i))}},n.prototype._dirLostFocusEh=function(t,e){this._onTouched&&this._onTouched()},n}();function gA(n){return null==n||""===n}var E4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function vv(){return rf("wijmo.input")}function If(){return rf("wijmo.grid.detail")}var mA=zu&&St;mA||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var pt,_A=function(n){function t(e){var i=n.call(this)||this;if(i._lastApplyTimeStamp=0,i._noApplyLag=!1,i._startingEditing=!1,i._cellStampCounter=0,i._composing=!1,i.grid=e,!t._templateTypes)for(var r in t._templateTypes=[],pt)isNaN(r)&&t._templateTypes.push(r);var o=i;return i._baseCf=e.cellFactory,e.cellFactory=i,i._evtInput=document.createEvent("HTMLEvents"),i._evtInput.initEvent("input",!0,!1),i._evtBlur=document.createEvent("HTMLEvents"),i._evtBlur.initEvent("blur",!1,!1),e.prepareCellForEdit.addHandler(function(s,a){o._noApplyLag=!0}),e.cellEditEnded.addHandler(function(s,a){var l=a.range,c=l.col;(c<0||c<e.columns.length&&!e._getBindingColumn(e.cells,l.row,e.columns[c])[t.getTemplContextProp(pt.CellEdit)])&&(o._editChar=null),setTimeout(function(){o._noApplyLag=!1},300)}),e.beginningEdit.addHandler(function(s,a){o._startingEditing=!0}),e.hostElement.addEventListener("keydown",function(s){o._startingEditing=!1},!0),e.hostElement.addEventListener("keypress",function(s){var a=s.charCode>32?String.fromCharCode(s.charCode):null;a&&te(s.target,".wj-flexgrid")===e.hostElement&&(!e.activeEditor||o._startingEditing?(o._editChar=a,setTimeout(function(){e.activeEditor||(o._editChar=null)},0)):o._editChar&&(o._editChar+=a))},!0),e.hostElement.addEventListener("compositionstart",function(s){o._composing=!0},!0),e.hostElement.addEventListener("compositionend",function(s){o._composing=!1},!0),i}return E4(t,n),t.prototype.updateCell=function(e,i,r,o,s){var a=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var l=o[t._cellStampProp]=this._cellStampCounter;o.style.overflow&&(o.style.overflow="");var c=i,u=r;s&&!s.isSingleCell&&(i=s.row,r=s.col);var d,h=this,f=e.grid,p=f.editRange,g=e.rows[i],m=g.dataItem,y=!1,_=!1,v=!1,w=!1;switch(e.cellType){case Y.Cell:if(p&&p.row===i&&p.col===r)d=pt.CellEdit,_=v=!0;else if(g instanceof Dt){var D=!((w=m instanceof Mr)||g.hasChildren);r==e.columns.firstVisibleIndex?d=D?pt.Cell:pt.GroupHeader:(d=D?pt.Cell:pt.Group,_=!0)}else g instanceof Nt?d=pt.NewCellTemplate:If()&&If().DetailRow&&g instanceof If().DetailRow||(d=pt.Cell);break;case Y.ColumnHeader:d=pt.ColumnHeader;break;case Y.RowHeader:d=f.collectionView&&f.collectionView.currentEditItem===m?pt.RowHeaderEdit:pt.RowHeader,y=!0;break;case Y.TopLeft:d=pt.TopLeft,y=!0;break;case Y.ColumnFooter:d=pt.ColumnFooter,_=!0;break;case Y.BottomLeft:d=pt.BottomLeft,y=!0}var T=!1;if(null!=d){var S=null;if(w&&d==pt.GroupHeader?S=f.getColumn(m.groupDescription.propertyName):r>=0&&r<e.columns.length&&(S=e.cellType===Y.ColumnHeader&&f._hasColumnGroups()?f._getColumnGroup(i,r):f._getBindingColumn(e,i,e.columns[r])),S){var P=t.getTemplContextProp,j=P(d),B=(y?f:S)[j];if(B||(d===pt.RowHeaderEdit?(j=P(d=pt.RowHeader),B=f[j]):(d===pt.Group||d===pt.GroupHeader)&&!w&&(j=P(d=pt.Cell),B=S[j])),B){var Z;_&&(Z=e.getCellData(i,r,!1)),T=!0;var I=o.getAttribute(Ti._WJS_MEASURE),Q=I&&"true"===I.toLowerCase();v&&(this.clearCell(o),this._baseCf.updateCell(e,c,u,o,s,!0));var Ue,Vt=v&&f.imeEnabled,L=o[j],W={cell:o,column:S,row:g,panel:e,rng:s,isEdit:v,isImeInput:Vt,isTrueImeInput:Vt&&this._composing,templateContext:B,templateCache:L,templateContextProperty:j,cellStamp:l,cellValue:Z};if(this.shouldInstantiate(W)){if(v){var ce=o.firstElementChild;ce&&(Vt||o.focus(),ce.style.display="none")}else this.clearCell(o);this._doDisposeCell(o),this.renderTemplate(W,!0),W.templateCache=L=o[j],Ue=W.cellBindingsData}else this.renderTemplate(W,!1),Ue=W.cellBindingsData;if(B.cellOverflow&&(o.style.overflow=B.cellOverflow),Q?this.applyImmediately(W):B.autoSizeRows&&!Vt?this.checkHeight(W):v&&setTimeout(function(){Vt?a._initImeEditInput(L,B):a._initEditInput(L,B,null)},0),v){h._cellEditorVars=Ue.localVars;var Ge=function(ln,yn){if(f.cellEditEnding.removeHandler(Ge),!yn.stayInEditMode){var ct=Oe();ct&&ct.dispatchEvent(h._evtBlur),oe(o,Oe())&&o.focus()}if(h._triggerEditorEvents(o),!yn.cancel&&!yn.stayInEditMode)for(var $l=Ue.localVars,Fn=0,Or=Object.getOwnPropertyNames(Ue.bindings);Fn<Or.length;Fn++){var Un=Or[Fn];Ue.bindings[Un].setValue($l,Ue.localVars.values[Un])}var kr=o.querySelectorAll(".wj-dropdown");[].forEach.call(kr,function(ls){var Wl=R.getControl(ls);Wl&&vv()&&Wl instanceof vv().DropDown&&(Wl.isDroppedDown=!1)})},kn=function(ln,yn){f.cellEditEnded.removeHandler(kn),h._cellEditorVars=null};f.cellEditEnding.addHandler(Ge),f.cellEditEnded.addHandler(kn)}else this._baseCf.updateCell(e,c,u,o,s,!1)}}}T||(this._doDisposeCell(o),this._baseCf.updateCell(e,c,u,o,s))},t.prototype.getEditorValue=function(e){if(this._cellEditorVars){var i=e.editRange;return i&&i.isValid&&this._triggerEditorEvents(e.cells.getCellElement(i.row,i.col)),this._cellEditorVars.value}return n.prototype.getEditorValue.call(this,e)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,i,r){i&&(i.rootElement=null,i.column=null,e[i.templateContextProperty]=null,i.templateContextProperty=null)},t.prototype.setBindingsData=function(e,i,r,o,s,a){e.row=i,e.col=r,e.item=o;var l={},c=e.cell||{},u={},d={localVars:c,bindings:u};if(c.row=i,c.col=r,c.item=o,c.value=s,c.values=l,a)for(var h=0,f=Object.getOwnPropertyNames(a);h<f.length;h++){var p=f[h],g=new mn(a[p]);u[p]=g,l[p]=g.getValue(c)}return e.cell!==c&&(e.cell=c),d},t.prototype.checkHeight=function(e){var i=this;setTimeout(function(){var r=e.cell;if(e.cellStamp===r[t._cellStampProp]){var o=r.scrollHeight,s=e.panel.rows,a=e.row.index,l=e.rng,c=l&&l.rowSpan||1,u=e.isEdit;if(null!=s.maxSize&&(o=Math.min(o,s.maxSize)),a<s.length&&s[a].renderHeight*c<o-1){if(s.defaultSize=o/c,u){var d=i._isFullEdit(),h=i.grid;return h.refresh(),void h.startEditing(d)}}else u&&(e.isImeInput?i._initImeEditInput(e.templateCache,e.templateContext):i._initEditInput(e.templateCache,e.templateContext,null))}},0)},t.prototype.doDisposeCell=function(e){for(var i=t._templateTypes,r=0;r<i.length;r++){var o=t.getTemplContextProp(pt[i[r]]),s=e[o];s&&this.disposeTemplate(e,s,(s.column||this.grid)[o])}},t.getTemplContextProp=function(e){return"$__cellTempl"+pt[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,i,r){var o=this,s=!1!==this.getEditorFocusFlag();if(this.setEditorFocusFlag(null),this._setFullEdit(i),s){var a=this._findInitialInput(e);if(a){var l=function(){a.removeEventListener("focus",l),setTimeout(function(){setTimeout(function(){var c=null!=r?r:o._editChar;c&&(a.value=c,o._editChar=null,t._setSelectionRange(a,c.length,c.length),a.dispatchEvent(o._evtInput))},0)},t._FOCUS_INTERVAL)};a.addEventListener("focus",l),a.focus()}}},t.prototype._initImeEditInput=function(e,i){var r=this,o=Oe();if(o&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement)&&st(o,"wj-grid-ime")){var s=this._findInitialInput(e),a=s&&s.style.color,l=this._composing,c=function(){o.removeEventListener("compositionend",c),G(o,Uy._cssHidden),r.setEditorFocusFlag(!0),s&&(s.style.color=a),r._initEditInput(e,i,l?o.value:null)};if(l){if(o.addEventListener("compositionend",c),s){var u=s.getBoundingClientRect(),d=o.getBoundingClientRect(),h=window.getComputedStyle(o),f=parseFloat(h.left),p=parseFloat(h.top);G(o,{left:f+u.left-d.left+"px",top:p+u.top-d.top+"px",width:u.width+"px",height:u.height+"px"}),s.style.color="transparent"}}else setTimeout(function(){return c()},t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var i=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea");if(i)for(var r=0;r<i.length;r++){var o=i[r],s=window.getComputedStyle(o);if("none"!==s.display&&"visible"===s.visibility)return o}return null},t._setSelectionRange=function(e,i,r){if(void 0===r&&(r=i),oe(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(N(i),N(r),ht()?null:"backward"),e.focus()}catch(o){}},t.prototype._triggerEditorEvents=function(e){if(e)for(var i=e.querySelectorAll(".wj-control"),r=0;r<i.length;r++){var s=R.getControl(i[r]);s&&this.flushPendingEvents(s)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var i=this.grid;e.forceFullEdit&&i.activeEditor&&(i._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=R._FOCUS_INTERVAL+20,t}(St);mA||(window.wijmo.grid=null),function(n){n[n.Cell=0]="Cell",n[n.CellEdit=1]="CellEdit",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.RowHeaderEdit=4]="RowHeaderEdit",n[n.TopLeft=5]="TopLeft",n[n.GroupHeader=6]="GroupHeader",n[n.Group=7]="Group",n[n.NewCellTemplate=8]="NewCellTemplate",n[n.ColumnFooter=9]="ColumnFooter",n[n.BottomLeft=10]="BottomLeft"}(pt||(pt={})),xl("wijmo.interop.grid",Ep);var It,bv=["*"],Af=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rf=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},vt=function(n,t){return function(e,i){t(e,i,n)}},Pf=pt,yA={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","showPlaceholders","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","itemValidator","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","pinningColumnNg: pinningColumn","pinnedColumnNg: pinnedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangingNg: groupCollapsedChanging","groupCollapsedChangedNg: groupCollapsedChanged","columnGroupCollapsedChangingNg: columnGroupCollapsedChanging","columnGroupCollapsedChangedNg: columnGroupCollapsedChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:tr,useFactory:function(n){return new w4(n)},multi:!0,deps:["WjComponent"]}]},vA=function(n){function t(i,r,o,s){var a=n.call(this,Ii.getHostElement(i,r))||this;return a.cdRef=s,a.isInitialized=!1,a._wjBehaviour=Ii.attach(a,i,r,o),new wv(a,s),a.deferUpdate(function(){if(a.rows.defaultSize<10){var l=a.hostElement,c=getComputedStyle(l),u=getComputedStyle(document.body),d=2*parseInt(c.fontSize&&oe(document.body,l)?c.fontSize:u.fontSize);a.rows.defaultSize=d,a.columns.defaultSize=4*d,a.columnHeaders.rows.defaultSize=d,a.rowHeaders.columns.defaultSize=Math.round(1.25*d)}}),a.created(),a}var e;return Af(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(i,r,o,s){var a=this;void 0===s&&(s=!1);var l=Ii,c=l.getZone(this);c&&l.outsideZoneEvents[r]?c.runOutsideAngular(function(){n.prototype.addEventListener.call(a,i,r,o,s)}):n.prototype.addEventListener.call(this,i,r,o,s)},t.prototype.startEditing=function(i,r,o,s,a){void 0===i&&(i=!0),this._edtFocus=null;var l=n.prototype.startEditing.call(this,i,r,o,s,a);return l&&(this._edtFocus=s||null==s),l},t.prototype.onCellEditEnding=function(i){return this._edtFocus=null,n.prototype.onCellEditEnding.call(this,i)},t.meta={outputs:yA.outputs},t.\u0275fac=function(r){return new(r||t)(b(re),b(fe),b("WjComponent",12),b(Cn))},t.\u0275cmp=nt({type:t,selectors:[["wj-flex-grid"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",newRowAtTop:"newRowAtTop",allowAddNew:"allowAddNew",allowDelete:"allowDelete",allowDragging:"allowDragging",allowMerging:"allowMerging",allowResizing:"allowResizing",allowSorting:"allowSorting",allowPinning:"allowPinning",autoScroll:"autoScroll",autoRowHeights:"autoRowHeights",autoSizeMode:"autoSizeMode",autoGenerateColumns:"autoGenerateColumns",autoSearch:"autoSearch",caseSensitiveSearch:"caseSensitiveSearch",quickAutoSize:"quickAutoSize",bigCheckboxes:"bigCheckboxes",childItemsPath:"childItemsPath",groupHeaderFormat:"groupHeaderFormat",headersVisibility:"headersVisibility",showSelectedHeaders:"showSelectedHeaders",showMarquee:"showMarquee",showPlaceholders:"showPlaceholders",itemFormatter:"itemFormatter",isReadOnly:"isReadOnly",imeEnabled:"imeEnabled",mergeManager:"mergeManager",selectionMode:"selectionMode",showGroups:"showGroups",showSort:"showSort",showDropDown:"showDropDown",showAlternatingRows:"showAlternatingRows",showErrors:"showErrors",alternatingRowStep:"alternatingRowStep",itemValidator:"itemValidator",validateEdits:"validateEdits",treeIndent:"treeIndent",itemsSource:"itemsSource",autoClipboard:"autoClipboard",expandSelectionOnCopyPaste:"expandSelectionOnCopyPaste",frozenRows:"frozenRows",frozenColumns:"frozenColumns",cloneFrozenCells:"cloneFrozenCells",deferResizing:"deferResizing",sortRowIndex:"sortRowIndex",editColumnIndex:"editColumnIndex",stickyHeaders:"stickyHeaders",preserveSelectedState:"preserveSelectedState",preserveOutlineState:"preserveOutlineState",preserveWhiteSpace:"preserveWhiteSpace",keyActionTab:"keyActionTab",keyActionEnter:"keyActionEnter",rowHeaderPath:"rowHeaderPath",virtualizationThreshold:"virtualizationThreshold",anchorCursor:"anchorCursor",lazyRender:"lazyRender",refreshOnEdit:"refreshOnEdit",copyHeaders:"copyHeaders",columnGroups:"columnGroups"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",beginningEditNg:"beginningEdit",cellEditEndedNg:"cellEditEnded",cellEditEndingNg:"cellEditEnding",prepareCellForEditNg:"prepareCellForEdit",formatItemNg:"formatItem",resizingColumnNg:"resizingColumn",resizedColumnNg:"resizedColumn",autoSizingColumnNg:"autoSizingColumn",autoSizedColumnNg:"autoSizedColumn",draggingColumnNg:"draggingColumn",draggingColumnOverNg:"draggingColumnOver",draggedColumnNg:"draggedColumn",sortingColumnNg:"sortingColumn",sortedColumnNg:"sortedColumn",pinningColumnNg:"pinningColumn",pinnedColumnNg:"pinnedColumn",resizingRowNg:"resizingRow",resizedRowNg:"resizedRow",autoSizingRowNg:"autoSizingRow",autoSizedRowNg:"autoSizedRow",draggingRowNg:"draggingRow",draggingRowOverNg:"draggingRowOver",draggedRowNg:"draggedRow",deletingRowNg:"deletingRow",deletedRowNg:"deletedRow",loadingRowsNg:"loadingRows",loadedRowsNg:"loadedRows",rowEditStartingNg:"rowEditStarting",rowEditStartedNg:"rowEditStarted",rowEditEndingNg:"rowEditEnding",rowEditEndedNg:"rowEditEnded",rowAddedNg:"rowAdded",groupCollapsedChangingNg:"groupCollapsedChanging",groupCollapsedChangedNg:"groupCollapsedChanged",columnGroupCollapsedChangingNg:"columnGroupCollapsedChanging",columnGroupCollapsedChangedNg:"columnGroupCollapsedChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",selectionChangingNg:"selectionChanging",selectionChangedNg:"selectionChanged",scrollPositionChangedNg:"scrollPositionChanged",updatingViewNg:"updatingView",updatedViewNg:"updatedView",updatingLayoutNg:"updatingLayout",updatedLayoutNg:"updatedLayout",pastingNg:"pasting",pastedNg:"pasted",pastingCellNg:"pastingCell",pastedCellNg:"pastedCell",copyingNg:"copying",copiedNg:"copied"},features:[Ie([{provide:"WjComponent",useExisting:Le(function(){return e})}].concat(yA.providers))],ngContentSelectors:bv,decls:2,vars:0,template:function(r,o){1&r&&(Pt(),Ve(0,"div"),Qe(1),je())},encapsulation:2}),t=e=Rf([,vt(0,mt(re)),vt(1,mt(fe)),vt(2,mt("WjComponent")),vt(2,ai()),vt(2,Rt()),vt(3,mt(Cn))],t)}(Ti),bA={selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","cssClassAll","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]},wA=function(n){function t(i,r,o,s){var a=n.call(this)||this;a.cdRef=s,a.isInitialized=!1,a.wjProperty="columns";var l=(a._wjBehaviour=Ii.attach(a,i,r,o)).parentBehavior.directive;return l.autoGenerateColumns&&(l.autoGenerateColumns=!1,l.columns.clear()),a.created(),a}var e;return Af(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:bA.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(r){return new(r||t)(b(re),b(fe),b("WjComponent",12),b(Cn))},t.\u0275cmp=nt({type:t,selectors:[["wj-flex-grid-column"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",cssClassAll:"cssClassAll",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[Ie([{provide:"WjComponent",useExisting:Le(function(){return e})}].concat(bA.providers))],ngContentSelectors:bv,decls:2,vars:0,template:function(r,o){1&r&&(Pt(),Ve(0,"div"),Qe(1),je())},encapsulation:2}),t=e=Rf([,vt(0,mt(re)),vt(1,mt(fe)),vt(2,mt("WjComponent")),vt(2,ai()),vt(2,Rt()),vt(3,mt(Cn))],t)}(on),CA={selector:"wj-flex-grid-column-group",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","cssClassAll","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor","collapseTo","isCollapsed"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]},wv=(function(n){function t(i,r,o){var s=n.call(this)||this;return s.isInitialized=!1,s.wjProperty="columnGroups",s._wjBehaviour=Ii.attach(s,i,r,o),s.created(),s}var e;Af(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:CA.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(r){return new(r||t)(b(re),b(fe),b("WjComponent",12))},t.\u0275cmp=nt({type:t,selectors:[["wj-flex-grid-column-group"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",cssClassAll:"cssClassAll",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor",collapseTo:"collapseTo",isCollapsed:"isCollapsed"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[Ie([{provide:"WjComponent",useExisting:Le(function(){return e})}].concat(CA.providers))],ngContentSelectors:bv,decls:2,vars:0,template:function(r,o){1&r&&(Pt(),Ve(0,"div"),Qe(1),je())},encapsulation:2}),t=e=Rf([,vt(0,mt(re)),vt(1,mt(fe)),vt(2,mt("WjComponent")),vt(2,ai()),vt(2,Rt())],t)}(Gs),function(){function n(e,i,r,o,s,a){if(this.viewContainerRef=e,this.templateRef=i,this.elRef=r,this.cdRef=a,this.autoSizeRows=!0,this.forceFullEdit=!0,o instanceof Ti)this.grid=o;else if(o instanceof on){this.column=o;var l=void 0,c=Ii.getBehavior(o);do{l=(c=c.parentBehavior)&&c.directive}while(l&&!(l instanceof Ti));this.grid=l}}var t;t=n,n.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},n.prototype.ngOnDestroy=function(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[wv.getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},n.prototype._instantiateTemplate=function(e,i){return Ii.instantiateTemplate(e,this.viewContainerRef,this.templateRef,!1,i)},n.prototype._attachToControl=function(){if(this.cellTypeStr){var e=this.cellType=Xe(this.cellTypeStr,Pf),i=this.ownerControl;i[wv.getTemplContextProp(e)]=this,i instanceof on&&(e===Pf.Cell||e===Pf.ColumnHeader||e===Pf.ColumnFooter)&&i._setFlag(be.HasTemplate,!0),this.grid.invalidate()}},n.\u0275fac=function(i){return new(i||n)(b(li),b(Bi,8),b(re),b("WjComponent",12),b(fe),b(Cn))},n.\u0275dir=U({type:n,selectors:[["","wjFlexGridCellTemplate",""]],inputs:{wjFlexGridCellTemplate:"wjFlexGridCellTemplate",cellTypeStr:["cellType","cellTypeStr"],cellOverflow:"cellOverflow",valuePaths:"valuePaths",autoSizeRows:"autoSizeRows",forceFullEdit:"forceFullEdit"},exportAs:["wjFlexGridCellTemplate"],features:[Ie([{provide:"WjComponent",useExisting:Le(function(){return t})}])]}),n=t=Rf([,vt(0,mt(li)),vt(1,mt(Bi)),vt(1,Rt()),vt(2,mt(re)),vt(3,mt("WjComponent")),vt(3,ai()),vt(3,Rt()),vt(4,mt(fe)),vt(5,mt(Cn))],n)}(),function(n){function t(e,i){var r=n.call(this,e)||this;return r._needsCdCheck=!1,r._gridCdRef=i,e.updatedView.addHandler(function(){r._needsCdCheck&&(r._needsCdCheck=!1,r._gridCdRef.markForCheck())},r),r}return Af(t,n),t.prototype.shouldInstantiate=function(e){var i=e.templateCache;return null==i||i.column!==e.column||!i.viewRef||i.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=i.rootElement},t.prototype.renderTemplate=function(e,i){var r=e.row,o=i?{}:e.templateCache.viewRef.context,s=e.templateContext;if(e.cellBindingsData=this.setBindingsData(o,r,e.column,r.dataItem,e.cellValue,s.valuePaths),i){var a=e.cell,l=s._instantiateTemplate(a,o),c=e.templateCache={column:e.column,viewRef:l.viewRef,rootElement:l.rootElement,templateContextProperty:e.templateContextProperty};a[e.templateContextProperty]=c}},t.prototype.setBindingsData=function(e,i,r,o,s,a){return this._needsCdCheck=!0,n.prototype.setBindingsData.call(this,e,i,r,o,s,a)},t.prototype.disposeTemplate=function(e,i,r){if(i&&i.viewRef){if(r){var o=r.viewContainerRef.indexOf(i.viewRef);o>-1&&r.viewContainerRef.remove(o)}i.viewRef=null,n.prototype.disposeTemplate.call(this,e,i,r)}},t.prototype.clearCell=function(e){e.textContent=""},t.prototype.applyImmediately=function(e){e.templateContext.cdRef.detectChanges()},t.prototype.flushPendingEvents=function(e){if(e){var i=Ii.getBehavior(e);i&&i.flushPendingEvents()}},t.prototype.getEditorFocusFlag=function(){return this.grid._edtFocus},t.prototype.setEditorFocusFlag=function(e){this.grid._edtFocus=e},t.prototype.checkHeight=function(e){var i=this;Ii.getZone(this.grid).runOutsideAngular(function(){n.prototype.checkHeight.call(i,e)})},t}(_A)),x4=function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[hl]]}),n}(),Cv=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){n[n.None=0]="None",n[n.Condition=1]="Condition",n[n.Value=2]="Value",n[n.Both=3]="Both"}(It||(It={}));var At,Of=function(){function n(t,e){this._showIcons=!0,this._showSort=!0,this._defFilterType=It.Both,this._xValueSearch=!0,this.filterApplied=new x,this.editingFilter=new x,this.filterChanging=new x,this.filterChanged=new x,this._filters=[],this._g=ot(t,Ti,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var i=this._g.hostElement;t.addEventListener(i,"mousedown",this._mousedown.bind(this),!0),t.addEventListener(i,"click",this._click.bind(this),!0),t.addEventListener(i,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),wo(this,e)}return Object.defineProperty(n.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(t){this._filterColumns=Sn(t),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(t){t!=this.showFilterIcons&&(this._showIcons=M(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(t){this._showSort=M(t)},enumerable:!0,configurable:!0}),n.prototype.getColumnFilter=function(t,e){if(void 0===e&&(e=!0),t=this._asColumn(t)){for(var i=0;i<this._filters.length;i++)if(this._filters[i].column==t)return this._filters[i];if(e&&t.binding){var r=new Sv(this,t);return this._filters.push(r),r}}return null},Object.defineProperty(n.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(t){(t=Xe(t,It,!1))!=this.defaultFilterType&&(this._defFilterType=t,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(t){this._xValueSearch=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterDefinition",{get:function(){var t=this,e={defaultFilterType:this.defaultFilterType,filters:[]};return this._filters.forEach(function(i){var r=i.conditionFilter,o=i.valueFilter,s=o.uniqueValues&&o.uniqueValues.length;if(i&&i.column&&i.column.binding&&(i.isActive||s||i.filterType!=t.defaultFilterType)){var a={binding:i.column.binding};if(r.isActive){var l=r.condition1,c=r.condition2;a={binding:i.column.binding,type:"condition",condition1:{operator:l.operator,value:l.value},and:r.and,condition2:{operator:c.operator,value:c.value}}}else(o.isActive||s)&&(a={binding:i.column.binding,type:"value",uniqueValues:o.uniqueValues,sortValues:o.sortValues,maxValues:o.maxValues,exclusiveValueSearch:o.exclusiveValueSearch,showValues:o.showValues});i.filterType!=t.defaultFilterType&&(a.filterType=i.filterType),e.filters.push(a)}}),JSON.stringify(e)},set:function(t){if(t=k(t),this.clear(),t){var e=JSON.parse(t);this.defaultFilterType=e.defaultFilterType;for(var i=function(s){var a=e.filters[s],l=r._asColumn(a.binding);l||(l=new on({binding:a.binding}));var c=r.getColumnFilter(l,!0);if(c)switch(null!=a.filterType&&(c.filterType=Xe(a.filterType,It)),a.type){case"condition":var u=c.conditionFilter;u.condition1.value=l.dataType==We.Date?js(a.condition1.value,l.dataType,null):a.condition1.value,u.condition1.operator=a.condition1.operator,u.and=a.and,u.condition2.value=l.dataType==We.Date?js(a.condition2.value,l.dataType,null):a.condition2.value,u.condition2.operator=a.condition2.operator;break;case"value":var d=c.valueFilter;d.uniqueValues=a.uniqueValues,["sortValues","maxValues","exclusiveValueSearch"].forEach(function(h){null!=a[h]&&(d[h]=a[h])}),d.showValues=a.showValues}},r=this,o=0;o<e.filters.length;o++)i(o)}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"activeEditor",{get:function(){return R.getControl(this._divEdt)},enumerable:!0,configurable:!0}),n.prototype.editColumnFilter=function(t,e,i){var r=this,o=this._g;this.closeEditor(),t=this._asColumn(t);var s=new et(o.cells,new $(-1,t.index));if(this.onEditingFilter(s)){var a=Je('<div class="wj-dropdown-panel"></div>'),l=this.getColumnFilter(t),c=new SA(a,l,this.showSortButtons);if(this._divEdt=a,this._edtCol=t,o.rightToLeft&&(a.dir="rtl"),this.onFilterChanging(s)){s.cancel=!0,c.filterChanged.addHandler(function(){s.cancel=!1,setTimeout(function(){s.cancel||r.apply()})}),c.buttonClicked.addHandler(function(){r.closeEditor(),o.focus(),r.onFilterChanged(s)}),c.lostFocus.addHandler(function(){setTimeout(function(){var w=R.getControl(r._divEdt);w&&!w.containsFocus()&&r.closeEditor()},10)});var u=e?e.col:t.index,d=o.columns[u];e||d&&d.binding==t.binding||(u=o.selection.leftCol),o._edtHdl._commitRowEdits(),o.scrollIntoView(-1,u,!0);var h=o.columnHeaders,f=e&&e.panel==h?e.row:h.rows.length-1,p=u,g=i||h.getCellElement(f,p),m=g?null:h.getCellBoundingRect(f,p);g?xi(a,g,!1,!1,!1):xi(a,m),this._setAriaExpanded(g,!0),this._setAriaExpanded(o.cells.getCellElement(-1,p),!0);for(var y=c.hostElement.querySelectorAll("input"),_=0;_<y.length;_++){var v=y[_];if(v.offsetHeight>0&&v.tabIndex>-1&&!v.disabled){v.focus();break}}c.containsFocus()||c.focus()}else this._divEdt=this._edtCol=null}},n.prototype._setAriaExpanded=function(t,e){t&&F(t.querySelector("."+n._WJC_FILTER),"aria-expanded",e)},n.prototype.closeEditor=function(){var t=this._g,e=R.getControl(this._divEdt),i=this._edtCol;if(e&&Tr(e.hostElement,function(){e.dispose()}),i){var r=t.columnHeaders,o=r.rows.length?r.getCellElement(r.rows.length-1,i.index):null;this._setAriaExpanded(o,!1),o=t.cells.getCellElement(-1,i.index),this._setAriaExpanded(o,!1)}this._divEdt=null,this._edtCol=null},n.prototype.apply=function(){var t=this._g.collectionView;if(t){var e=this._g.editableCollectionView;e&&(e.commitEdit(),e.commitNew()),t.filter=this._filter.bind(this)}var i=t?t.updateFilterDefinition:null;Pe(i)&&i.call(t,this),this.onFilterApplied()},n.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},n.prototype.onFilterApplied=function(t){this.filterApplied.raise(this,t)},n.prototype.onEditingFilter=function(t){return this.editingFilter.raise(this,t),!t.cancel},n.prototype.onFilterChanging=function(t){return this.filterChanging.raise(this,t),!t.cancel},n.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},n.prototype._asColumn=function(t){return le(t)?this._g.getColumn(t,!0):Be(t)?this._g.columns[t]:ot(t,on,!1)},n.prototype._filter=function(t){for(var e=this._filters,i=0;i<e.length;i++){var r=e[i];if(r.column!=n._skipColumn&&!r.apply(t))return!1}return!0},n.prototype._formatItem=function(t,e){if(e.panel==t.columnHeaders){var i=this._g,r=i.getMergedRange(e.panel,e.row,e.col)||new $(e.row,e.col),o=i.columns[r.col],s=i._getBindingColumn(e.panel,e.row,o),a=e.cell;if(r.row2==e.panel.rows.length-1||o!=s){var l=this.getColumnFilter(s,this.defaultFilterType!=It.None),c=this._filterColumns;c&&c.length&&c.indexOf(s.binding)<0&&c.indexOf(s.name)<0&&(l=null),l?(ge(a,"wj-filter-on",l.isActive),ge(a,"wj-filter-off",!l.isActive)):(ei(a,"wj-filter-on"),ei(a,"wj-filter-off")),l&&l.filterType!=It.None&&(this._showIcons&&this._addFilterButton(s,l,a),0==e.row&&(a=i.cells.getCellElement(-1,e.col))&&this._addFilterButton(o,l,a))}}},n.prototype._addFilterButton=function(t,e,i){var r=n._WJC_FILTER,o=Je('<button class="wj-btn wj-btn-glyph wj-right '+r+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');at(o,ve.FlexGridFilter.ariaLabels.edit+" "+t.header),F(o,"aria-haspopup","dialog"),F(o,"aria-expanded",!1),F(o,"aria-describedby",t.describedById),F(o,"aria-pressed",e.isActive),i.querySelector("."+r)||(1==i.children.length&&(i=i.querySelector("div")||i),i.insertBefore(o,i.firstChild))},n.prototype._mousedown=function(t){this._edtColPrev=this._edtCol},n.prototype._click=function(t){this._toggleEditor(t)&&(t.stopPropagation(),t.preventDefault())},n.prototype._toggleEditor=function(t){var e=this;if(!t.defaultPrevented&&0==t.button)if(di(t.target,n._WJC_FILTER)){var i=this._g,r=i.hitTest(t.target);if(r.panel||(r=i.hitTest(t)),r.panel==i.columnHeaders||r.panel==i.cells&&-1==r.row){var o=i.getMergedRange(r.panel,r.row,r.col)||new $(r.row,r.col),a=i._getBindingColumn(r.panel,r.row,i.columns[o.col]);return this._divEdt&&this._edtCol==a?(this.closeEditor(),i.focus()):a!=this._edtColPrev&&setTimeout(function(){e.editColumnFilter(a,r)},this._divEdt?100:0),!0}}else this.closeEditor();return!1},n.prototype._keydown=function(t){if(!t.defaultPrevented&&!t.ctrlKey&&t.altKey&&(t.keyCode==E.Down||t.keyCode==E.Up)){var e=this.grid,i=e.selection,r=i.col>-1?e.columns[i.col]:null,o=r?e._getBindingColumn(e.cells,i.row,r):null,s=o&&o.dataMap&&o.dataMapEditor==fi.DropDownList;if(o&&o.editor instanceof Us&&(s=!0),o&&!s){var a=this.getColumnFilter(o,!1);a&&a.filterType!=It.None&&(this.editColumnFilter(o),t.preventDefault(),t.stopPropagation())}}},n._WJC_FILTER="wj-elem-filter",n}(),Ev=function(){function n(t){this._c1=new kf(this),this._c2=new kf(this),this._and=!0,this._col=t}return Object.defineProperty(n.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"and",{get:function(){return this._and},set:function(t){this._and=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=ot(t,Cu,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),n.prototype.apply=function(t){var e=this._col,i=this._c1,r=this._c2,o=!1,s=!1;if(!e||!e._binding||!this.isActive)return!0;t=e._binding.getValue(t);var a=this.dataMap||e.dataMap;if(a)t=a.getDisplayValue(t);else if(yt(t)){o=!this._hasTimePart(),s=!this._hasDatePart();var l=kf._refDateTime;o?t=K.fromDateTime(t,l):s&&(t=K.fromDateTime(l,t))}else if(Be(t)){var c=Ce,u=e.format,d=c.formatNumber(t,u);t=c.parseFloat(d,u)}var h=i.apply(t,o,s),f=r.apply(t,o,s);return i.isActive&&r.isActive?this._and?h&&f:h||f:i.isActive?h:!r.isActive||f},n.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},n.prototype._hasDatePart=function(){var t=this._col.format;return!t||/[yMd]+/.test(t=ve.Globalize.calendar.patterns[t]||t)},n.prototype._hasTimePart=function(){var t=this._col.format;return!!t&&/[Hmst]+/.test(t=ve.Globalize.calendar.patterns[t]||t)},n.prototype.implementsInterface=function(t){return"IColumnFilter"==t},n}(),EA=function(n){function t(e,i){var r=n.call(this,e)||this;r._canApply=!1,r.canApplyChanged=new x,r._filter=ot(i,Ev,!1);var o=r.getTemplate();r.applyTemplate("wj-control wj-conditionfilter-editor",o,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var s=ve.FlexGridFilter,a=s.ariaLabels;at(r._btnAnd,a.and),at(r._btnOr,a.or),Ut(r._divHdr,s.header),Ut(r._spAnd,s.and),Ut(r._spOr,s.or),r._cmb1=r._createOperatorCombo(r._divCmb1,a.op1),r._cmb2=r._createOperatorCombo(r._divCmb2,a.op2),r._val1=r._createValueInput(r._divVal1,a.val1),r._val2=r._createValueInput(r._divVal2,a.val2),r._val1.isDisabled=!0,r._cmb1.selectedIndexChanged.addHandler(function(c,u){r._val1.isDisabled=null==c.selectedValue,r.canApply=!r._val1.isDisabled||!r._val2.isDisabled}),r._val2.isDisabled=!0,r._cmb2.selectedIndexChanged.addHandler(function(c,u){r._val2.isDisabled=null==c.selectedValue,r.canApply=!r._val1.isDisabled||!r._val2.isDisabled});var l=r.hostElement;return r.addEventListener(l,"change",r._btnAndOrChanged.bind(r)),r.addEventListener(l,"keydown",r._keydown.bind(r)),setTimeout(function(){r.updateEditor()}),r}return Cv(t,n),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canApply",{get:function(){return this._canApply},set:function(e){e!=this._canApply&&(this._canApply=e,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.condition1,i=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=i.operator,this._val1 instanceof Do&&!(this._val1 instanceof cf)?(this._val1.text=js(e.value,We.String),this._val2.text=js(i.value,We.String)):(this._val1.value=e.value,this._val2.value=i.value);var r=this._filter.and;this._checkRadio(this._btnAnd,r),this._checkRadio(this._btnOr,!r)},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return null==this._cmb1.selectedValue&&!this._val1.text&&null==this._cmb2.selectedValue&&!this._val2.text},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=this._filter.condition1,i=this._filter.condition2;e.operator=this._cmb1.selectedValue,i.operator=this._cmb2.selectedValue,"value"in this._val1?(e.value=this._val1.value,i.value=this._val2.value):(e.value=this._getComboValue(this._val1),i.value=this._getComboValue(this._val2)),this._filter.and=this._btnAnd.checked},t.prototype.onCanApplyChanged=function(e){this.canApplyChanged.raise(this,e)},t.prototype._getComboValue=function(e){return e.selectedIndex>-1?e.selectedValue:e.text},t.prototype._createOperatorCombo=function(e,i){var r=this._filter.column,o=ve.FlexGridFilter,s=o.stringOperators;this._filter.dataMap||r.dataMap||(r.dataType==We.Date?s=o.dateOperators:r.dataType==We.Number?s=o.numberOperators:r.dataType==We.Boolean&&(s=o.booleanOperators));var l=new Do(e,{itemsSource:s,displayMemberPath:"name",selectedValuePath:"op"});return at(l.inputElement,i),l},t.prototype._createValueInput=function(e,i){var r=this._filter,o=r.column,s=r.dataMap||o.dataMap,a=null,l=We;return o.dataType==l.Date?(a=r._hasDatePart()?r._hasTimePart()?new YT(e):new lf(e):new cf(e)).format=o.format:o.dataType!=l.Number||s?(a=new Do(e),s?(a.itemsSource=s.getDisplayValues(),a.isEditable=!0,a.caseSensitiveSearch=!!o.grid&&o.grid.caseSensitiveSearch):o.dataType==l.Boolean&&(a.itemsSource=[!0,!1])):(a=new $T(e)).format=o.format,a.isRequired=!1,at(a.inputElement,i),a},t.prototype._btnAndOrChanged=function(e){var i=e.target==this._btnAnd,r=e.target==this._btnOr;(i||r)&&(this._checkRadio(this._btnAnd,i),this._checkRadio(this._btnOr,r))},t.prototype._checkRadio=function(e,i){e.checked=i,F(e,"aria-checked",i.toString()),F(e,"tabindex",i?null:"-1")},t.prototype._keydown=function(e){var i=e.target==this._btnAnd;if(i||e.target==this._btnOr)switch(e.keyCode){case E.Left:case E.Right:case E.Up:case E.Down:var o=i?this._btnOr:this._btnAnd;o.click(),o.focus(),e.preventDefault()}},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(R),kf=function(){function n(t){this._op=null,this._filter=t}return Object.defineProperty(n.prototype,"operator",{get:function(){return this._op},set:function(t){this._op=Xe(t,At,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._val},set:function(t){this._val=t,this._strVal=le(t)?this._getCaseString(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case At.EQ:case At.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.operator=null,this.value=null},n.prototype.apply=function(t,e,i){var r=this._strVal||this._val;switch(le(t)&&(t=this._getCaseString(t)),le(r)&&null==t&&(t=""),yt(r)&&(e?r=K.fromDateTime(r,n._refDateTime):i&&(r=K.fromDateTime(n._refDateTime,r))),this._op){case null:return!0;case At.EQ:return null!=t&&null!=r?t.valueOf()==r.valueOf():t==r;case At.NE:return null!=t&&null!=r?t.valueOf()!=r.valueOf():t!=r;case At.GT:return t>r;case At.GE:return t>=r;case At.LT:return t<r;case At.LE:return t<=r;case At.BW:return!(null==this._strVal||!le(t))&&0==t.indexOf(this._strVal);case At.EW:return!!(null!=this._strVal&&le(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==r;case At.CT:return!(null==this._strVal||!le(t))&&t.indexOf(this._strVal)>-1;case At.NC:return!(null==this._strVal||!le(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},n.prototype._getCaseString=function(t){var e=this._filter.column,i=e?e.grid:null;return i&&i.caseSensitiveSearch?t:t.toLowerCase()},n._refDateTime=new Date(2e3,0,1,0,0,0),n}();!function(n){n[n.EQ=0]="EQ",n[n.NE=1]="NE",n[n.GT=2]="GT",n[n.GE=3]="GE",n[n.LT=4]="LT",n[n.LE=5]="LE",n[n.BW=6]="BW",n[n.EW=7]="EW",n[n.CT=8]="CT",n[n.NC=9]="NC"}(At||(At={}));var Dv=function(){function n(t){this._values=null,this._filterText=null,this._xValueSearch=!0,this._maxValues=250,this._uniqueValues=null,this._sortValues=!0,this._col=t}return Object.defineProperty(n.prototype,"showValues",{get:function(){return this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filterText",{get:function(){return this._filterText},set:function(t){this._filterText=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(t){this._xValueSearch=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxValues",{get:function(){return this._maxValues},set:function(t){this._maxValues=N(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(t){this._uniqueValues=Sn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortValues",{get:function(){return this._sortValues},set:function(t){this._sortValues=M(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=ot(t,Cu,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),n.prototype.apply=function(t){var e=this.column;return!(e&&e._binding&&this._values&&Object.keys(this._values).length)||(t=e._binding.getValue(t),t=this.dataMap?this.dataMap.getDisplayValue(t)||"":e.dataMap?e.dataMap.getDisplayValue(t)||"":Ce.format(t,e.format),null!=this._values[t])},n.prototype.clear=function(){this.showValues=null,this.filterText=null},n.prototype.getUniqueValues=function(t){void 0===t&&(t=!0);var e=[],i=this.column,r=Ce.format;if(this.uniqueValues)return this.uniqueValues.forEach(function(h){e.push({value:h,text:r(h,i.format)})}),e;var o={},s=i.collectionView,a=s?s.sourceCollection:[];if(t&&s&&s.sourceCollection&&s.filter)try{Of._skipColumn=this._col;for(var l=[],c=0;c<a.length;c++)s.filter(a[c])&&l.push(a[c]);a=l}finally{Of._skipColumn=null}for(c=0;c<a.length;c++){var u=i._binding.getValue(a[c]),d=this.dataMap?this.dataMap.getDisplayValue(u)||"":i.dataMap?i.dataMap.getDisplayValue(u)||"":r(u,i.format);o[d]||(o[d]=!0,e.push({value:u,text:d}))}return e},n.prototype.implementsInterface=function(t){return"IColumnFilter"==t},n}(),DA=function(n){function t(e,i){var r=n.call(this,e)||this;r._canApply=!1,r.canApplyChanged=new x,r._filter=ot(i,Dv,!1);var o=r.getTemplate();r.applyTemplate("wj-control wj-valuefilter-editor",o,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),r._cbSelectAll.tabIndex=0;var s=ve.FlexGridFilter;Ut(r._spSelectAll,s.selectAll);var a=r._view=new Ji(null,{sortNulls:xr.First,filter:r._filterValues.bind(r)});return i.sortValues&&a.sortDescriptions.push(new bo(i.column.dataMap||i.dataMap?"text":"value",i.column.dataType!=We.Boolean)),a.collectionChanged.addHandler(r._updateSelectAllCheck,r),r._filterText="",r._rxFilter=null,r._cmbFilter=new Do(r._divFilter,{isRequired:!1,placeholder:s.search}),r._lbValues=new zs(r._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:r._view,itemFormatter:function(u,d){return d||s.null},checkedItemsChanged:function(u){return r._updateSelectAllCheck()}}),at(r._cmbFilter.inputElement,s.ariaLabels.search),r._cmbFilter.inputElement.addEventListener("input",r._filterTextChanged.bind(r)),r._cbSelectAll.addEventListener("click",r._cbSelectAllClicked.bind(r)),r.updateEditor(),r._initialItems=r._lbValues.checkedItems,r}return Cv(t,n),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canApply",{get:function(){return this._canApply},set:function(e){e!=this._canApply&&(this._canApply=e,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.column,i=this._filter.getUniqueValues(!0);this._lbValues.isContentHtml=e.isContentHtml;var r=this._filter.showValues;if(r&&0!=Object.keys(r).length){for(var o in r)for(var s=0;s<i.length;s++)if(i[s].text==o){i[s].show=!0;break}}else i.forEach(function(u){return u.show=!0});var a=this._filter.filterText||"",l=this._getCaseSensitive();this._cmbFilter.text=a,this._filterText=l?a:a.toLowerCase(),this._rxFilter=a?new RegExp(vu(a),l?"":"i"):null;var c=this._view;c.pageSize=this._filter.maxValues,c.sourceCollection=i},t.prototype.clearEditor=function(e){void 0===e&&(e=!0),this._cmbFilter.text="",this._filterText="",this._rxFilter=null;var i=this._view;i.pageSize=0,i.items.forEach(function(r){r.show=e}),i.moveCurrentTo(-1),i.refresh(),i.pageSize=this._filter.maxValues},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return!this._filterText&&!this._cbSelectAll.indeterminate},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=null,i=this._getItems();if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var r=0;r<i.length;r++){var o=i[r];o.show&&(e[o.text]=!0)}}var s=this._filter;s.showValues=e,s.filterText=this._filterText},t.prototype.onCanApplyChanged=function(e){this.canApplyChanged.raise(this,e)},t.prototype._getCaseSensitive=function(){var e=this._filter.column,i=e?e.grid:null;return i&&i.caseSensitiveSearch},t.prototype._getItems=function(){return this._filter.exclusiveValueSearch?this._view.items:this._view.sourceCollection},t.prototype._filterTextChanged=function(){var e=this;this._toFilter&&clearTimeout(this._toFilter),this._toFilter=setTimeout(function(){var i=e._cmbFilter.text,r=e._getCaseSensitive();if(r||(i=i.toLowerCase()),i!=e._filterText){if(e._filterText=i,e._rxFilter=i?new RegExp(vu(i),r?"":"i"):null,e._view.refresh(),!i){var o=e._initialItems;if(o.length&&e._view.sourceCollection.indexOf(o[0])>-1)return e._lbValues.checkedItems=e._initialItems,void e._updateSelectAllCheck()}e._filter.exclusiveValueSearch?(e._cbSelectAll.checked=!0,e._cbSelectAllClicked()):e._updateSelectAllCheck()}},R._SEARCH_DELAY)},t.prototype._filterValues=function(e){var i=this._rxFilter;return null==i||null==e||i.test(e.text)},t.prototype._cbSelectAllClicked=function(){for(var e=this._cbSelectAll.checked,i=this._divValues.scrollTop,r=this._getItems(),o=0;o<r.length;o++)r[o].show=e;this._view.refresh(),this._divValues.scrollTop=i},t.prototype._updateSelectAllCheck=function(){for(var e=this._getItems(),i=0,r=0,o=0;o<e.length&&(e[o].show?i++:r++,!i||!r);o++);Hs(this._cbSelectAll,i&&r?null:i>0),this.canApply=i>0},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',t}(R),Sv=function(){function n(t,e){this._owner=t,this._col=e,this._valueFilter=new Dv(e),this._valueFilter.exclusiveValueSearch=t.exclusiveValueSearch,this._conditionFilter=new Ev(e)}return Object.defineProperty(n.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(t){if((t=Xe(t,It,!0))!=this._filterType){var e=this.isActive;this.clear(),this._filterType=t,e?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(t){this.conditionFilter.dataMap=t,this.valueFilter.dataMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),n.prototype.apply=function(t){return this._conditionFilter.apply(t)&&this._valueFilter.apply(t)},n.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},n.prototype.implementsInterface=function(t){return"IColumnFilter"==t},n}();Eo("FlexGridFilter",{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:"\u2191 Ascending",descending:"\u2193 Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:At.EQ},{name:"Does not equal",op:At.NE},{name:"Begins with",op:At.BW},{name:"Ends with",op:At.EW},{name:"Contains",op:At.CT},{name:"Does not contain",op:At.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:At.EQ},{name:"Does not equal",op:At.NE},{name:"Is Greater than",op:At.GT},{name:"Is Greater than or equal to",op:At.GE},{name:"Is Less than",op:At.LT},{name:"Is Less than or equal to",op:At.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:At.EQ},{name:"Is Before",op:At.LT},{name:"Is After",op:At.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:At.EQ},{name:"Does not equal",op:At.NE}]});var SA=function(n){function t(e,i,r){void 0===r&&(r=!0);var o=n.call(this,e,null,!0)||this;o.filterChanged=new x,o.buttonClicked=new x,o._filter=ot(i,Sv);var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-columnfiltereditor",s,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var a=ve.FlexGridFilter,l=a.ariaLabels,c=o.hostElement,u=o.filter.column,d=u.grid.collectionView;F(c,"role","dialog"),at(c,l.dialog+" "+u.header),at(o._btnAsc,l.asc),at(o._btnDsc,l.dsc),Ut(o._btnAsc,a.ascending),Ut(o._btnDsc,a.descending),Ut(o._aVal,a.values),Ut(o._aCnd,a.conditions),Ut(o._btnApply,a.apply),Ut(o._btnCancel,a.cancel),Ut(o._btnClear,a.clear),o._showFilter(o.filter.conditionFilter.isActive||0==(i.filterType&It.Value)?It.Condition:It.Value),r&&d&&d.canSort||(o._divSort.style.display="none"),o._updateSortButtonState();var f=o._btnClicked.bind(o);return o._btnApply.addEventListener("click",f),o._btnCancel.addEventListener("click",f),o._btnClear.addEventListener("click",f),o._btnAsc.addEventListener("click",f),o._btnDsc.addEventListener("click",f),o._aVal.addEventListener("click",f),o._aCnd.addEventListener("click",f),o.addEventListener(c,"keydown",function(p){if(!p.defaultPrevented){var g=p.target.tagName.match(/^(a|button)$/i);switch(p.keyCode){case E.Space:g&&(o._btnClicked(p),p.preventDefault());break;case E.Enter:g?o._btnClicked(p):(o.updateFilter(),o.onFilterChanged(),o.onButtonClicked()),p.preventDefault();break;case E.Escape:o.onButtonClicked(),p.preventDefault();break;case E.Tab:Zo(o.hostElement,p.shiftKey?-1:1),p.preventDefault()}}}),o.addEventListener(window,"resize",function(){o.isTouching||o._wasTouching||o.onButtonClicked()}),o}return Cv(t,n),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case It.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case It.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},t.prototype.onButtonClicked=function(e){this.buttonClicked.raise(this,e)},t.prototype._showFilter=function(e){var i=this;this._wasTouching=this.isTouching,e==It.Value&&null==this._edtVal&&(this._edtVal=new DA(this._divEdtVal,this.filter.valueFilter),this._edtVal.canApplyChanged.addHandler(function(o){xn(i._btnApply,i._edtVal.canApply)})),e==It.Condition&&null==this._edtCnd&&(this._edtCnd=new EA(this._divEdtCnd,this.filter.conditionFilter),this._edtCnd.canApplyChanged.addHandler(function(o){xn(i._btnApply,i._edtCnd.canApply)})),0!=(e&this.filter.filterType)&&(e==It.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus(),xn(this._btnApply,this._edtVal.canApply)):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus(),xn(this._btnApply,this._edtCnd.canApply)));var r=this._divType.style;switch(this.filter.filterType){case It.None:case It.Condition:case It.Value:r.display="none";break;default:r.display=""}},t.prototype._enableLink=function(e,i){ge(e,"wj-state-disabled",!i),F(e,"href",i?"":null),F(e,"disabled",i?null:"disabled")},t.prototype._updateSortButtonState=function(){var e=this.filter.column,i=e?e.currentSort:"",r="wj-state-active";ge(this._btnAsc,r,"+"==i),ge(this._btnDsc,r,"-"==i)},t.prototype._getFilterType=function(){return"none"!=this._divEdtVal.style.display?It.Value:It.Condition},t.prototype._btnClicked=function(e){var i=this,r=e.target;if(e.preventDefault(),e.stopPropagation(),!st(r,"wj-state-disabled"))if(r!=this._aVal)if(r!=this._aCnd){if(r==this._btnAsc||r==this._btnDsc){var o=this.filter.column,s=o.sortMemberPath||o.binding,a=o.grid.collectionView.sortDescriptions;a.deferUpdate(function(){a.clear(),a.push(new bo(s,e.target==i._btnAsc))}),this._updateSortButtonState()}r==this._btnApply?(this.updateFilter(),this.onFilterChanged()):r==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}else this._showFilter(It.Condition),Zo(this._edtCnd.hostElement,0);else this._showFilter(It.Value),Zo(this._edtVal.hostElement,0)},t.controlTemplate='<div><div wj-part="div-sort" class="wj-sort-buttons"><button wj-part="btn-asc" class="wj-btn"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div></div>',t}(R);xl("wijmo.grid.filter",Dp);var M4=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,e)};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Iu=function(n,t){return function(e,i){t(e,i,n)}},xA={selector:"wj-flex-grid-filter",template:"",inputs:["wjProperty","showFilterIcons","showSortButtons","defaultFilterType","filterColumns"],outputs:["initialized","editingFilterNg: editingFilter","filterChangingNg: filterChanging","filterChangedNg: filterChanged","filterAppliedNg: filterApplied"],providers:[]},MA=function(n){function t(i,r,o){var s=n.call(this,o)||this;return s.isInitialized=!1,s._wjBehaviour=Ii.attach(s,i,r,o),s.created(),s}var e;return M4(t,n),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:xA.outputs},t.\u0275fac=function(r){return new(r||t)(b(re),b(fe),b("WjComponent",12))},t.\u0275cmp=nt({type:t,selectors:[["wj-flex-grid-filter"]],inputs:{wjProperty:"wjProperty",showFilterIcons:"showFilterIcons",showSortButtons:"showSortButtons",defaultFilterType:"defaultFilterType",filterColumns:"filterColumns"},outputs:{initialized:"initialized",editingFilterNg:"editingFilter",filterChangingNg:"filterChanging",filterChangedNg:"filterChanged",filterAppliedNg:"filterApplied"},features:[Ie([{provide:"WjComponent",useExisting:Le(function(){return e})}].concat(xA.providers))],decls:0,vars:0,template:function(r,o){},encapsulation:2}),t=e=function(n,t,e,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(r=n[a])&&(s=(o<3?r(s):o>3?r(t,e,s):r(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([,Iu(0,mt(re)),Iu(1,mt(fe)),Iu(2,mt("WjComponent")),Iu(2,ai()),Iu(2,Rt())],t)}(Of),I4=function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[hl]]}),n}();const A4=[{path:"",component:(()=>{class n{constructor(e){this.store=e,this.gridData$=this.store.gridData$,this.itemFormatter=(i,r,o,s)=>{i.cellType===Y.ColumnHeader&&(s.style.textAlign="center")}}cellValueChanged(e){const{row:i,row2:r}=e.range,o=e.panel.rows.filter(s=>i<=s.index&&s.index<=r).map(s=>s.dataItem);console.log(o)}}return n.\u0275fac=function(e){return new(e||n)(b(Sq))},n.\u0275cmp=nt({type:n,selectors:[["app-main"]],decls:13,vars:9,consts:[[1,"main-container"],[1,"title-container"],[1,"grid-container"],["headersVisibility","Column",1,"grid",3,"itemsSource","showMarquee","itemFormatter","cellEditEnded","pasted"],["grid",""],["header","ID","binding","id",3,"width"],["header","\u5546\u54c1\u540d","binding","product",3,"width"],["header","\u53d7\u6ce8\u65e5","binding","date",3,"width"],["header","\u91d1\u984d","binding","amount","format","c",3,"width"]],template:function(e,i){1&e&&(Ve(0,"div",0),Ve(1,"div",1),Ve(2,"h2"),Ka(3,"FlexGrid"),je(),je(),Ve(4,"div",2),Ve(5,"wj-flex-grid",3,4),tn("cellEditEnded",function(o){return i.cellValueChanged(o)})("pasted",function(o){return i.cellValueChanged(o)}),function(n,t){const e=$e();let i;const r=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new us("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=gs(i.type)),s=Ao(b);try{const a=hd(!1),l=o();hd(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,A(),r,l)}finally{Ao(s)}}(7,"async"),wn(8,"wj-flex-grid-filter"),wn(9,"wj-flex-grid-column",5),wn(10,"wj-flex-grid-column",6),wn(11,"wj-flex-grid-column",7),wn(12,"wj-flex-grid-column",8),je(),je(),je()),2&e&&(bn(5),Bt("itemsSource",cS(7,7,i.gridData$))("showMarquee",!0)("itemFormatter",i.itemFormatter),bn(4),Bt("width",60),bn(1),Bt("width",200),bn(1),Bt("width",120),bn(1),Bt("width",100))},directives:[vA,MA,wA],pipes:[Nx],styles:[".main-container{padding-left:1rem;padding-right:1rem;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;overflow:auto}.title-container{flex:0 0 auto}.grid-container{flex:0 3 auto;height:100%;position:relative;margin-bottom:1rem}.grid{width:100%;height:100%;position:absolute}\n"],encapsulation:2}),n})(),pathMatch:"full"}];let R4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[sT.forRoot(A4)],sT]}),n})();function Zt(n){return null!=n&&"false"!=`${n}`}function Ks(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function TA(n){return Array.isArray(n)?n:[n]}function Ys(n){return n instanceof re?n.nativeElement:n}function IA(n){return t=>t.lift(new O4(n))}class O4{constructor(t){this.total=t}call(t,e){return e.subscribe(new k4(t,this.total))}}class k4 extends lt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const xv=new Pr(gf);function Ff(n,t=xv){return e=>e.lift(new F4(n,t))}class F4{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new N4(t,this.dueTime,this.scheduler))}}class N4 extends lt{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(L4,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function L4(n){n.debouncedNext()}let Mv;try{Mv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Mv=!1}let Ru,Nf,Qs,Iv,Mn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===Vx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(C(al))},n.\u0275prov=z({factory:function(){return new n(C(al))},token:n,providedIn:"root"}),n})(),Au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({}),n})();function Tv(n){return function(){if(null==Ru&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ru=!0}))}finally{Ru=Ru||!1}return Ru}()?n:!!n.capture}function Pu(){if("object"!=typeof document||!document)return 0;if(null==Nf){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Nf=0,0===n.scrollLeft&&(n.scrollLeft=1,Nf=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return Nf}function Ou(n){return n.composedPath?n.composedPath()[0]:n.target}let U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({}),n})();const RA=new Set;let Ll,PA=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$4}matchMedia(e){return this._platform.WEBKIT&&function(n){if(!RA.has(n))try{Ll||(Ll=document.createElement("style"),Ll.setAttribute("type","text/css"),document.head.appendChild(Ll)),Ll.sheet&&(Ll.sheet.insertRule(`@media ${n} {.fx-query-test{ }}`,0),RA.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(C(Mn))},n.\u0275prov=z({factory:function(){return new n(C(Mn))},token:n,providedIn:"root"}),n})();function $4(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let W4=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ee}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return OA(TA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=J_(OA(TA(e)).map(s=>this._registerQuery(s).observable));return o=Ph(o.pipe(mo(1)),o.pipe(IA(1),Ff(0))),o.pipe(me(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Ne(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Wo(i),me(({matches:s})=>({query:e,matches:s})),Lt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(C(PA),C(ae))},n.\u0275prov=z({factory:function(){return new n(C(PA),C(ae))},token:n,providedIn:"root"}),n})();function OA(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Lf(n,t,e,i){return Kl(e)&&(i=e,e=void 0),i?Lf(n,t,e).pipe(me(r=>aa(r)?i(...r):i(r))):new Ne(r=>{kA(n,t,function(s){r.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},r,e)})}function kA(n,t,e,i,r){let o;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const s=n;n.addEventListener(t,e,r),o=()=>s.removeEventListener(t,e,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const s=n;n.on(t,e),o=()=>s.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const s=n;n.addListener(t,e),o=()=>s.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let s=0,a=n.length;s<a;s++)kA(n[s],t,e,i,r)}i.add(o)}new class extends Pr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,o=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<o&&(t=e.shift()));if(this.active=!1,i){for(;++r<o&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends gf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});class t5{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new n5(t,this.durationSelector))}}class n5 extends Jl{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=Zl(e,new Ql(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function FA(n){return!aa(n)&&n-parseFloat(n)+1>=0}function r5(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function Av(n,t=xv){return function(n){return function(e){return e.lift(new t5(n))}}(()=>function(n=0,t,e){let i=-1;return FA(t)?i=Number(t)<1?1:Number(t):la(t)&&(e=t),la(e)||(e=xv),new Ne(r=>{const o=FA(n)?n:+n-e.now();return e.schedule(r5,o,{index:0,period:i,subscriber:r})})}(n,t))}const NA=new q("cdk-dir-doc",{providedIn:"root",factory:function(){return pg(ye)}});let Vf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new rt,e){const r=e.documentElement?e.documentElement.dir:null,o=(e.body?e.body.dir:null)||r;this.value="ltr"===o||"rtl"===o?o:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(C(NA,8))},n.\u0275prov=z({factory:function(){return new n(C(NA,8))},token:n,providedIn:"root"}),n})(),jf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({}),n})(),Hf=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ee,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ne(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Av(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ee()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Xn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ys(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(C(ae),C(Mn),C(ye,8))},n.\u0275prov=z({factory:function(){return new n(C(ae),C(Mn),C(ye,8))},token:n,providedIn:"root"}),n})(),Vl=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Ee,this._elementScrolled=new Ne(s=>this.ngZone.runOutsideAngular(()=>Lf(this.elementRef.nativeElement,"scroll").pipe(Lt(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Pu()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Pu()?e.left=e.right:1==Pu()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function(){if(null==Qs){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qs=!1,Qs;if("scrollBehavior"in document.documentElement.style)Qs=!0;else{const n=Element.prototype.scrollTo;Qs=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qs}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==Pu()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Pu()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(b(re),b(Hf),b(ae),b(Vf,8))},n.\u0275dir=U({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),HA=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ee,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Av(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(C(Mn),C(ae),C(ye,8))},n.\u0275prov=z({factory:function(){return new n(C(Mn),C(ae),C(ye,8))},token:n,providedIn:"root"}),n})(),Bf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({}),n})();let QA=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===ZA(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=ZA(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||JA(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(C(Mn))},n.\u0275prov=z({factory:function(){return new n(C(Mn))},token:n,providedIn:"root"}),n})();function JA(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function ZA(n){if(!JA(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class J5{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(mo(1)).subscribe(t)}}let XA=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new J5(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(C(QA),C(ae),C(ye))},n.\u0275prov=z({factory:function(){return new n(C(QA),C(ae),C(ye))},token:n,providedIn:"root"}),n})();function e1(n){return 0===n.offsetX&&0===n.offsetY}function t1(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const n1=new q("cdk-input-modality-detector-options"),n6={ignoreKeys:[18,17,224,91,16]},jl=Tv({passive:!0,capture:!0});let r1=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Wi(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===s.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ou(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(e1(s)?"keyboard":"mouse"),this._mostRecentTarget=Ou(s))},this._onTouchstart=s=>{t1(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ou(s))},this._options=Object.assign(Object.assign({},n6),o),this.modalityDetected=this._modality.pipe(IA(1)),this.modalityChanged=this.modalityDetected.pipe(yf()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,jl),r.addEventListener("mousedown",this._onMousedown,jl),r.addEventListener("touchstart",this._onTouchstart,jl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,jl),document.removeEventListener("mousedown",this._onMousedown,jl),document.removeEventListener("touchstart",this._onTouchstart,jl))}}return n.\u0275fac=function(e){return new(e||n)(C(Mn),C(ae),C(ye),C(n1,8))},n.\u0275prov=z({factory:function(){return new n(C(Mn),C(ae),C(ye),C(n1,8))},token:n,providedIn:"root"}),n})();const a1=new q("cdk-focus-monitor-default-options"),zf=Tv({passive:!0,capture:!0});let Fu=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ee,this._rootNodeFocusAndBlurListener=a=>{const l=Ou(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,i=!1){const r=Ys(e);if(!this._platform.isBrowser||1!==r.nodeType)return ee(null);const o=function(n){if(function(){if(null==Iv){const n="undefined"!=typeof document?document.head:null;Iv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Iv}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Ee,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Ys(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Ys(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,i,r){r?e.classList.add(i):e.classList.remove(i)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){this._toggleClass(e,"cdk-focused",!!i),this._toggleClass(e,"cdk-touch-focused","touch"===i),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(e,"cdk-mouse-focused","mouse"===i),this._toggleClass(e,"cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Ou(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,zf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,zf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Lt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(C(ae),C(Mn),C(r1),C(ye,8),C(a1,8))},n.\u0275prov=z({factory:function(){return new n(C(ae),C(Mn),C(r1),C(ye,8),C(a1,8))},token:n,providedIn:"root"}),n})();const l1="cdk-high-contrast-black-on-white",c1="cdk-high-contrast-white-on-black",Pv="cdk-high-contrast-active";let u1=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Pv),e.remove(l1),e.remove(c1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Pv),e.add(l1)):2===i&&(e.add(Pv),e.add(c1))}}}return n.\u0275fac=function(e){return new(e||n)(C(Mn),C(ye))},n.\u0275prov=z({factory:function(){return new n(C(Mn),C(ye))},token:n,providedIn:"root"}),n})();const d1=new zo("12.2.5");class h1{}const Mo="*";function s6(n,t){return{type:7,name:n,definitions:t,options:{}}}function f1(n,t=null){return{type:4,styles:t,timings:n}}function p1(n,t=null){return{type:2,steps:n,options:t}}function Uf(n){return{type:6,styles:n,offset:null}}function g1(n,t,e){return{type:0,name:n,styles:t,options:e}}function m1(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function _1(n){Promise.resolve(null).then(n)}class Hl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class y1{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?_1(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function v1(){return"undefined"!=typeof window&&void 0!==window.document}function kv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function os(n){switch(n.length){case 0:return new Hl;case 1:return n[0];default:return new y1(n)}}function b1(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let g=p,m=u[p];if("offset"!==p)switch(g=t.normalizePropertyName(g,s),m){case"!":m=r[p];break;case Mo:m=o[p];break;default:m=t.normalizeStyleValue(p,g,m,s)}f[g]=m}),h||a.push(f),c=f,l=d}),s.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${s.join(u)}`)}return a}function Fv(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Nv(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Nv(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Nv(e,"destroy",n)))}}function Nv(n,t,e){const i=e.totalTime,o=Lv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Lv(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ai(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function w1(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Vv=(n,t)=>!1,jv=(n,t)=>!1,C1=(n,t,e)=>[];const E1=kv();(E1||"undefined"!=typeof Element)&&(Vv=v1()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),jv=(()=>{if(E1||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):jv}})(),C1=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let o=0;o<r.length;o++)i.push(r[o])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let Js=null,D1=!1;function Hv(n){Js||(Js=("undefined"!=typeof document?document.body:null)||{},D1=!!Js.style&&"WebkitAppearance"in Js.style);let t=!0;return Js.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Js.style,!t&&D1&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Js.style)),t}const Bv=jv,zv=Vv,Uv=C1;function S1(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let x1=(()=>{class n{validateStyleProperty(e){return Hv(e)}matchesElement(e,i){return Bv(e,i)}containsElement(e,i){return zv(e,i)}query(e,i,r){return Uv(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Hl(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Gf{}Gf.NOOP=new x1;const Gv="ng-enter",$f="ng-leave",Wf="ng-trigger",qf=".ng-trigger",T1="ng-animating",$v=".ng-animating";function Zs(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Wv(parseFloat(t[1]),t[2])}function Wv(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Kf(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=Wv(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Wv(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:o,easing:s}}(n,t,e)}function Bl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ss(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Bl(n,e);return e}function A1(n,t,e){return e?t+":"+e+";":""}function R1(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=A1(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=A1(0,p6(e),n.style[e]));n.setAttribute("style",t)}function eo(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Kv(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),kv()&&R1(n))}function Xs(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Kv(e);n.style[i]=""}),kv()&&R1(n))}function Nu(n){return Array.isArray(n)?1==n.length?n[0]:p1(n):n}const qv=new RegExp("{{\\s*(.+?)\\s*}}","g");function P1(n){let t=[];if("string"==typeof n){let e;for(;e=qv.exec(n);)t.push(e[1]);qv.lastIndex=0}return t}function Yf(n,t,e){const i=n.toString(),r=i.replace(qv,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(`Please provide a value for the animation param ${s}`),a=""),a.toString()});return r==i?n:r}function Qf(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const f6=/-+([a-z0-9])/g;function Kv(n){return n.replace(f6,(...t)=>t[1].toUpperCase())}function p6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function O1(n,t){return 0===n||0===t}function k1(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=Yv(n,l)})}}return t}function Ri(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Yv(n,t){return window.getComputedStyle(n)[t]}function g6(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],o=i[2],s=i[3];t.push(F1(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(F1(s,r))}(i,e,t)):e.push(n),e}const Zf=new Set(["true","1"]),Xf=new Set(["false","0"]);function F1(n,t){const e=Zf.has(n)||Xf.has(n),i=Zf.has(t)||Xf.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Zf.has(n):Xf.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Zf.has(t):Xf.has(t)),s&&a}}const y6=new RegExp("s*:selfs*,?","g");function Qv(n,t,e){return new v6(n).build(t,e)}class v6{constructor(t){this._driver=t}build(t,e){const i=new C6(e);return this._resetContextStyleTimingState(i),Ri(this,Nu(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};if(i.styles.forEach(a=>{if(ep(a)){const l=a;Object.keys(l).forEach(c=>{P1(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size){const a=Qf(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ri(this,Nu(t.animation),e);return{type:1,matchers:g6(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ea(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ri(this,i,e)),options:ea(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Ri(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:ea(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Jv(Kf(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Jv(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||Kf(i,t),Jv(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Uf({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Uf(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==Mo?i.push(s):e.errors.push(`The provided style string value ${s} is not allowed.`):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(ep(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${r}ms"`),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=P1(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(y=>{const _=this._makeStyleAst(y,e);let v=null!=_.offset?_.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(ep(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(ep(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(_.styles),w=0;return null!=v&&(o++,w=_.offset=v),l=l||w<0||w>1,a=a||w<c,c=w,s.push(w),_});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(h=1/(d-1));const f=d-1,p=e.currentTime,g=e.currentAnimateTimings,m=g.duration;return u.forEach((y,_)=>{const v=h>0?_==f?1:h*_:s[_],w=v*m;e.currentTime=p+g.delay+w,g.duration=w,this._validateStyleAst(y,e),y.offset=v,i.styles.push(y)}),i}visitReference(t,e){return{type:8,animation:Ri(this,Nu(t.animation),e),options:ea(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ea(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ea(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(y6,"")),[n=n.replace(/@\*/g,qf).replace(/@\w+/g,e=>qf+"-"+e.substr(1)).replace(/:animating/g,$v),t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ai(e.collectedStyles,e.currentQuerySelector,{});const a=Ri(this,Nu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:ea(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Kf(t.timings,e.errors,!0);return{type:12,animation:Ri(this,Nu(t.animation),e),timings:i,options:null}}}class C6{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ep(n){return!Array.isArray(n)&&"object"==typeof n}function ea(n){return n?(n=Bl(n)).params&&(n.params=function(n){return n?Bl(n):null}(n.params)):n={},n}function Jv(n,t,e){return{duration:n,delay:t,easing:e}}function Zv(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class tp{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const M6=new RegExp(":enter","g"),I6=new RegExp(":leave","g");function Xv(n,t,e,i,r,o={},s={},a,l,c=[]){return(new A6).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class A6{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new tp;const d=new eb(t,e,c,r,o,u,[]);d.options=l,d.currentTimeline.setStyles([s],null,d.errors,l),Ri(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[Zv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Zs(i.duration):null,a=null!=i.delay?Zs(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ri(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=np);const s=Zs(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ri(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Zs(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ri(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Kf(e.params?Yf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Zs(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=np);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Ri(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Ri(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const np={};class eb{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=np,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new ip(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Zs(i.duration)),null!=i.delay&&(r.delay=Zs(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Yf(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new eb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=np,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new R6(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(M6,"."+this._enterClassName)).replace(I6,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class ip{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ip(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Mo,this._currentKeyframe[e]=Mo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Mo})):ss(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Yf(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Mo),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ss(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?t.add(u):d==Mo&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Qf(t.values()):[],s=e.size?Qf(e.values()):[];if(i){const a=r[0],l=Bl(a);a.offset=0,l.offset=1,r=[a,l]}return Zv(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class R6 extends ip{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=ss(t[0],!1);l.offset=0,o.push(l);const c=ss(t[0],!1);c.offset=V1(a),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=ss(t[d],!1);h.offset=V1((e+h.offset*i)/s),o.push(h)}i=s,e=0,r="",t=o}return Zv(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function V1(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class tb{}class O6 extends tb{normalizePropertyName(t,e){return Kv(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(k6[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return s+o}}const k6=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function j1(n,t,e,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const nb={};class H1{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||nb,p=this.buildStyles(i,a&&a.params||nb,d),g=l&&l.params||nb,m=this.buildStyles(r,g,d),y=new Set,_=new Map,v=new Map,w="void"===r,D={params:Object.assign(Object.assign({},h),g)},T=u?[]:Xv(t,e,this.ast.animation,o,s,p,m,D,c,d);let S=0;if(T.forEach(j=>{S=Math.max(j.duration+j.delay,S)}),d.length)return j1(e,this._triggerName,i,r,w,p,m,[],[],_,v,S,d);T.forEach(j=>{const B=j.element,Z=Ai(_,B,{});j.preStyleProps.forEach(Q=>Z[Q]=!0);const I=Ai(v,B,{});j.postStyleProps.forEach(Q=>I[Q]=!0),B!==e&&y.add(B)});const P=Qf(y.values());return j1(e,this._triggerName,i,r,w,p,m,T,P,_,v,S)}}class L6{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Bl(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Yf(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class j6{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new L6(r.style,r.options&&r.options.params||{},i)}),B1(this.states,"true","1"),B1(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new H1(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new H1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function B1(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const B6=new tp;class z6{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=Qv(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,o=b1(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=Xv(this._driver,e,o,Gv,$f,{},{},i,B6,r),s.forEach(u=>{const d=Ai(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Mo)})});const c=os(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const o=Lv(e,"","","");return Fv(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const z1="ng-animate-queued",U1="ng-animate-disabled",G1=".ng-animate-disabled",W6=[],$1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nr="__ng_removed";class ib{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const o=Bl(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Lu="void",rb=new ib(Lu);class K6{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ir(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const o=Ai(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Ai(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ir(t,Wf),ir(t,Wf+"-"+e),a[e]=rb),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new ob(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ir(t,Wf),ir(t,Wf+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new ib(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=rb),c.value!==Lu&&l.value===c.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const g=[],m=o.matchStyles(l.value,l.params,g),y=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Xs(t,m),eo(t,y)})}return}const h=Ai(this._engine.playersByElement,t,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==e&&g.queued&&g.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(ir(t,z1),s.onStart(()=>{zl(t,z1)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(t);if(m){let y=m.indexOf(s);y>=0&&m.splice(y,1)}}),this.players.push(s),h.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,qf,!0);i.forEach(r=>{if(r[nr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t);if(o){const s=[];if(Object.keys(o).forEach(a=>{if(this._triggers[a]){const l=this.trigger(t,a,Lu,r);l&&s.push(l)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&os(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||rb,u=new ib(Lu),d=new ob(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[nr];(!o||o===$1)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ir(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Lv(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Fv(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Y6{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new K6(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(rp(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!rp(e))return;const o=e[nr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ir(t,U1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),zl(t,U1))}removeNode(t,e,i,r){if(rp(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[nr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,o){return rp(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,qf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$v,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return os(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[nr];if(e&&e.setForRemoval){if(t[nr]=$1,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,G1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,G1,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ir(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?os(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new tp,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const L=this.driver.query(O,".ng-animate-queued",!0);for(let W=0;W<L.length;W++)u.add(L[W])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=K1(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((O,L)=>{const W=Gv+g++;p.set(L,W),O.forEach(ce=>ir(ce,W))});const m=[],y=new Set,_=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const L=this.collectedLeaveElements[O],W=L[nr];W&&W.setForRemoval&&(m.push(L),y.add(L),W.hasAnimation?this.driver.query(L,".ng-star-inserted",!0).forEach(ce=>y.add(ce)):_.add(L))}const v=new Map,w=K1(h,Array.from(y));w.forEach((O,L)=>{const W=$f+g++;v.set(L,W),O.forEach(ce=>ir(ce,W))}),t.push(()=>{f.forEach((O,L)=>{const W=p.get(L);O.forEach(ce=>zl(ce,W))}),w.forEach((O,L)=>{const W=v.get(L);O.forEach(ce=>zl(ce,W))}),m.forEach(O=>{this.processLeaveNode(O)})});const D=[],T=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(W=>{const ce=W.player,Ge=W.element;if(D.push(ce),this.collectedEnterElements.length){const Fn=Ge[nr];if(Fn&&Fn.setForMove)return void ce.destroy()}const kn=!d||!this.driver.containsElement(d,Ge),ln=v.get(Ge),yn=p.get(Ge),ct=this._buildInstruction(W,i,yn,ln,kn);if(ct.errors&&ct.errors.length)T.push(ct);else{if(kn)return ce.onStart(()=>Xs(Ge,ct.fromStyles)),ce.onDestroy(()=>eo(Ge,ct.toStyles)),void r.push(ce);if(W.isFallbackTransition)return ce.onStart(()=>Xs(Ge,ct.fromStyles)),ce.onDestroy(()=>eo(Ge,ct.toStyles)),void r.push(ce);ct.timelines.forEach(Fn=>Fn.stretchStartingKeyframe=!0),i.append(Ge,ct.timelines),s.push({instruction:ct,player:ce,element:Ge}),ct.queriedElements.forEach(Fn=>Ai(a,Fn,[]).push(ce)),ct.preStyleProps.forEach((Fn,Or)=>{const Un=Object.keys(Fn);if(Un.length){let kr=l.get(Or);kr||l.set(Or,kr=new Set),Un.forEach(ls=>kr.add(ls))}}),ct.postStyleProps.forEach((Fn,Or)=>{const Un=Object.keys(Fn);let kr=c.get(Or);kr||c.set(Or,kr=new Set),Un.forEach(ls=>kr.add(ls))})}});if(T.length){const O=[];T.forEach(L=>{O.push(`@${L.triggerName} has failed due to:\n`),L.errors.forEach(W=>O.push(`- ${W}\n`))}),D.forEach(L=>L.destroy()),this.reportError(O)}const S=new Map,P=new Map;s.forEach(O=>{const L=O.element;i.has(L)&&(P.set(L,L),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,S))}),r.forEach(O=>{const L=O.element;this._getPreviousPlayers(L,!1,O.namespaceId,O.triggerName,null).forEach(ce=>{Ai(S,L,[]).push(ce),ce.destroy()})});const j=m.filter(O=>Q1(O,l,c)),B=new Map;q1(B,this.driver,_,c,Mo).forEach(O=>{Q1(O,l,c)&&j.push(O)});const I=new Map;f.forEach((O,L)=>{q1(I,this.driver,new Set(O),l,"!")}),j.forEach(O=>{const L=B.get(O),W=I.get(O);B.set(O,Object.assign(Object.assign({},L),W))});const Q=[],Ue=[],Vt={};s.forEach(O=>{const{element:L,player:W,instruction:ce}=O;if(i.has(L)){if(u.has(L))return W.onDestroy(()=>eo(L,ce.toStyles)),W.disabled=!0,W.overrideTotalTime(ce.totalTime),void r.push(W);let Ge=Vt;if(P.size>1){let ln=L;const yn=[];for(;ln=ln.parentNode;){const ct=P.get(ln);if(ct){Ge=ct;break}yn.push(ln)}yn.forEach(ct=>P.set(ct,Ge))}const kn=this._buildAnimation(W.namespaceId,ce,S,o,I,B);if(W.setRealPlayer(kn),Ge===Vt)Q.push(W);else{const ln=this.playersByElement.get(Ge);ln&&ln.length&&(W.parentPlayer=os(ln)),r.push(W)}}else Xs(L,ce.fromStyles),W.onDestroy(()=>eo(L,ce.toStyles)),Ue.push(W),u.has(L)&&r.push(W)}),Ue.forEach(O=>{const L=o.get(O.element);if(L&&L.length){const W=os(L);O.setRealPlayer(W)}}),r.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<m.length;O++){const L=m[O],W=L[nr];if(zl(L,$f),W&&W.hasAnimation)continue;let ce=[];if(a.size){let kn=a.get(L);kn&&kn.length&&ce.push(...kn);let ln=this.driver.query(L,$v,!0);for(let yn=0;yn<ln.length;yn++){let ct=a.get(ln[yn]);ct&&ct.length&&ce.push(...ct)}}const Ge=ce.filter(kn=>!kn.destroyed);Ge.length?X6(this,L,Ge):this.processLeaveNode(L)}return m.length=0,Q.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const L=this.players.indexOf(O);this.players.splice(L,1)}),O.play()}),Q}elementContainsData(t,e){let i=!1;const r=e[nr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Lu;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=Ai(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Xs(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const g=p.element;u.add(g);const m=g[nr];if(m&&m.removedBeforeQueried)return new Hl(p.duration,p.delay);const y=g!==l,_=function(n){const t=[];return Y1(n,t),t}((i.get(g)||W6).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===g),v=o.get(g),w=s.get(g),D=b1(0,this._normalizer,0,p.keyframes,v,w),T=this._buildPlayer(p,D,_);if(p.subTimeline&&r&&d.add(g),y){const S=new ob(t,a,g);S.setRealPlayer(T),c.push(S)}return T});c.forEach(p=>{Ai(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ir(p,T1));const f=os(h);return f.onDestroy(()=>{u.forEach(p=>zl(p,T1)),eo(l,e.toStyles)}),d.forEach(p=>{Ai(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Hl(t.duration,t.delay)}}class ob{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Hl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Fv(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ai(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rp(n){return n&&1===n.nodeType}function W1(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function q1(n,t,e,i,r){const o=[];e.forEach(l=>o.push(W1(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=t.computeStyle(c,d,r);(!h||0==h.length)&&(c[nr]=q6,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>W1(l,o[a++])),s}function K1(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}const op="$$classes";function ir(n,t){if(n.classList)n.classList.add(t);else{let e=n[op];e||(e=n[op]={}),e[t]=!0}}function zl(n,t){if(n.classList)n.classList.remove(t);else{let e=n[op];e&&delete e[t]}}function X6(n,t,e){os(e).onDone(()=>n.processLeaveNode(t))}function Y1(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof y1?Y1(i.players,t):t.push(i)}}function Q1(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class sp{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Y6(t,e,i),this._timelineEngine=new z6(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],c=Qv(this._driver,o,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,t,e){return new j6(n,t,e)}(r,c,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=w1(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=w1(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function J1(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=sb(t[0]),t.length>1&&(i=sb(t[t.length-1]))):t&&(e=sb(t)),e||i?new Ul(n,e,i):null}class Ul{constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=Ul.initialStylesByElement.get(t);r||Ul.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&eo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eo(this._element,this._initialStyles),this._endStyles&&(eo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ul.initialStylesByElement.delete(this._element),this._startStyles&&(Xs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xs(this._element,this._endStyles),this._endStyles=null),eo(this._element,this._initialStyles),this._state=3)}}function sb(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];nK(r)&&(t=t||{},t[r]=n[r])}return t}function nK(n){return"display"===n||"position"===n}Ul.initialStylesByElement=new WeakMap;const Z1="animation",X1="animationend";class oK{constructor(t,e,i,r,o,s,a){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=lb(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),ap(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nR(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){eR(this._element,this._name,"paused")}resume(){eR(this._element,this._name,"running")}setPosition(t){const e=tR(this._element,this._name);this._position=t*this._duration,ap(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nR(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=lb(n,"").split(","),r=ab(i,t);r>=0&&(i.splice(r,1),ap(n,"",i.join(",")))}(this._element,this._name))}}function eR(n,t,e){ap(n,"PlayState",e,tR(n,t))}function tR(n,t){const e=lb(n,"");return e.indexOf(",")>0?ab(e.split(","),t):ab([e],t)}function ab(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function nR(n,t,e){e?n.removeEventListener(X1,t):n.addEventListener(X1,t)}function ap(n,t,e,i){const r=Z1+t;if(null!=i){const o=n.style[r];if(o.length){const s=o.split(",");s[i]=e,e=s.join(",")}}n.style[r]=e}function lb(n,t){return n.style[Z1+t]||""}class iR{constructor(t,e,i,r,o,s,a,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new oK(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Yv(this.element,i))})}this.currentSnapshot=t}}class dK extends Hl{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=S1(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class oR{constructor(){this._count=0}validateStyleProperty(t){return Hv(t)}matchesElement(t,e){return Bv(t,e)}containsElement(t,e){return zv(t,e)}query(t,e,i){return Uv(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>S1(a));let r=`@keyframes ${e} {\n`,o="";i.forEach(a=>{o=" ";const l=parseFloat(a.offset);r+=`${o}${100*l}% {\n`,o+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(r+=`${o}animation-timing-function: ${u};\n`));default:return void(r+=`${o}${c}: ${u};\n`)}}),r+=`${o}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,i,r,o,s=[],a){const l=s.filter(m=>m instanceof iR),c={};O1(i,r)&&l.forEach(m=>{let y=m.currentSnapshot;Object.keys(y).forEach(_=>c[_]=y[_])});const u=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=k1(t,e,c));if(0==i)return new dK(t,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,d,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(h);const p=J1(t,e),g=new iR(t,e,d,i,r,o,u,p);return g.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),g}}class aR{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Yv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class mK{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(lR().toString()),this._cssKeyframesDriver=new oR}validateStyleProperty(t){return Hv(t)}matchesElement(t,e){return Bv(t,e)}containsElement(t,e){return zv(t,e)}query(t,e,i){return Uv(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,o,s=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,o,s);const u={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(u.easing=o);const d={},h=s.filter(p=>p instanceof aR);O1(i,r)&&h.forEach(p=>{let g=p.currentSnapshot;Object.keys(g).forEach(m=>d[m]=g[m])});const f=J1(t,e=k1(t,e=e.map(p=>ss(p,!1)),d));return new aR(t,e,u,f)}}function lR(){return v1()&&Element.prototype.animate||{}}let yK=(()=>{class n extends h1{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Xt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?p1(e):e;return cR(this._renderer,null,i,"register",[r]),new vK(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(C(Ds),C(ye))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class vK extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new bK(this._id,t,e||{},this._renderer)}}class bK{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return cR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function cR(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const uR="@.disabled";let wK=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{s&&s.parentNode(o)&&s.removeChild(o.parentNode,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new dR("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new CK(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(C(Ds),C(sp),C(ae))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class dR{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==uR?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class CK extends dR{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==uR?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let SK=(()=>{class n extends sp{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(C(ye),C(Gf),C(tb))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const ta=new q("AnimationModuleType"),hR=[{provide:h1,useClass:yK},{provide:tb,useFactory:function(){return new O6}},{provide:sp,useClass:SK},{provide:Ds,useFactory:function(n,t,e){return new wK(n,t,e)},deps:[Ah,sp,ae]}],fR=[{provide:Gf,useFactory:function(){return"function"==typeof lR()?new mK:new oR}},{provide:ta,useValue:"BrowserAnimations"},...hR],pR=[{provide:Gf,useClass:x1},{provide:ta,useValue:"NoopAnimations"},...hR];let IK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?pR:fR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({providers:fR,imports:[Y_]}),n})();const gR=new zo("12.2.5"),NK=new q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let na,Tn=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!u_()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&gR.full!==d1.full&&console.warn("The Angular Material version ("+gR.full+") does not match the Angular CDK version ("+d1.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(C(u1),C(NK,8),C(ye))},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[jf],jf]}),n})();function cb(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Zt(t)}}}function ub(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Vu(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Zt(t)}}}try{na="undefined"!=typeof Intl}catch(n){na=!1}let vR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[Tn],Tn]}),n})();class KK{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bR={enterDuration:225,exitDuration:150},db=Tv({passive:!0}),wR=["mousedown","touchstart"],CR=["mouseup","mouseleave","touchend","touchcancel"];class QK{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ys(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},bR),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new KK(this,u,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},bR),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.parentNode.removeChild(i)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ys(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(wR))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(CR),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=e1(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!t1(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,db)})})}_removeTriggerEvents(){this._triggerElement&&(wR.forEach(t=>{this._triggerElement.removeEventListener(t,this,db)}),this._pointerUpEventsRegistered&&CR.forEach(t=>{this._triggerElement.removeEventListener(t,this,db)}))}}const XK=new q("mat-ripple-global-options");let Gl=(()=>{class n{constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new QK(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(b(re),b(ae),b(Mn),b(XK,8),b(ta,8))},n.\u0275dir=U({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&wt("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),hb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[Tn,Au],Tn]}),n})(),fb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[Tn]]}),n})();function MR(n){return t=>t.lift(new oY(n))}class oY{constructor(t){this.value=t}call(t,e){return e.subscribe(new sY(t,this.value))}}class sY extends lt{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const up=["*"];function aY(n,t){if(1&n){const e=_m();Ve(0,"div",2),tn("click",function(){return Yp(e),Ho()._onBackdropClicked()}),je()}2&n&&wt("mat-drawer-shown",Ho()._isShowingBackdrop())}function lY(n,t){1&n&&(Ve(0,"mat-drawer-content"),Qe(1,2),je())}const cY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uY=["mat-drawer","mat-drawer-content","*"];function dY(n,t){if(1&n){const e=_m();Ve(0,"div",2),tn("click",function(){return Yp(e),Ho()._onBackdropClicked()}),je()}2&n&&wt("mat-drawer-shown",Ho()._isShowingBackdrop())}function hY(n,t){1&n&&(Ve(0,"mat-sidenav-content",3),Qe(1,2),je())}const fY=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],pY=["mat-sidenav","mat-sidenav-content","*"],TR=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",IR={transformDrawer:s6("transform",[g1("open, open-instant",Uf({transform:"none",visibility:"visible"})),g1("void",Uf({"box-shadow":"none",visibility:"hidden"})),m1("void => open-instant",f1("0ms")),m1("void <=> open, open-instant => void",f1("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},gY=new q("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),pb=new q("MAT_DRAWER_CONTAINER");let dp=(()=>{class n extends Vl{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(b(Cn),b(Le(()=>RR)),b(re),b(Hf),b(ae))},n.\u0275cmp=nt({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&qa("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[we],ngContentSelectors:up,decls:1,vars:0,template:function(e,i){1&e&&(Pt(),Qe(0))},encapsulation:2,changeDetection:0}),n})(),AR=(()=>{class n{constructor(e,i,r,o,s,a,l){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._doc=a,this._container=l,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ee,this._animationEnd=new Ee,this._animationState="void",this.openedChange=new rt(!0),this._openedStream=this.openedChange.pipe(Xn(c=>c),me(()=>{})),this.openedStart=this._animationStarted.pipe(Xn(c=>c.fromState!==c.toState&&0===c.toState.indexOf("open")),MR(void 0)),this._closedStream=this.openedChange.pipe(Xn(c=>!c),me(()=>{})),this.closedStart=this._animationStarted.pipe(Xn(c=>c.fromState!==c.toState&&"void"===c.toState),MR(void 0)),this._destroyed=new Ee,this.onPositionChanged=new rt,this._modeChanged=new Ee,this.openedChange.subscribe(c=>{c?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Lf(this._elementRef.nativeElement,"keydown").pipe(Xn(c=>27===c.keyCode&&!this.disableClose&&!function(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(c)),Lt(this._destroyed)).subscribe(c=>this._ngZone.run(()=>{this.close(),c.stopPropagation(),c.preventDefault()}))}),this._animationEnd.pipe(yf((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{const{fromState:u,toState:d}=c;(0===d.indexOf("open")&&"void"===u||"void"===d&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Zt(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Zt(e)}get opened(){return this._opened}set opened(e){this.toggle(Zt(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,i){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),i)}_setOpen(e,i,r="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=r):(this._animationState="void",i&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(mo(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return n.\u0275fac=function(e){return new(e||n)(b(re),b(XA),b(Fu),b(Mn),b(ae),b(ye,8),b(pb,8))},n.\u0275cmp=nt({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&ym("@transform.start",function(o){return i._animationStartListener(o)})("@transform.done",function(o){return i._animationDoneListener(o)}),2&e&&(Wt("align",null),Cm("@transform",i._animationState),wt("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:up,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(Pt(),Ve(0,"div",0),Qe(1),je())},directives:[Vl],encapsulation:2,data:{animation:[IR.transformDrawer]},changeDetection:0}),n})(),RR=(()=>{class n{constructor(e,i,r,o,s,a=!1,l){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new Ms,this.backdropClick=new rt,this._destroyed=new Ee,this._doCheckSubject=new Ee,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ee,e&&e.change.pipe(Lt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Lt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Zt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Zt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Wo(this._allDrawers),Lt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Wo(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ff(10),Lt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Xn(i=>i.fromState!==i.toState),Lt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Lt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Lt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(mo(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Lt(Nb(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(b(Vf,8),b(re),b(ae),b(Cn),b(HA),b(gY),b(ta,8))},n.\u0275cmp=nt({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(Qn(r,dp,5),Qn(r,AR,5)),2&e){let o;fn(o=pn())&&(i._content=o.first),fn(o=pn())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&qc(dp,5),2&e){let r;fn(r=pn())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&wt("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ie([{provide:pb,useExisting:n}])],ngContentSelectors:uY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(Pt(cY),jo(0,aY,1,2,"div",0),Qe(1),Qe(2,1),jo(3,lY,2,0,"mat-drawer-content",1)),2&e&&(Bt("ngIf",i.hasBackdrop),bn(3),Bt("ngIf",!i._content))},directives:[iu,dp],styles:[TR],encapsulation:2,changeDetection:0}),n})(),gb=(()=>{class n extends dp{constructor(e,i,r,o,s){super(e,i,r,o,s)}}return n.\u0275fac=function(e){return new(e||n)(b(Cn),b(Le(()=>PR)),b(re),b(Hf),b(ae))},n.\u0275cmp=nt({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&qa("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[we],ngContentSelectors:up,decls:1,vars:0,template:function(e,i){1&e&&(Pt(),Qe(0))},encapsulation:2,changeDetection:0}),n})(),_Y=(()=>{class n extends AR{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Zt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ks(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ks(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ln(n)))(i||n)}}(),n.\u0275cmp=nt({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(Wt("align",null),qa("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),wt("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[we],ngContentSelectors:up,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(Pt(),Ve(0,"div",0),Qe(1),je())},directives:[Vl],encapsulation:2,data:{animation:[IR.transformDrawer]},changeDetection:0}),n})(),PR=(()=>{class n extends RR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ln(n)))(i||n)}}(),n.\u0275cmp=nt({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(Qn(r,gb,5),Qn(r,_Y,5)),2&e){let o;fn(o=pn())&&(i._content=o.first),fn(o=pn())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&wt("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ie([{provide:pb,useExisting:n}]),we],ngContentSelectors:pY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(Pt(fY),jo(0,dY,1,2,"div",0),Qe(1),Qe(2,1),jo(3,hY,2,0,"mat-sidenav-content",1)),2&e&&(Bt("ngIf",i.hasBackdrop),bn(3),Bt("ngIf",!i._content))},directives:[iu,gb,Vl],styles:[TR],encapsulation:2,changeDetection:0}),n})(),yY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[hl,Tn,Au,Bf],Bf,Tn]}),n})();const vY=["*",[["mat-toolbar-row"]]],bY=["*","mat-toolbar-row"],wY=ub(class{constructor(n){this._elementRef=n}});let CY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),EY=(()=>{class n extends wY{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(b(re),b(Mn),b(ye))},n.\u0275cmp=nt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&Qn(r,CY,5),2&e){let o;fn(o=pn())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&wt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[we],ngContentSelectors:bY,decls:2,vars:0,template:function(e,i){1&e&&(Pt(vY),Qe(0),Qe(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),DY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[Tn],Tn]}),n})();const OR=["mat-button",""],kR=["*"],xY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],MY=ub(cb(Vu(class{constructor(n){this._elementRef=n}})));let NR=(()=>{class n extends MY{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of xY)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(b(re),b(Fu),b(ta,8))},n.\u0275cmp=nt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&qc(Gl,5),2&e){let r;fn(r=pn())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Wt("disabled",i.disabled||null),wt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[we],attrs:OR,ngContentSelectors:kR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Pt(),Ve(0,"span",0),Qe(1),je(),wn(2,"span",1),wn(3,"span",2)),2&e&&(bn(2),wt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Bt("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Gl],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),TY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[hb,Tn],Tn]}),n})();class LR{}class To{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof To?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new To;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof To?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class IY{encodeKey(t){return jR(t)}encodeValue(t){return jR(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const RY=/%(\d[a-f0-9])/gi,PY={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function jR(n){return encodeURIComponent(n).replace(RY,(t,e)=>{var i;return null!==(i=PY[e])&&void 0!==i?i:t})}function HR(n){return`${n}`}class as{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new IY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new as({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(HR(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(HR(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class OY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function BR(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zR(n){return"undefined"!=typeof Blob&&n instanceof Blob}function UR(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Hu{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new To),this.context||(this.context=new OY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new as,this.urlWithParams=e}serializeBody(){return null===this.body?null:BR(this.body)||zR(this.body)||UR(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof as?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UR(this.body)?null:zR(this.body)?this.body.type||null:BR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof as?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new Hu(i,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:o,withCredentials:a})}}var an=(()=>((an=an||{})[an.Sent=0]="Sent",an[an.UploadProgress=1]="UploadProgress",an[an.ResponseHeader=2]="ResponseHeader",an[an.DownloadProgress=3]="DownloadProgress",an[an.Response=4]="Response",an[an.User=5]="User",an))();class hp extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new To,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=an.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function yb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fp=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Hu)o=e;else{let l,c;l=r.headers instanceof To?r.headers:new To(r.headers),r.params&&(c=r.params instanceof as?r.params:new as({fromObject:r.params})),o=new Hu(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=ee(o).pipe(Ps(l=>this.handler.handle(l)));if(e instanceof Hu||"events"===r.observe)return s;const a=s.pipe(Xn(l=>l instanceof hp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(me(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(me(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new as).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,yb(r,i))}post(e,i,r={}){return this.request("POST",e,yb(r,i))}put(e,i,r={}){return this.request("PUT",e,yb(r,i))}}return n.\u0275fac=function(e){return new(e||n)(C(LR))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const zY=["*"];function YR(n){return Error(`Unable to find icon with the name "${n}"`)}function QR(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function JR(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ia{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let pp=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new ia(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Ye.HTML,r);if(!s)throw JR(r);return this._addSvgIconConfig(e,i,new ia("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new ia(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Ye.HTML,i);if(!o)throw JR(i);return this._addSvgIconSetConfig(e,new ia("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Ye.RESOURCE_URL,e);if(!i)throw QR(e);const r=this._cachedIconsByUrl.get(i);return r?ee(gp(r)):this._loadSvgIconFromConfig(new ia(e,null)).pipe(Rn(o=>this._cachedIconsByUrl.set(i,o)),me(o=>gp(o)))}getNamedSvgIcon(e,i=""){const r=ZR(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Ky(YR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ee(gp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(me(i=>gp(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ee(r):function(...n){if(1===n.length){const t=n[0];if(aa(t))return vf(t,null);if(xp(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return vf(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return vf(n=1===n.length&&aa(n[0])?n[0]:n,null).pipe(me(e=>t(...e)))}return vf(n,null)}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(qo(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ye.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),ee(null)})))).pipe(me(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw YR(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Rn(i=>e.svgText=i),me(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ee(null):this._fetchIcon(e).pipe(Rn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString("<svg></svg>");return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(Ye.RESOURCE_URL,r);if(!a)throw QR(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(lM(()=>this._inProgressUrlFetches.delete(a)),Vb());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(ZR(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return $Y(o)?new ia(o.url,null,o.options):new ia(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(C(fp,8),C(fl),C(ye,8),C(cr))},n.\u0275prov=z({factory:function(){return new n(C(fp,8),C(fl),C(ye,8),C(cr))},token:n,providedIn:"root"}),n})();function gp(n){return n.cloneNode(!0)}function ZR(n,t){return n+":"+t}function $Y(n){return!(!n.url||!n.options)}const WY=ub(class{constructor(n){this._elementRef=n}}),qY=new q("mat-icon-location",{providedIn:"root",factory:function(){const n=pg(ye),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QY=XR.map(n=>`[${n}]`).join(", "),JY=/^url\(['"]?#(.*?)['"]?\)$/;let ZY=(()=>{class n extends WY{constructor(e,i,r,o,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=ut.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Zt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let o=0;o<i.length;o++)i[o].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&e.removeChild(r)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(QY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)XR.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(JY):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(mo(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(b(re),b(pp),ms("aria-hidden"),b(qY),b(cr))},n.\u0275cmp=nt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Wt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),wt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[we],ngContentSelectors:zY,decls:1,vars:0,template:function(e,i){1&e&&(Pt(),Qe(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),XY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[Tn],Tn]}),n})();const e7=["*"];let t7=(()=>{class n{constructor(e){this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(me(i=>i.matches),Qy())}}return n.\u0275fac=function(e){return new(e||n)(b(W4))},n.\u0275cmp=nt({type:n,selectors:[["app-header"]],ngContentSelectors:e7,decls:12,vars:0,consts:[[1,"sidenav-container"],[1,"outer-container"],[1,"header-container"],["color","primary",1,"mat-elevation-z5"],["type","button","aria-label","Home","mat-icon-button",""],["aria-label","Example home icon"],[1,"router-outlet-container"]],template:function(e,i){1&e&&(Pt(),Ve(0,"mat-sidenav-container",0),Ve(1,"mat-sidenav-content"),Ve(2,"div",1),Ve(3,"div",2),Ve(4,"mat-toolbar",3),Ve(5,"button",4),Ve(6,"mat-icon",5),Ka(7,"home"),je(),je(),Ve(8,"span"),Ka(9,"Wijmo \u30b5\u30f3\u30d7\u30eb"),je(),je(),je(),Ve(10,"div",6),Qe(11),je(),je(),je(),je())},directives:[PR,gb,EY,NR,ZY],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;height:42px;overflow:hidden}.outer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.header-container[_ngcontent-%COMP%]{flex:0 0 auto}.router-outlet-container[_ngcontent-%COMP%]{height:100%;flex:0 3 auto;overflow:auto}"]}),n})(),n7=(()=>{class n{constructor(){this.title="flexGridDynamicResizeSample"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=nt({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&(Ve(0,"app-header"),wn(1,"router-outlet"),je())},directives:[t7,yy],styles:[""]}),n})(),i7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[Tn],Tn]}),n})(),m7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n}),n.\u0275inj=Te({imports:[[vR,hb,Tn,fb,hl],vR,Tn,fb,i7]}),n})();cn(15);let _7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ke({type:n,bootstrap:[n7]}),n.\u0275inj=Te({providers:[],imports:[[Y_,R4,IK,U4,DY,TY,yY,XY,m7,x4,I4]]}),n})();(function(){if(HS)throw new Error("Cannot enable prod mode after platform setup.");jS=!1})(),e$().bootstrapModule(_7).catch(n=>console.error(n))}},Io=>{Io(Io.s=879)}]);